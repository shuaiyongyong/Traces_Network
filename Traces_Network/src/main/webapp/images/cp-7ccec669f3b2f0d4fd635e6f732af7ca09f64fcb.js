(function(){window.console=window.console||{memory:a,debug:a,error:a,info:a,log:a,warn:a,dir:a,dirxml:a,table:a,trace:a,assert:a,count:a,markTimeline:a,profile:a,profileEnd:a,time:a,timeEnd:a,timeStamp:a,timeline:a,timelineEnd:a,group:a,groupCollapsed:a,groupEnd:a};function a(){}}());(("ui" in jQuery)&&("version" in jQuery.ui))||(function(a,d){a.ui=a.ui||{};a.extend(a.ui,{keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});function e(f){return f&&f.constructor===Number?f+"px":f}a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(f,g){return typeof f==="number"?this.each(function(){var h=this;setTimeout(function(){a(h).focus();if(g){g.call(h)}},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var f;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){f=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{f=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!f.length?a(document):f},zIndex:function(i){if(i!==d){return this.css("zIndex",i)}if(this.length){var g=a(this[0]),f,h;while(g.length&&g[0]!==document){f=g.css("position");if(f==="absolute"||f==="relative"||f==="fixed"){h=parseInt(g.css("zIndex"),10);if(!isNaN(h)&&h!==0){return h}}g=g.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(f){f.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},bgiframe:function(f){return this}});function c(h,f){var k=h.nodeName.toLowerCase();if("area"===k){var j=h.parentNode,i=j.name,g;if(!h.href||!i||j.nodeName.toLowerCase()!=="map"){return false}g=a("img[usemap=#"+i+"]")[0];return !!g&&b(g)}return(/input|select|textarea|button|object/.test(k)?!h.disabled:"a"==k?h.href||f:f)&&b(h)}function b(f){return !a(f).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.extend(a.expr[":"],{data:function(h,g,f){return !!a.data(h,f[3])},focusable:function(f){return c(f,!isNaN(a.attr(f,"tabindex")))},tabbable:function(h){var f=a.attr(h,"tabindex"),g=isNaN(f);return(g||f>=0)&&c(h,!g)}});a(function(){var f=document.body,g=f.appendChild(g=document.createElement("div"));a.extend(g.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=g.offsetHeight===100;a.support.selectstart="onselectstart" in g;f.removeChild(g).style.display="none"});a.extend(a.ui,{plugin:{add:function(g,h,k){var j=a.ui[g].prototype;for(var f in k){j.plugins[f]=j.plugins[f]||[];j.plugins[f].push([h,k[f]])}},call:function(f,h,g){var k=f.plugins[h];if(!k||!f.element[0].parentNode){return}for(var j=0;j<k.length;j++){if(f.options[k[j][0]]){k[j][1].apply(f.element,g)}}}},isOverAxis:function(g,f,h){return(g>f)&&(g<(f+h))},isOver:function(k,g,j,i,f,h){return a.ui.isOverAxis(k,j,f)&&a.ui.isOverAxis(g,i,h)}})})(jQuery);("widget" in jQuery)||(function(a,d){var c=Array.prototype.slice;var b=a.cleanData;a.cleanData=function(e){for(var f=0,g;(g=e[f])!=null;f++){a(g).triggerHandler("remove")}b(e)};a.widget=function(f,h,e){var g=f.split(".")[0],j;f=f.split(".")[1];j=g+"-"+f;if(!e){e=h;h=a.Widget}a.expr[":"][j]=function(k){return !!a.data(k,f)};a[g]=a[g]||{};a[g][f]=function(k,l){if(arguments.length){this._createWidget(k,l)}};var i=new h();i.options=a.extend(true,{},i.options);a[g][f].prototype=a.extend(true,i,{namespace:g,widgetName:f,widgetEventPrefix:a[g][f].prototype.widgetEventPrefix||f,widgetBaseClass:j},e);a.widget.bridge(f,a[g][f])};a.widget.bridge=function(f,e){a.fn[f]=function(i){var g=typeof i==="string",h=Array.prototype.slice.call(arguments,1),j=this;i=!g&&h.length?a.extend.apply(null,[true,i].concat(h)):i;if(g&&i.charAt(0)==="_"){return j}if(g){this.each(function(){var k=a.data(this,f),l=k&&a.isFunction(k[i])?k[i].apply(k,h):k;if(l!==k&&l!==d){j=l;return false}})}else{this.each(function(){var k=a.data(this,f);if(k){k.option(i||{})._init()}else{a.data(this,f,new e(i,this))}})}return j}};a.Widget=function(e,f){if(arguments.length){this._createWidget(e,f)}};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(f,g){a.data(g,this.widgetName,this);this.element=a(g);this.options=a.extend(true,{},this.options,this._getCreateOptions(),f);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},_destroy:a.noop,widget:function(){return this.element},option:function(f,g){var e=f;if(arguments.length===0){return a.extend({},this.options)}if(typeof f==="string"){if(g===d){return this.options[f]}e={};e[f]=g}this._setOptions(e);return this},_setOptions:function(f){var e=this;a.each(f,function(g,h){e._setOption(g,h)});return this},_setOption:function(e,f){this.options[e]=f;if(e==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(f,g,h){var k=this.options[f];g=a.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();h=h||{};if(g.originalEvent){for(var e=a.event.props.length,j;e;){j=a.event.props[--e];g[j]=g.originalEvent[j]}}this.element.trigger(g,h);return !(a.isFunction(k)&&k.call(this.element[0],g,h)===false||g.isDefaultPrevented())}}})(jQuery);
/* t3-jquery v 1.4.1*/
/*
Copyright 2015 Box, Inc. All rights reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   //www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
!function(b){var c={};if(c.EventTarget=function(){function d(){this._handlers={}}return d.prototype={constructor:d,on:function(h,j){var f,g,i=this._handlers[h];for("undefined"==typeof i&&(i=this._handlers[h]=[]),f=0,g=i.length;g>f;f++){if(i[f]===j){return}}i.push(j)},fire:function(j,l){var g,h,k,f={type:j,data:l};if(g=this._handlers[f.type],g instanceof Array){for(g=g.concat(),h=0,k=g.length;k>h;h++){g[h].call(this,f)}}},off:function(h,j){var f,g,i=this._handlers[h];if(i instanceof Array){for(f=0,g=i.length;g>f;f++){if(i[f]===j){i.splice(f,1);break}}}}},d}(),c.JQueryDOM=function(){return{type:"jquery",query:function(d,f){return $(d).find(f)[0]||null},queryAll:function(d,f){return $.makeArray($(d).find(f))},on:function(f,g,d){$(f).on(g,d)},off:function(f,g,d){$(f).off(g,d)}}}(),c.DOM=c.JQueryDOM,c.Context=function(){function d(f,g){this.application=f,this.element=g}return d.prototype={broadcast:function(f,g){this.application.broadcast(f,g)},getService:function(f){return this.application.getService(f)},getConfig:function(f){return this.application.getModuleConfig(this.element,f)},getGlobal:function(f){return this.application.getGlobal(f)},getGlobalConfig:function(f){return this.application.getGlobalConfig(f)},reportError:function(f){this.application.reportError(f)},getElement:function(){return this.element}},d}(),c.Application=function(){function K(f,g){for(var d in g){g.hasOwnProperty(d)&&(f[d]=g[d])}return f}function Q(d,f){return function(){return d.apply(f,arguments)}}function U(g,h){for(var d=0,f=g.length;f>d;d++){if(g[d]===h){return d}}return -1}function Y(){z={},J={},P={},R=[],n={},k={},e=!1;for(var d=0;d<L.length;d++){delete X[L[d]],delete c.Context.prototype[L[d]]}L=[]}function af(f){for(var g=0,d=R.length;d>g;g++){if(R[g]===f){return !0}}return !1}function I(d){if(z.debug){throw d}X.fire("error",{exception:d})}function ab(g,h){var d,f;for(d in g){f=g[d],"function"==typeof f&&(g[d]=function(j,i){return function(){var l=h+"."+j+"() - ";try{return i.apply(this,arguments)}catch(m){m.methodName=j,m.objectName=h,m.name=l+m.name,m.message=l+m.message,I(m)}}}(d,f))}}function N(d){var f=d.getAttribute("data-module");return f?f.split(" ")[0]:""}function ad(d){return d&&d.hasAttribute("data-module")}function W(d){return d&&d.hasAttribute("data-type")}function ac(d,f){"function"==typeof d[f]&&d[f].apply(d,Array.prototype.slice.call(arguments,2))}function T(d){var f=P[d];return f?af(d)?(I(new ReferenceError("Circular service dependency: "+R.join(" -> ")+" -> "+d)),null):(R.push(d),f.instance||(f.instance=f.creator(X)),R.pop(),f.instance):null}function Z(h){var l,f,g,j,d=[];for(f=h.instance.behaviors||[],l=0;l<f.length;l++){"behaviorInstances" in h||(h.behaviorInstances={}),j=h.behaviorInstances,g=n[f[l]],g?(j[f[l]]||(j[f[l]]=g.creator(h.context)),d.push(j[f[l]])):I(new Error('Behavior "'+f[l]+'" not found'))}return d}function aa(d){for(var f=W(d);!f&&d&&!ad(d);){d=d.parentNode,f=W(d)}return f?d:null}function H(g,d,f){function h(j){for(var m=aa(j.target),i=m?m.getAttribute("data-type"):"",l=0;l<f.length;l++){f[l](j,m,i)}return !0}return c.DOM.on(g,d,h),h}function q(j){var m,h,l,g,d,f=Z(j);for(m=0;m<F.length;m++){for(d=[],l=F[m],g="on"+l,j.instance[g]&&d.push(Q(j.instance[g],j.instance)),h=0;h<f.length;h++){f[h][g]&&d.push(Q(f[h][g],f[h]))}d.length&&(j.eventHandlers[l]=H(j.element,l,d))}}function V(f){for(var d in f.eventHandlers){f.eventHandlers.hasOwnProperty(d)&&c.DOM.off(f.element,d,f.eventHandlers[d])}f.eventHandlers={}}function ae(d){return k[d.id]}var B="[data-module]",z={},J={},R=[],P={},n={},k={},L=[],e=!1,X=new c.EventTarget,F=["click","mouseover","mouseout","mousedown","mouseup","mouseenter","mouseleave","keydown","keyup","submit","change","contextmenu","dblclick","input","focusin","focusout"];return K(X,{init:function(d){K(z,d||{}),this.startAll(document.documentElement),this.fire("init"),e=!0},destroy:function(){this.stopAll(document.documentElement),Y()},isStarted:function(d){var f=ae(d);return"object"==typeof f},start:function(u){var x,d,h,m=N(u),w=J[m];if(!w){return void I(new Error('Module type "'+m+'" is not defined.'))}if(!this.isStarted(u)){u.id||(u.id="mod-"+m+"-"+w.counter),w.counter++,d=new c.Context(this,u),h=w.creator(d),z.debug||ab(h,m),x={moduleName:m,instance:h,context:d,element:u,eventHandlers:{}},q(x),k[u.id]=x,ac(x.instance,"init");for(var v,j=Z(x),f=0,s=j.length;s>f;f++){v=j[f],ac(v,"init")}}},stop:function(g){var i=ae(g);if(i){V(i);for(var d,f=Z(i),h=f.length-1;h>=0;h--){d=f[h],ac(d,"destroy")}ac(i.instance,"destroy"),delete k[g.id]}else{if(z.debug){return void I(new Error("Unable to stop module associated with element: "+g.id))}}},startAll:function(g){for(var d=c.DOM.queryAll(g,B),f=0,h=d.length;h>f;f++){this.start(d[f])}},stopAll:function(g){for(var d=c.DOM.queryAll(g,B),f=0,h=d.length;h>f;f++){this.stop(d[f])}},addModule:function(d,f){return"undefined"!=typeof J[d]?void I(new Error("Module "+d+" has already been added.")):void (J[d]={creator:f,counter:1})},getModuleConfig:function(g,d){var f,h=ae(g);return h?(h.config||(f=c.DOM.query(g,'script[type="text/x-config"]'),f&&(h.config=JSON.parse(f.text))),h.config?"undefined"==typeof d?h.config:d in h.config?h.config[d]:null:null):null},addService:function(m,h,j){if("undefined"!=typeof P[m]){return void I(new Error("Service "+m+" has already been added."))}if(j=j||{},P[m]={creator:h,instance:null},j.exports){var p,g=j.exports.length;for(p=0;g>p;p++){var d=j.exports[p],l=function(f){return function(){var i=T(m);return i[f].apply(i,arguments)}}(d);if(d in this){return void I(new Error(d+" already exists on Application object"))}if(this[d]=l,d in c.Context.prototype){return void I(new Error(d+" already exists on Context prototype"))}c.Context.prototype[d]=l,L.push(d)}}},getService:T,addBehavior:function(d,f){return"undefined"!=typeof n[d]?void I(new Error("Behavior "+d+" has already been added.")):void (n[d]={creator:f,instance:null})},broadcast:function(o,p){var j,h,d,g,m,l;for(h in k){if(k.hasOwnProperty(h)){for(l=[],d=k[h],-1!==U(d.instance.messages||[],o)&&l.push(Q(d.instance.onmessage,d.instance)),m=Z(d),j=0;j<m.length;j++){g=m[j],-1!==U(g.messages||[],o)&&l.push(Q(g.onmessage,g))}for(j=0;j<l.length;j++){l[j](o,p)}}}this.fire("message",{message:o,messageData:p})},getGlobal:function(d){return d in b?b[d]:null},getGlobalConfig:function(d){return"undefined"==typeof d?z:d in z?z[d]:null},setGlobalConfig:function(d){return e?void I(new Error("Cannot set global configuration after application initialization")):void K(z,d)},reportError:I})}(),"function"==typeof define&&define.amd){define("t3",[],function(){return c})}else{if("object"==typeof module&&"object"==typeof module.exports){module.exports=c}else{b.Box=b.Box||{};for(var a in c){c.hasOwnProperty(a)&&(b.Box[a]=c[a])}}}}("undefined"!=typeof window?window:this);("tabs" in jQuery.fn)||(function(a,b){a.widget("ui.tabs",{options:{isAutoPlay:true,timeDelay:3,firstTimeDelay:0,torpid:200,event:"mouseover|mouseout",currentClass:"current",titleSelector:".f-tab-t",boxSelector:".f-tab-b",selected:0},_create:function(){var c=this,j=this.options,f,e;c.titles=c.element.find(j.titleSelector);c.boxes=c.element.find(j.boxSelector);c._setEffectStyle();if(c.titles.length>c.boxes.length){c.titles=c.titles.slice(0,c.boxes.length);for(var d=c.boxes.length;d<c.titles.length;d++){a(c.titles[d]).addClass("ui-state-disabled")}}c.index=0;c.tHandle=null;c.isPause=false;c._setTab(j.selected,null,true);c._autoPlay(1);f=c._getEvents();if(f.length>1){var g=null,h={};h[f[0]]=function(l){c.isPause=true;if(g){clearTimeout(g)}var k=a(c.titles).index(a(l.currentTarget));g=setTimeout(function(){if(c.index!==k){c._setTab(k,l)}c._onTitleFocue()},j.torpid)};h[f[1]]=function(i){c.isPause=false;clearTimeout(g);g=setTimeout(function(){c._autoPlay(1,i)},j.torpid)};a(c.titles).live(h)}else{if(f.length===1){a(c.titles).live(f[0],function(l){c._onTitleFocue();var k=a(c.titles).index(a(l.currentTarget));if(c.index!==k){c._setTab(k,l)}c._autoPlay(1,l)})}}e=(this._getPrimalBoxes)?this._getPrimalBoxes():this.boxes;e.each(function(k){a(this).hover(function(){c.isPause=true;c._onTitleFocue()},function(){c.isPause=false;c._autoPlay(1)})})},reset:function(){this.titles=this.element.find(this.options.titleSelector);this.boxes=this.element.find(this.options.boxSelector)},_setTab:function(c,g,h){var f=c,d=a(this.boxes[c]);g=g||null;c=this._getIndex(c);this._trigger("select",g,{index:c,box:d});if(this.options.effect!=="scroll"){this._lazyImg(c);this._lazyHtml(c)}this._setTitle(c);if(h===true){this._initBox(c)}else{this._setBox(c,f)}this.index=c;if(this.options.effect!=="scroll"&&this.options.effect!=="fade"){this._trigger("show",g,{index:c,box:d})}},_autoPlay:function(g,f){var c=this;g=Number(g)||1;f=f||null;var d=c.options.timeDelay;if(c.index===0){d=c.options.firstTimeDelay||c.options.timeDelay}if(c.options.isAutoPlay===true&&c.isPause===false&&this.boxes.length>1){if(c.tHandle){clearTimeout(c.tHandle)}c.tHandle=setTimeout(function(){c._setTab(c.index+g,f)},d*1000)}},_setTitle:function(c){if(this.titles.length>0){var d=this.options.currentClass;this.titles.removeClass(d);a(this.titles[c]).addClass(d)}},_setBox:function(c){this._effectNone(c)},_initBox:function(c){this._effectNone(c)},_effectNone:function(c){this.boxes.hide();a(this.boxes[c]).show();this._autoPlay(1)},_onTitleFocue:function(){if(this.tHandle){clearTimeout(this.tHandle);this.tHandle=null}},_setOption:function(c,d){a.Widget.prototype._setOption.apply(this,arguments);if(c==="selected"){this._setTab(d)}},_lazyImg:a.noop,_lazyHtml:a.noop,_lazyScrollImg:a.noop,_lazyScrollHtml:a.noop,_setEffectStyle:a.noop,_getIndex:function(c){var d=this.boxes.length;if(c<0){return(c+d)}else{if(c>=d){return(c-d)}else{return c}}},_getEvents:function(){return a.trim(this.options.event).split("|")},prev:function(c){c=c||1;this._onTitleFocue();this._setTab(this.index-c);this._autoPlay();return this},next:function(c){c=c||1;this._onTitleFocue();this._setTab(this.index+c);this._autoPlay();return this},length:function(){return this.boxes.length},idx:function(){return this.index},select:function(c){if(c!==this.index){this._setTab(c)}return this},_destroy:function(){if(self.tHandle>0){clearTimeout(self.tHandle)}var c=(this._getPrimalBoxes)?this._getPrimalBoxes():this.boxes;c.each(function(){a(this).unbind()});a(self.titles).unbind()}})})(jQuery);("position" in jQuery.ui)||(function(f,g){f.ui=f.ui||{};var d=/left|center|right/,e=/top|center|bottom/,a="center",b=f.fn.position,c=f.fn.offset;f.fn.position=function(i){if(!i||!i.of){return b.apply(this,arguments)}i=f.extend({},i);var m=f(i.of),l=m[0],o=(i.collision||"flip").split(" "),n=i.offset?i.offset.split(" "):[0,0],k,h,j;if(l.nodeType===9){k=m.width();h=m.height();j={top:0,left:0}}else{if(l.setTimeout){k=m.width();h=m.height();j={top:m.scrollTop(),left:m.scrollLeft()}}else{if(l.preventDefault){i.at="left top";k=h=0;j={top:i.of.pageY,left:i.of.pageX}}else{k=m.outerWidth();h=m.outerHeight();j=m.offset()}}}f.each(["my","at"],function(){var p=(i[this]||"").split(" ");if(p.length===1){p=d.test(p[0])?p.concat([a]):e.test(p[0])?[a].concat(p):[a,a]}p[0]=d.test(p[0])?p[0]:a;p[1]=e.test(p[1])?p[1]:a;i[this]=p});if(o.length===1){o[1]=o[0]}n[0]=parseInt(n[0],10)||0;if(n.length===1){n[1]=n[0]}n[1]=parseInt(n[1],10)||0;if(i.at[0]==="right"){j.left+=k}else{if(i.at[0]===a){j.left+=k/2}}if(i.at[1]==="bottom"){j.top+=h}else{if(i.at[1]===a){j.top+=h/2}}j.left+=n[0];j.top+=n[1];return this.each(function(){var s=f(this),u=s.outerWidth(),r=s.outerHeight(),t=parseInt(f.curCSS(this,"marginLeft",true))||0,q=parseInt(f.curCSS(this,"marginTop",true))||0,w=u+t+(parseInt(f.curCSS(this,"marginRight",true))||0),x=r+q+(parseInt(f.curCSS(this,"marginBottom",true))||0),v=f.extend({},j),p;if(i.my[0]==="right"){v.left-=u}else{if(i.my[0]===a){v.left-=u/2}}if(i.my[1]==="bottom"){v.top-=r}else{if(i.my[1]===a){v.top-=r/2}}v.left=Math.round(v.left);v.top=Math.round(v.top);p={left:v.left-t,top:v.top-q};f.each(["left","top"],function(z,y){if(f.ui.position[o[z]]){f.ui.position[o[z]][y](v,{targetWidth:k,targetHeight:h,elemWidth:u,elemHeight:r,collisionPosition:p,collisionWidth:w,collisionHeight:x,offset:n,my:i.my,at:i.at})}});if(i.shim&&f.fn.bgiframe){s.bgiframe()}s.offset(v)})};f.ui.position={fit:{left:function(h,i){var k=f(window),j=i.collisionPosition.left+i.collisionWidth-k.width()-k.scrollLeft();h.left=j>0?h.left-j:Math.max(h.left-i.collisionPosition.left,h.left)},top:function(h,i){var k=f(window),j=i.collisionPosition.top+i.collisionHeight-k.height()-k.scrollTop();h.top=j>0?h.top-j:Math.max(h.top-i.collisionPosition.top,h.top)}},flip:{left:function(i,k){if(k.at[0]===a){return}var m=f(window),l=k.collisionPosition.left+k.collisionWidth-m.width()-m.scrollLeft(),h=k.my[0]==="left"?-k.elemWidth:k.my[0]==="right"?k.elemWidth:0,j=k.at[0]==="left"?k.targetWidth:-k.targetWidth,n=-2*k.offset[0];i.left+=k.collisionPosition.left<0?h+j+n:l>0?h+j+n:0},top:function(i,k){if(k.at[1]===a){return}var m=f(window),l=k.collisionPosition.top+k.collisionHeight-m.height()-m.scrollTop(),h=k.my[1]==="top"?-k.elemHeight:k.my[1]==="bottom"?k.elemHeight:0,j=k.at[1]==="top"?k.targetHeight:-k.targetHeight,n=-2*k.offset[1];i.top+=k.collisionPosition.top<0?h+j+n:l>0?h+j+n:0}}}}(jQuery));(function(a,b){a.extend(a.ui.tabs.prototype.options,{effect:"none",speed:"slow",perItem:1,scrollType:"fill",easing:"swing",subLength:null,direction:"left"});a.extend(a.ui.tabs.prototype,{_initBox:function(c){if(this.options.effect==="scroll"){this._initScroll(c)}else{this._effectNone(c)}},_setBox:function(c,e){var d=this;if(a.isFunction(d.options.effect)){d.options.effect.call(d.boxes[c],c)}else{switch(d.options.effect){case"none":d._effectNone(c);break;case"scroll":d._effectScroll(c,e);break;case"fade":d._effectFade(c);break;default:d._effectNone(c)}}},_initScroll:function(c){var d=this._getPerLength(),f=this._getBoxesParent().parent(),g=c*d;this._trigger("select",null,{index:c,box:e});if(this._isHorizontal()){f.scrollLeft(g)}else{f.scrollTop(g)}var e=this._getScrollBoxes();this._trigger("show",null,{index:c,box:e});this._lazyScrollImg(e);this._lazyScrollHtml(e)},_effectScroll:function(l,h){var m=this,n=m.options,g=m._getPerLength(),k=m._getBoxesParent().parent(),j=n.direction,d=m.boxes.length,f,e,c=l,i=m.index;if(n.scrollType==="loop"){c=h}f=(c-i)*g;if(j==="right"||j==="down"){e="-="+f+"px"}else{e="+="+f+"px"}if(m._isHorizontal()){m._setLoopScrollOffset("scrollLeft",c,f);k.animate({scrollLeft:e},n.speed,n.easing,function(){var o=m._getScrollBoxes();m._trigger("show",null,{index:l,box:o});m._lazyScrollImg(o);m._lazyScrollHtml(o);m._autoPlay(1)})}else{m._setLoopScrollOffset("scrollTop",c,f);k.animate({scrollTop:e},n.speed,n.easing,function(){var o=m._getScrollBoxes();m._trigger("show",null,{index:l,box:o});m._lazyScrollImg(o);m._lazyScrollHtml(o);m._autoPlay(1)})}},_setLoopScrollOffset:function(f,e,d){if(this.options.scrollType==="loop"){var h=this.index,i=this._getBoxesParent().parent(),g=i[f](),c=this._getPrimalSize();if(e>h&&g>=c){i[f](g-c)}if(e<h&&g<Math.abs(d)){i[f](g+c)}}},_effectFade:function(c){var d=this,e=a(d.boxes[c]);d.boxes.hide();a(e).fadeIn(d.options.speed,function(){d._trigger("show",null,{index:c,box:e});d._autoPlay(1)})},_setEffectStyle:function(){if(this.options.effect==="scroll"){var d=this._getPerLength()*this.index,c=this._getBoxesParent().parent();if(this._isHorizontal()){this._setOffset("width");c.scrollLeft(d)}else{this._setOffset("height");c.scrollTop(d)}this._setSubLength();this._setPerItem();this._setBoxes()}},_setOffset:function(g){var c=this._getPrimalBoxes(),d=this._getBoxesParent(),f=c.length*this._getSubLength(),e=this._getTeamCount()*this._getPerLength();switch(this.options.scrollType){case"loop":d.append(c.clone(true));d.css(g,f*2);break;case"break":d.css(g,f);break;default:d.css(g,e)}},_getPrimalSize:function(){var c=this._getPrimalBoxes().length*this._getSubLength();this._getPrimalSize=function(){return c};return c},_getPrimalBoxes:function(){var c=this.element.find(this.options.boxSelector);this._getPrimalBoxes=function(){return c};return c},_getBoxesParent:function(){var c=this._getPrimalBoxes(),d=c.parent();this._getBoxesParent=function(){return d};return d},_getTeamCount:function(){var c=this._getPrimalBoxes(),d=Math.ceil(c.length/this.options.perItem);this._getTeamCount=function(){return d};return d},_setBoxes:function(){if(this.options.perItem>1){var c=this.options.perItem,e=this._getPrimalBoxes(),g=this._getTeamCount(),f=[];for(var d=0;d<g;d++){f[d]=e.slice(d*c,(d+1)*c)}this.boxes=f}},_isHorizontal:function(){var c=this.options;switch(c.direction){case"left":return true;break;case"right":return true;break;case"up":return false;break;case"down":return false;break;default:c.direction="left";return true}},_getSubLength:function(){var e=this._isHorizontal(),c=this.options,d;if(c.subLength){d=c.subLength}else{if(e){d=this.boxes.eq(0).outerWidth()}else{d=this.boxes.eq(0).outerHeight()}}this._getSubLength=function(){return d};return d},_getPerLength:function(){var e=this._getSubLength(),d=this.options,c;c=e*d.perItem;this._getPerLength=function(){return c};return c},_setSubLength:function(){this.subLength=(this.subLength&&this._isNumber(this.subLength))?this.subLength:null},_setPerItem:function(){this.perItem=(this._isNumber(this.perItem))?this.perItem:1},_getScrollBoxes:function(){var e=this.element.find(this.options.boxSelector),k=this._getBoxesParent().parent(),c=this._getSubLength(),j,h,f,l,d,g=a();if(this._isHorizontal()){j=k.scrollLeft();h=k.width()}else{j=k.scrollTop();h=k.height()}f=(j>0)?Math.ceil(j/c):0;d=(this.options.isPreLoad===true)?2:1;l=f+(Math.ceil(h/c))*d;for(f;f<l;f++){g=g.add(e.eq(f))}return g},_isNumber:function(c){return(c-0)==c&&c.length>0}})})(jQuery);(function(a,c){var b="fe-temp-tabs-id";a.extend(a.ui.tabs.prototype.options,{lazyImg:"data-lazy-src",lazyHtml:"fe-lazy-html",isPreLoad:true});a.extend(a.ui.tabs.prototype,{_lazyImg:function(d){var e=this.options.lazyImg,f=this._getBoxes(d).find("img["+e+"]");this._setImgsAttr(f)},_lazyHtml:function(d){var e=this._getBoxes(d);this._setLazyHTML(e,d)},_getBoxes:function(d){var e=a(this.boxes[d]);if(this.options.isPreLoad===true){e=e.add(a(this.boxes[d+1]))}return e},_lazyScrollImg:function(e){var d=this.options.lazyImg,f=e.find("img["+d+"]");this._setImgsAttr(f)},_lazyScrollHtml:function(e){var f=this.options.lazyHtml,d=e.find("textarea."+f);this._setLazyHTML(e)},_setImgsAttr:function(e){var d=this.options.lazyImg;if(e.length>0){e.each(function(f){a(this).attr("src",a(this).attr(d));a(this).removeAttr(d)})}},_setLazyHTML:function(f,e){var d=this;f.each(function(j){var k=f.eq(j),g=k.find("textarea."+d.options.lazyHtml),h=g.length;if(h>0){var m=b+"-"+(Math.floor(Math.random()*10000));g.each(function(n){var l=a(this).val();if(n===h-1){l+="<span id="+m+"></span>"}a(this).replaceWith(l)});d._available(m,function(){var i=(e)?{index:e,boxes:k}:{boxes:k};a("#"+m).remove();d._trigger("after",null,i)},k)}})},later:function(e,k,g,j,i){e=e||0;var d=g,h,l;if(k&&a.type(g)==="string"){d=k[g]}h=(j===c)?function(){d.call(k)}:function(){d.apply(k,a.makeArray(j))};l=(i)?setInterval(h,e):setTimeout(h,e);return{id:l,interval:i,cancel:function(){if(this.interval){clearInterval(this.id)}else{clearTimeout(this.id)}}}},_available:function(h,d,g){if(!h||!a.isFunction(d)){return}var f=1,e=this.later(40,g,function(){if(a("#"+h).length>0&&!!(d()||1)||++f>500){e.cancel()}},[],true)}})})(jQuery);
/*
 * jQuery Tools v1.2.7 - The missing UI library for the Web
 * 
 * overlay/overlay.js
 * toolbox/toolbox.expose.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * http://jquerytools.org/documentation/overlay/index.html
 * 
 * changeLog:
 * 2014-11-27
 * add $.browser 判断，
 * 
 * 2015-01-12
 * 1：背景遮罩隐藏时，不改变弹窗本身的zindex
 * 2：遮罩增加计数器，当所有的弹窗关闭后再隐藏；
 *
 */
(function(f){f.tools=f.tools||{version:"v1.2.7"},f.tools.overlay={addEffect:function(i,c,j){h[i]=[c,j]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!(f.browser&&f.browser.msie)||(f.browser&&f.browser.version>6),left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var e=[],h={};f.tools.overlay.addEffect("default",function(a,k){var j=this.getConf(),i=f(window);j.fixed||(a.top+=i.scrollTop(),a.left+=i.scrollLeft()),a.position=j.fixed?"fixed":"absolute",this.getOverlay().css(a).fadeIn(j.speed,k)},function(b){this.getOverlay().fadeOut(this.getConf().closeSpeed,b)});function g(v,u){var t=this,s=v.add(t),r=f(window),q,p,o,c=f.tools.expose&&(u.mask||u.expose),b=Math.random().toString().slice(10);c&&(typeof c=="string"&&(c={color:c}),c.closeOnClick=c.closeOnEsc=!1);var a=u.target||v.attr("rel");p=a?f(a):null||v;if(!p.length){throw"Could not find Overlay: "+a}v&&v.index(p)==-1&&v.click(function(d){t.load(d);return d.preventDefault()}),f.extend(t,{load:function(w){if(t.isOpened()){return t}var j=h[u.effect];if(!j){throw'Overlay: cannot find effect : "'+u.effect+'"'}u.oneInstance&&f.each(e,function(){this.close(w)}),w=w||f.Event(),w.type="onBeforeLoad",s.trigger(w);if(w.isDefaultPrevented()){return t}o=!0,c&&f(p).expose(c);var x=u.top,m=u.left,l=p.outerWidth(true),k=p.outerHeight(true);typeof x=="string"&&(x=x=="center"?Math.max((r.height()-k)/2,0):parseInt(x,10)/100*r.height()),m=="center"&&(m=Math.max((r.width()-l)/2,0)),j[0].call(t,{top:x,left:m},function(){o&&(w.type="onLoad",s.trigger(w))}),c&&u.closeOnClick&&f.mask.getMask().one("click",t.close),u.closeOnClick&&f(document).on("click."+b,function(d){f(d.target).parents(p).length||t.close(d)}),u.closeOnEsc&&f(document).on("keydown."+b,function(d){d.keyCode==27&&t.close(d)});return t},close:function(d){if(!t.isOpened()){return t}d=d||f.Event(),d.type="onBeforeClose",s.trigger(d);if(!d.isDefaultPrevented()){o=!1,h[u.effect][1].call(t,function(){d.type="onClose",s.trigger(d)}),f(document).off("click."+b+" keydown."+b),c&&f.mask.close();return t}},getOverlay:function(){return p},getTrigger:function(){return v},getClosers:function(){return q},isOpened:function(){return o},getConf:function(){return u}}),f.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(d,i){f.isFunction(u[i])&&f(t).on(i,u[i]),t[i]=function(j){j&&f(t).on(i,j);return t}}),q=p.find(u.close||".close"),!q.length&&!u.close&&(q=f('<a class="close"></a>'),p.prepend(q)),q.click(function(d){t.close(d)}),u.load&&t.load()}f.fn.overlay=function(b){var a=this.data("overlay");if(a){return a}f.isFunction(b)&&(b={onBeforeLoad:b}),b=f.extend(!0,{},f.tools.overlay.conf,b),this.each(function(){a=new g(f(this),b),e.push(a),f(this).data("overlay",a)});return b.api?a:this}})(jQuery);(function(r){r.tools=r.tools||{version:"v1.2.7"};var q;q=r.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};function p(){if(r.browser&&r.browser.msie){var a=r(document).height(),d=r(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a-d<20?d:a]}return[r(document).width(),r("body").height()]}function o(a){if(a){return a.call(r.mask)}}var n,m,l,k,j;r.mask={load:function(c,b){if(n){var d=n.data("cp_count");d++;n.data("cp_count",d)}if(l){return this}typeof c=="string"&&(c={color:c}),c=c||k,k=c=r.extend(r.extend({},q.conf),c),n=r("#"+c.maskId),n.length||(n=r("<div/>").attr("id",c.maskId),r("body").append(n));var a=p();n.css({position:"fixed",top:0,left:0,width:a[0],height:a[1],display:"none",opacity:c.startOpacity,zIndex:c.zIndex}),c.color&&n.css("backgroundColor",c.color);if(o(c.onBeforeLoad)===!1){return this}c.closeOnEsc&&r(document).on("keydown.mask",function(e){e.keyCode==27&&r.mask.close(e)}),c.closeOnClick&&n.on("click.mask",function(e){r.mask.close(e)}),r(window).on("resize.mask",function(){r.mask.fit()}),b&&b.length&&(j=b.eq(0).css("zIndex"),r.each(b,function(){var e=r(this);/relative|absolute|fixed/i.test(e.css("position"))||e.css("position","relative")}),m=b.css({zIndex:Math.max(c.zIndex+1,j=="auto"?0:j)})),n.css({display:"block"}).fadeTo(c.loadSpeed,c.opacity,function(){r.mask.fit(),o(c.onLoad),l="full"}),l=!0;n.data("cp_count",1);return this},close:function(){if(l){var a=n.data("cp_count");a--;n.data("cp_count",a);if(a>0){return this}if(o(k.onBeforeClose)===!1){return this}n.fadeOut(k.closeSpeed,function(){o(k.onClose),l=!1}),r(document).off("keydown.mask"),n.off("click.mask"),r(window).off("resize.mask")}return this},fit:function(){if(l){var b=p();n.css({width:b[0],height:b[1]})}},getMask:function(){return n},isLoaded:function(b){return b?l=="full":l},getConf:function(){return k},getExposed:function(){return m}},r.fn.mask=function(a){r.mask.load(a);return this},r.fn.expose=function(a){r.mask.load(a,this);return this}})(jQuery);(function(a){a.fn.extend({complexify:function(d,h){var g=49;var e=120;var c=[[48,57],[65,90],[97,122],[33,47],[58,64],[91,96],[123,126],[128,255],[256,383],[384,591],[592,687],[688,767],[768,879],[880,1023],[1024,1279],[1328,1423],[1424,1535],[1536,1791],[1792,1871],[1920,1983],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3456,3583],[3584,3711],[3712,3839],[3840,4095],[4096,4255],[4256,4351],[4352,4607],[4608,4991],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[7680,7935],[7936,8191],[8192,8303],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703],[8704,8959],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[10240,10495],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[55296,56191],[56192,56319],[56320,57343],[57344,63743],[63744,64255],[64256,64335],[64336,65023],[65056,65071],[65072,65103],[65104,65135],[65136,65278],[65279,65279],[65280,65519],[65520,65533]];var f={minimumChars:8,strengthScaleFactor:1};if(a.isFunction(d)&&!h){h=d;d={}}d=a.extend(f,d);function b(k,l){for(var j=k.length-1;j>=0;j--){if(l[0]<=k.charCodeAt(j)&&k.charCodeAt(j)<=l[1]){return l[1]-l[0]+1}}return 0}return this.each(function(){a(this).keyup(function(){var k=a(this).val();var j=0,m=false;for(var l=c.length-1;l>=0;l--){j+=b(k,c[l])}j=Math.log(Math.pow(j,k.length))*(1/d.strengthScaleFactor);m=(j>g&&k.length>=d.minimumChars);j=(j/e)*100;j=(j>100)?100:j;h.call(this,m,j)})})}})})(jQuery);
/*
 * copyright c by zhangxinxu 2012-02-06
 * jquery.placeholder.js placeholder属性模拟插件
 * v1.0 2012-02-06 create
 * http://www.zhangxinxu.com/study/js/jquery.placeholder.js
 * http://www.zhangxinxu.com/study/201202/html5-placeholder-jquery-plugin.html
 * http://www.zhangxinxu.com/wordpress/?p=2169
*/
(function(a){a.fn.placeholder=function(b){var d={labelMode:false,labelStyle:{},labelAlpha:false,labelAcross:false};var e=a.extend({},d,b||{});var c=function(g,f){if(g.val()===""){f.css("opacity",0.4).html(g.data("placeholder"))}else{f.html("")}};a(this).each(function(){var h=a(this),g="placeholder" in document.createElement("input"),j=h.attr("placeholder");if(!j||(!e.labelMode&&g)||(e.labelMode&&!e.labelAcross&&g)){return}h.data("placeholder",j);if(e.labelMode){var f=h.attr("id"),i=null;if(!f){f="placeholder"+Math.random();h.attr("id",f)}i=a('<label for="'+f+'"></label>').css(a.extend({lineHeight:"1.3",position:"absolute",color:"graytext",cursor:"text",margin:"2px 0 0 3px"},e.labelStyle)).insertBefore(h);if(e.labelAlpha){h.bind({focus:function(){c(a(this),i)},input:function(){c(a(this),i)},blur:function(){if(this.value===""){i.css("opacity",1).html(j)}}});if(!window.screenX){h.bind("keyup",function(){c(a(this),i)});h.get(0).onpaste=function(){setTimeout(function(){c(h,i)},30)}}i.get(0).oncontextmenu=function(){h.trigger("focus");return false}}else{h.bind({focus:function(){i.html("")},blur:function(){if(a(this).val()===""){i.html(j)}}})}if(e.labelAcross){h.removeAttr("placeholder")}if(h.val()===""){i.html(j)}}else{h.bind({focus:function(){if(a(this).val()===j){a(this).val("")}a(this).css("color","")},blur:function(){if(a(this).val()===""){a(this).val(j).css("color","graytext")}}});if(h.val()===""){h.val(j).css("color","graytext")}}})}})(jQuery);(function(a){a.url={};a.extend(a.url,{_params:{},init:function(){var b="";try{b=(document.location.href.split("?",2)[1]||"").split("#")[0].split("&")||[];for(var c=0;c<b.length;c++){var f=b[c].split("=");if(f[0]){this._params[f[0]]=unescape(f[1])}}}catch(d){alert(d)}},param:function(b){return this._params[b]||""},paramAll:function(){return this._params}});a.url.init()})(jQuery);
/*
 * jQuery Color Animations v@VERSION
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: @DATE
 */
(function(o,d){var k="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,g=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(p){return[p[1],p[2],p[3],p[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(p){return[p[1]*2.55,p[2]*2.55,p[3]*2.55,p[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(p){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(p){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(p){return[p[1],p[2]/100,p[3]/100,p[4]]}}],e=o.Color=function(q,r,p,s){return new o.Color.fn.parse(q,r,p,s)},j={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},n={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},m=e.support={},b=o("<p>")[0],a,l=o.each;b.style.cssText="background-color:rgba(1,1,1,.5)";m.rgba=b.style.backgroundColor.indexOf("rgba")>-1;l(j,function(p,q){q.cache="_"+p;q.props.alpha={idx:3,type:"percent",def:1}});function i(q,s,r){var p=n[s.type]||{};if(q==null){return(r||!s.def)?null:s.def}q=p.floor?~~q:parseFloat(q);if(isNaN(q)){return s.def}if(p.mod){return(q+p.mod)%p.mod}return 0>q?0:p.max<q?p.max:q}function f(p){var r=e(),q=r._rgba=[];p=p.toLowerCase();l(g,function(w,x){var u,v=x.re.exec(p),t=v&&x.parse(v),s=x.space||"rgba";if(t){u=r[s](t);r[j[s].cache]=u[j[s].cache];q=r._rgba=u._rgba;return false}});if(q.length){if(q.join()==="0,0,0,0"){o.extend(q,a.transparent)}return r}return a[p]}e.fn=o.extend(e.prototype,{parse:function(v,t,p,u){if(v===d){this._rgba=[null,null,null,null];return this}if(v.jquery||v.nodeType){v=o(v).css(t);t=d}var s=this,r=o.type(v),q=this._rgba=[];if(t!==d){v=[v,t,p,u];r="array"}if(r==="string"){return this.parse(f(v)||a._default)}if(r==="array"){l(j.rgba.props,function(w,x){q[x.idx]=i(v[x.idx],x)});return this}if(r==="object"){if(v instanceof e){l(j,function(w,x){if(v[x.cache]){s[x.cache]=v[x.cache].slice()}})}else{l(j,function(x,y){var w=y.cache;l(y.props,function(z,A){if(!s[w]&&y.to){if(z==="alpha"||v[z]==null){return}s[w]=y.to(s._rgba)}s[w][A.idx]=i(v[z],A,true)});if(s[w]&&o.inArray(null,s[w].slice(0,3))<0){s[w][3]=1;if(y.from){s._rgba=y.from(s[w])}}})}return this}},is:function(r){var p=e(r),s=true,q=this;l(j,function(t,v){var w,u=p[v.cache];if(u){w=q[v.cache]||v.to&&v.to(q._rgba)||[];l(v.props,function(x,y){if(u[y.idx]!=null){s=(u[y.idx]===w[y.idx]);return s}})}return s});return s},_space:function(){var p=[],q=this;l(j,function(r,s){if(q[s.cache]){p.push(r)}});return p.pop()},transition:function(q,w){var r=e(q),s=r._space(),t=j[s],u=this.alpha()===0?e("transparent"):this,v=u[t.cache]||t.to(u._rgba),p=v.slice();r=r[t.cache];l(t.props,function(A,C){var z=C.idx,y=v[z],x=r[z],B=n[C.type]||{};if(x===null){return}if(y===null){p[z]=x}else{if(B.mod){if(x-y>B.mod/2){y+=B.mod}else{if(y-x>B.mod/2){y-=B.mod}}}p[z]=i((x-y)*w+y,C)}});return this[s](p)},blend:function(s){if(this._rgba[3]===1){return this}var r=this._rgba.slice(),q=r.pop(),p=e(s)._rgba;return e(o.map(r,function(t,u){return(1-q)*p[u]+q*t}))},toRgbaString:function(){var q="rgba(",p=o.map(this._rgba,function(r,s){return r==null?(s>2?1:0):r});if(p[3]===1){p.pop();q="rgb("}return q+p.join()+")"},toHslaString:function(){var q="hsla(",p=o.map(this.hsla(),function(r,s){if(r==null){r=s>2?1:0}if(s&&s<3){r=Math.round(r*100)+"%"}return r});if(p[3]===1){p.pop();q="hsl("}return q+p.join()+")"},toHexString:function(p){var q=this._rgba.slice(),r=q.pop();if(p){q.push(~~(r*255))}return"#"+o.map(q,function(s){s=(s||0).toString(16);return s.length===1?"0"+s:s}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});e.fn.parse.prototype=e.fn;function c(t,s,r){r=(r+1)%1;if(r*6<1){return t+(s-t)*r*6}if(r*2<1){return s}if(r*3<2){return t+(s-t)*((2/3)-r)*6}return t}j.hsla.to=function(t){if(t[0]==null||t[1]==null||t[2]==null){return[null,null,null,t[3]]}var p=t[0]/255,w=t[1]/255,x=t[2]/255,z=t[3],y=Math.max(p,w,x),u=Math.min(p,w,x),A=y-u,B=y+u,q=B*0.5,v,C;if(u===y){v=0}else{if(p===y){v=(60*(w-x)/A)+360}else{if(w===y){v=(60*(x-p)/A)+120}else{v=(60*(p-w)/A)+240}}}if(A===0){C=0}else{if(q<=0.5){C=A/B}else{C=A/(2-B)}}return[Math.round(v)%360,C,q,z==null?1:z]};j.hsla.from=function(w){if(w[0]==null||w[1]==null||w[2]==null){return[null,null,null,w[3]]}var v=w[0]/360,u=w[1],t=w[2],r=w[3],x=t<=0.5?t*(1+u):t+u-t*u,y=2*t-x;return[Math.round(c(y,x,v+(1/3))*255),Math.round(c(y,x,v)*255),Math.round(c(y,x,v-(1/3))*255),r]};l(j,function(q,s){var r=s.props,p=s.cache,u=s.to,t=s.from;e.fn[q]=function(z){if(u&&!this[p]){this[p]=u(this._rgba)}if(z===d){return this[p].slice()}var w,y=o.type(z),v=(y==="array"||y==="object")?z:arguments,x=this[p].slice();l(r,function(A,C){var B=v[y==="object"?A:C.idx];if(B==null){B=x[C.idx]}x[C.idx]=i(B,C)});if(t){w=e(t(x));w[p]=x;return w}else{return e(x)}};l(r,function(v,w){if(e.fn[v]){return}e.fn[v]=function(A){var C=o.type(A),z=(v==="alpha"?(this._hsla?"hsla":"rgba"):q),y=this[z](),B=y[w.idx],x;if(C==="undefined"){return B}if(C==="function"){A=A.call(this,B);C=o.type(A)}if(A==null&&w.empty){return this}if(C==="string"){x=h.exec(A);if(x){A=B+parseFloat(x[2])*(x[1]==="+"?1:-1)}}y[w.idx]=A;return this[z](y)}})});e.hook=function(q){var p=q.split(" ");l(p,function(r,s){o.cssHooks[s]={set:function(w,x){var u,v,t="";if(x!=="transparent"&&(o.type(x)!=="string"||(u=f(x)))){x=e(u||x);if(!m.rgba&&x._rgba[3]!==1){v=s==="backgroundColor"?w.parentNode:w;while((t===""||t==="transparent")&&v&&v.style){try{t=o.css(v,"backgroundColor");v=v.parentNode}catch(y){}}x=x.blend(t&&t!=="transparent"?t:"_default")}x=x.toRgbaString()}try{w.style[s]=x}catch(y){}}};o.fx.step[s]=function(t){if(!t.colorInit){t.start=e(t.elem,s);t.end=e(t.end);t.colorInit=true}o.cssHooks[s].set(t.elem,t.start.transition(t.end,t.pos))}})};e.hook(k);o.cssHooks.borderColor={expand:function(q){var p={};l(["Top","Right","Bottom","Left"],function(s,r){p["border"+r+"Color"]=q});return p}};a=o.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery));(function(a,b){a.fn.breathe=function(m,g,c,i){var f={},j={},e=a(this);g=g||800;c=c||0;i=i||"linear";a.each(m,function(l,d){f[l]=d;j[l]=e.css(l)});var h=function(){e.animate(f,g,i,function(){setTimeout(k,c)})},k=function(){e.animate(j,g,i,function(){setTimeout(h,c)})};h()}})(jQuery);
/*
 * jQuery Cookie Plugin v1.3
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function(f,b,g){var a=/\+/g;function e(h){return h}function c(h){return decodeURIComponent(h.replace(a," "))}var d=f.cookie=function(p,o,u){if(o!==g){u=f.extend({},d.defaults,u);if(o===null){u.expires=-1}if(typeof u.expires==="number"){var q=u.expires,s=u.expires=new Date();s.setDate(s.getDate()+q)}o=d.json?JSON.stringify(o):String(o);return(b.cookie=[encodeURIComponent(p),"=",d.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join(""))}var h=d.raw?e:c;var r=b.cookie.split("; ");for(var n=0,k=r.length;n<k;n++){var m=r[n].split("=");if(h(m.shift())===p){var j=h(m.join("="));return d.json?JSON.parse(j):j}}return null};d.defaults={};f.removeCookie=function(i,h){if(f.cookie(i)!==null){f.cookie(i,null,h);return true}return false}})(jQuery,document);(function(c){var a=c.fn.hover,b=function(e,f,d){return this.each(function(){var h,g=function(j,i,k){if(h){h=window.clearTimeout(h)}else{h=window.setTimeout(function(){h=undefined;i.call(j,k)},d)}};c(this).on("mouseenter mouseleave",function(i){g(this,i.type==="mouseenter"?e:f,i)})})};c.fn.hover=function(){var d=Array.prototype.slice.call(arguments);if(d.length===3&&typeof d[2]==="number"){return b.apply(this,d)}else{if(d.length===2&&typeof d[1]==="number"){return b.call(this,d[0],d[0],d[1])}}return a.apply(this,d)}})(window.jQuery);(function(a){a.fn.aeImageResize=function(c){var b=0,e=!+"\v1"&&!("maxHeight" in document.body.style),d=function(){};if(!c.height&&!c.width){return this}if(c.height&&c.width){b=c.width/c.height}if(c.callback){d=c.callback}return this.one("load",function(){this.removeAttribute("height");this.removeAttribute("width");this.style.height=this.style.width="";var f=this.height,g=this.width,j=g/f,h=c.height,i=c.width,k=b;if(!k){if(h){k=j+1}else{k=j-1}}if((h&&f>h)||(i&&g>i)){if(j>k){h=~~(f/g*i)}else{i=~~(g/f*h)}this.height=h;this.width=i}d(this)}).each(function(){if(this.complete||e){a(this).trigger("load")}this.src=this.src})}})(jQuery);(function(a){a.fn.gotop=function(c){var d=a.extend({content:960,bottom:30,margin:"none",position:"right",scrollTop:100,duration:700},c);var g=a(window);var f=this;function h(){var i=true;if(d.margin==="none"){if(g.width()<(d.content+(f.width()*2)+4)){i=false}}else{if(g.width()<(d.content+((f.width()+d.right)*2)+4)){i=false}}return i}function b(){var i=(g.width()+d.content)/2;if(d.margin!=="none"){i=i+d.margin}if(d.position=="left"||d.position=="l"){f.css({right:i+"px"})}else{f.css({left:i+"px"})}}function e(){if(g.scrollTop()>d.scrollTop){f.fadeIn()}else{f.fadeOut()}}if(!h()){this.hide()}b();e();g.resize(function(){if(h()){f.fadeIn()}else{f.fadeOut()}b()});g.scroll(function(){e()});return this.css({position:"fixed",cursor:"pointer",bottom:d.bottom+"px"}).click(function(){a("body,html").animate({scrollTop:0},d.duration)})}})(jQuery);(function(a){a.isScrollToFixed=function(b){return !!a(b).data("ScrollToFixed")};a.ScrollToFixed=function(d,i){var m=this;m.$el=a(d);m.el=d;m.$el.data("ScrollToFixed",m);var c=false;var H=m.$el;var I;var F;var k;var e;var z;var E=0;var r=0;var j=-1;var f=-1;var u=null;var A;var g;function v(){H.trigger("preUnfixed.ScrollToFixed");l();H.trigger("unfixed.ScrollToFixed");f=-1;E=H.offset().top;r=H.offset().left;if(m.options.offsets){r+=(H.offset().left-H.position().left)}if(j==-1){j=r}I=H.css("position");c=true;if(m.options.bottom!=-1){H.trigger("preFixed.ScrollToFixed");x();H.trigger("fixed.ScrollToFixed")}}function o(){var J=m.options.limit;if(!J){return 0}if(typeof(J)==="function"){return J.apply(H)}return J}function q(){return I==="fixed"}function y(){return I==="absolute"}function h(){return !(q()||y())}function x(){if(!q()){var J=H[0].getBoundingClientRect();u.css({display:H.css("display"),width:J.width,height:J.height,"float":H.css("float")});cssOptions={"z-index":m.options.zIndex,position:"fixed",top:m.options.bottom==-1?t():"",bottom:m.options.bottom==-1?"":m.options.bottom,"margin-left":"0px"};if(!m.options.dontSetWidth){cssOptions.width=H.css("width")}H.css(cssOptions);H.addClass(m.options.baseClassName);if(m.options.className){H.addClass(m.options.className)}I="fixed"}}function b(){var K=o();var J=r;if(m.options.removeOffsets){J="";K=K-E}cssOptions={position:"absolute",top:K,left:J,"margin-left":"0px",bottom:""};if(!m.options.dontSetWidth){cssOptions.width=H.css("width")}H.css(cssOptions);I="absolute"}function l(){if(!h()){f=-1;u.css("display","none");H.css({"z-index":z,width:"",position:F,left:"",top:e,"margin-left":""});H.removeClass("scroll-to-fixed-fixed");if(m.options.className){H.removeClass(m.options.className)}I=null}}function w(J){if(J!=f){H.css("left",r-J);f=J}}function t(){var J=m.options.marginTop;if(!J){return 0}if(typeof(J)==="function"){return J.apply(H)}return J}function B(){if(!a.isScrollToFixed(H)||H.is(":hidden")){return}var M=c;var L=h();if(!c){v()}else{if(h()){E=H.offset().top;r=H.offset().left}}var J=a(window).scrollLeft();var N=a(window).scrollTop();var K=o();if(m.options.minWidth&&a(window).width()<m.options.minWidth){if(!h()||!M){p();H.trigger("preUnfixed.ScrollToFixed");l();H.trigger("unfixed.ScrollToFixed")}}else{if(m.options.maxWidth&&a(window).width()>m.options.maxWidth){if(!h()||!M){p();H.trigger("preUnfixed.ScrollToFixed");l();H.trigger("unfixed.ScrollToFixed")}}else{if(m.options.bottom==-1){if(K>0&&N>=K-t()){if(!L&&(!y()||!M)){p();H.trigger("preAbsolute.ScrollToFixed");b();H.trigger("unfixed.ScrollToFixed")}}else{if(N>=E-t()){if(!q()||!M){p();H.trigger("preFixed.ScrollToFixed");x();f=-1;H.trigger("fixed.ScrollToFixed")}w(J)}else{if(!h()||!M){p();H.trigger("preUnfixed.ScrollToFixed");l();H.trigger("unfixed.ScrollToFixed")}}}}else{if(K>0){if(N+a(window).height()-H.outerHeight(true)>=K-(t()||-n())){if(q()){p();H.trigger("preUnfixed.ScrollToFixed");if(F==="absolute"){b()}else{l()}H.trigger("unfixed.ScrollToFixed")}}else{if(!q()){p();H.trigger("preFixed.ScrollToFixed");x()}w(J);H.trigger("fixed.ScrollToFixed")}}else{w(J)}}}}}function n(){if(!m.options.bottom){return 0}return m.options.bottom}function p(){var J=H.css("position");if(J=="absolute"){H.trigger("postAbsolute.ScrollToFixed")}else{if(J=="fixed"){H.trigger("postFixed.ScrollToFixed")}else{H.trigger("postUnfixed.ScrollToFixed")}}}var D=function(J){if(H.is(":visible")){c=false;B()}else{l()}};var G=function(J){(!!window.requestAnimationFrame)?requestAnimationFrame(B):B()};var C=function(){var K=document.body;if(document.createElement&&K&&K.appendChild&&K.removeChild){var M=document.createElement("div");if(!M.getBoundingClientRect){return null}M.innerHTML="x";M.style.cssText="position:fixed;top:100px;";K.appendChild(M);var N=K.style.height,O=K.scrollTop;K.style.height="3000px";K.scrollTop=500;var J=M.getBoundingClientRect().top;K.style.height=N;var L=(J===100);K.removeChild(M);K.scrollTop=O;return L}return null};var s=function(J){J=J||window.event;if(J.preventDefault){J.preventDefault()}J.returnValue=false};m.init=function(){m.options=a.extend({},a.ScrollToFixed.defaultOptions,i);z=H.css("z-index");m.$el.css("z-index",m.options.zIndex);u=a("<div />");I=H.css("position");F=H.css("position");k=H.css("float");e=H.css("top");if(h()){m.$el.after(u)}a(window).bind("resize.ScrollToFixed",D);a(window).bind("scroll.ScrollToFixed",G);if("ontouchmove" in window){a(window).bind("touchmove.ScrollToFixed",B)}if(m.options.preFixed){H.bind("preFixed.ScrollToFixed",m.options.preFixed)}if(m.options.postFixed){H.bind("postFixed.ScrollToFixed",m.options.postFixed)}if(m.options.preUnfixed){H.bind("preUnfixed.ScrollToFixed",m.options.preUnfixed)}if(m.options.postUnfixed){H.bind("postUnfixed.ScrollToFixed",m.options.postUnfixed)}if(m.options.preAbsolute){H.bind("preAbsolute.ScrollToFixed",m.options.preAbsolute)}if(m.options.postAbsolute){H.bind("postAbsolute.ScrollToFixed",m.options.postAbsolute)}if(m.options.fixed){H.bind("fixed.ScrollToFixed",m.options.fixed)}if(m.options.unfixed){H.bind("unfixed.ScrollToFixed",m.options.unfixed)}if(m.options.spacerClass){u.addClass(m.options.spacerClass)}H.bind("resize.ScrollToFixed",function(){u.height(H.height())});H.bind("scroll.ScrollToFixed",function(){H.trigger("preUnfixed.ScrollToFixed");l();H.trigger("unfixed.ScrollToFixed");B()});H.bind("detach.ScrollToFixed",function(J){s(J);H.trigger("preUnfixed.ScrollToFixed");l();H.trigger("unfixed.ScrollToFixed");a(window).unbind("resize.ScrollToFixed",D);a(window).unbind("scroll.ScrollToFixed",G);H.unbind(".ScrollToFixed");u.remove();m.$el.removeData("ScrollToFixed")});D()};m.init()};a.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1000,baseClassName:"scroll-to-fixed-fixed"};a.fn.scrollToFixed=function(b){return this.each(function(){(new a.ScrollToFixed(this,b))})}})(jQuery);(function(c){var b=c.scrollTo=function(e,d,f){c(window).scrollTo(e,d,f)};b.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1,limit:true};b.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var e=this,f=!e.nodeName||c.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!f){return e}var d=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||d.compatMode=="BackCompat"?d.body:d.documentElement})};c.fn.scrollTo=function(i,h,d){if(typeof h=="object"){d=h;h=0}if(typeof d=="function"){d={onAfter:d}}if(i=="max"){i=9000000000}d=c.extend({},b.defaults,d);h=h||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){h/=2}d.offset=a(d.offset);d.over=a(d.over);return this._scrollable().each(function(){if(i==null){return}var m=this,j=c(m),k=i,g,e={},l=j.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(k)){k=a(k);break}k=c(k,this);if(!k.length){return}case"object":if(k.is||k.style){g=(k=c(k)).offset()}}c.each(d.axis.split(""),function(s,q){var o=q=="x"?"Left":"Top",u=o.toLowerCase(),r="scroll"+o,p=m[r],n=b.max(m,q);if(g){e[r]=g[u]+(l?0:p-j.offset()[u]);if(d.margin){e[r]-=parseInt(k.css("margin"+o))||0;e[r]-=parseInt(k.css("border"+o+"Width"))||0}e[r]+=d.offset[u]||0;if(d.over[u]){e[r]+=k[q=="x"?"width":"height"]()*d.over[u]}}else{var t=k[u];e[r]=t.slice&&t.slice(-1)=="%"?parseFloat(t)/100*n:t}if(d.limit&&/^\d+$/.test(e[r])){e[r]=e[r]<=0?0:Math.min(e[r],n)}if(!s&&d.queue){if(p!=e[r]){f(d.onAfterFirst)}delete e[r]}});f(d.onAfter);function f(n){j.animate(e,h,d.easing,n&&function(){n.call(this,i,d)})}}).end()};b.max=function(h,g){var k=g=="x"?"Width":"Height",f="scroll"+k;if(!c(h).is("html,body")){return h[f]-c(h)[k.toLowerCase()]()}var j="client"+k,i=h.ownerDocument.documentElement,e=h.ownerDocument.body;return Math.max(i[f],e[f])-Math.min(i[j],e[j])};function a(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);(function(c){var b={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:3000,text:"",sticky:false,type:"notice",position:"top-right",closeText:"",close:null};var a={init:function(d){if(d){c.extend(b,d)}},showToast:function(f){var g={};c.extend(g,b,f);var j,e,d,i,h;j=(!c(".toast-container").length)?c("<div></div>").addClass("toast-container").addClass("toast-position-"+g.position).appendTo("body"):c(".toast-container");e=c("<div></div>").addClass("toast-item-wrapper");d=c("<div></div>").hide().addClass("toast-item toast-type-"+g.type).appendTo(j).html(c("<p>").append(g.text)).animate(g.inEffect,g.inEffectDuration).wrap(e);i=c('<div><i class="js_close"></i></div>').addClass("toast-item-close").prependTo(d).html(g.closeText).click(function(){c().toastmessage("removeToast",d,g)});h=c("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+g.type).prependTo(d);if(navigator.userAgent.match(/MSIE 6/i)){j.css({top:document.documentElement.scrollTop})}if(!g.sticky){setTimeout(function(){c().toastmessage("removeToast",d,g)},g.stayTime)}return d},showNoticeToast:function(e){var d={text:e,type:"notice"};return c().toastmessage("showToast",d)},showSuccessToast:function(e){var d={text:e,type:"success"};return c().toastmessage("showToast",d)},showErrorToast:function(e){var d={text:e,type:"error"};return c().toastmessage("showToast",d)},showWarningToast:function(e){var d={text:e,type:"warning"};return c().toastmessage("showToast",d)},removeToast:function(e,d){e.animate({opacity:"0"},600,function(){e.parent().animate({height:"0px"},300,function(){e.parent().remove()})});if(d&&d.close!==null){d.close()}}};c.fn.toastmessage=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return a.init.apply(this,arguments)}else{c.error("Method "+d+" does not exist on jQuery.toastmessage")}}}})(jQuery);(function(f){function n(t,w){var v=(t&65535)+(w&65535),u=(t>>16)+(w>>16)+(v>>16);return(u<<16)|(v&65535)}function r(t,u){return(t<<u)|(t>>>(32-u))}function c(A,w,v,u,z,y){return n(r(n(n(w,A),n(u,y)),z),v)}function b(w,v,B,A,u,z,y){return c((v&B)|((~v)&A),w,v,u,z,y)}function h(w,v,B,A,u,z,y){return c((v&A)|(B&(~A)),w,v,u,z,y)}function m(w,v,B,A,u,z,y){return c(v^B^A,w,v,u,z,y)}function a(w,v,B,A,u,z,y){return c(B^(v|(~A)),w,v,u,z,y)}function d(E,z){E[z>>5]|=128<<((z)%32);E[(((z+64)>>>9)<<4)+14]=z;var v,y,w,u,t,D=1732584193,C=-271733879,B=-1732584194,A=271733878;for(v=0;v<E.length;v+=16){y=D;w=C;u=B;t=A;D=b(D,C,B,A,E[v],7,-680876936);A=b(A,D,C,B,E[v+1],12,-389564586);B=b(B,A,D,C,E[v+2],17,606105819);C=b(C,B,A,D,E[v+3],22,-1044525330);D=b(D,C,B,A,E[v+4],7,-176418897);A=b(A,D,C,B,E[v+5],12,1200080426);B=b(B,A,D,C,E[v+6],17,-1473231341);C=b(C,B,A,D,E[v+7],22,-45705983);D=b(D,C,B,A,E[v+8],7,1770035416);A=b(A,D,C,B,E[v+9],12,-1958414417);B=b(B,A,D,C,E[v+10],17,-42063);C=b(C,B,A,D,E[v+11],22,-1990404162);D=b(D,C,B,A,E[v+12],7,1804603682);A=b(A,D,C,B,E[v+13],12,-40341101);B=b(B,A,D,C,E[v+14],17,-1502002290);C=b(C,B,A,D,E[v+15],22,1236535329);D=h(D,C,B,A,E[v+1],5,-165796510);A=h(A,D,C,B,E[v+6],9,-1069501632);B=h(B,A,D,C,E[v+11],14,643717713);C=h(C,B,A,D,E[v],20,-373897302);D=h(D,C,B,A,E[v+5],5,-701558691);A=h(A,D,C,B,E[v+10],9,38016083);B=h(B,A,D,C,E[v+15],14,-660478335);C=h(C,B,A,D,E[v+4],20,-405537848);D=h(D,C,B,A,E[v+9],5,568446438);A=h(A,D,C,B,E[v+14],9,-1019803690);B=h(B,A,D,C,E[v+3],14,-187363961);C=h(C,B,A,D,E[v+8],20,1163531501);D=h(D,C,B,A,E[v+13],5,-1444681467);A=h(A,D,C,B,E[v+2],9,-51403784);B=h(B,A,D,C,E[v+7],14,1735328473);C=h(C,B,A,D,E[v+12],20,-1926607734);D=m(D,C,B,A,E[v+5],4,-378558);A=m(A,D,C,B,E[v+8],11,-2022574463);B=m(B,A,D,C,E[v+11],16,1839030562);C=m(C,B,A,D,E[v+14],23,-35309556);D=m(D,C,B,A,E[v+1],4,-1530992060);A=m(A,D,C,B,E[v+4],11,1272893353);B=m(B,A,D,C,E[v+7],16,-155497632);C=m(C,B,A,D,E[v+10],23,-1094730640);D=m(D,C,B,A,E[v+13],4,681279174);A=m(A,D,C,B,E[v],11,-358537222);B=m(B,A,D,C,E[v+3],16,-722521979);C=m(C,B,A,D,E[v+6],23,76029189);D=m(D,C,B,A,E[v+9],4,-640364487);A=m(A,D,C,B,E[v+12],11,-421815835);B=m(B,A,D,C,E[v+15],16,530742520);C=m(C,B,A,D,E[v+2],23,-995338651);D=a(D,C,B,A,E[v],6,-198630844);A=a(A,D,C,B,E[v+7],10,1126891415);B=a(B,A,D,C,E[v+14],15,-1416354905);C=a(C,B,A,D,E[v+5],21,-57434055);D=a(D,C,B,A,E[v+12],6,1700485571);A=a(A,D,C,B,E[v+3],10,-1894986606);B=a(B,A,D,C,E[v+10],15,-1051523);C=a(C,B,A,D,E[v+1],21,-2054922799);D=a(D,C,B,A,E[v+8],6,1873313359);A=a(A,D,C,B,E[v+15],10,-30611744);B=a(B,A,D,C,E[v+6],15,-1560198380);C=a(C,B,A,D,E[v+13],21,1309151649);D=a(D,C,B,A,E[v+4],6,-145523070);A=a(A,D,C,B,E[v+11],10,-1120210379);B=a(B,A,D,C,E[v+2],15,718787259);C=a(C,B,A,D,E[v+9],21,-343485551);D=n(D,y);C=n(C,w);B=n(B,u);A=n(A,t)}return[D,C,B,A]}function o(u){var v,t="";for(v=0;v<u.length*32;v+=8){t+=String.fromCharCode((u[v>>5]>>>(v%32))&255)}return t}function i(u){var v,t=[];t[(u.length>>2)-1]=undefined;for(v=0;v<t.length;v+=1){t[v]=0}for(v=0;v<u.length*8;v+=8){t[v>>5]|=(u.charCodeAt(v/8)&255)<<(v%32)}return t}function j(t){return o(d(i(t),t.length*8))}function e(v,y){var u,x=i(v),t=[],w=[],z;t[15]=w[15]=undefined;if(x.length>16){x=d(x,v.length*8)}for(u=0;u<16;u+=1){t[u]=x[u]^909522486;w[u]=x[u]^1549556828}z=d(t.concat(i(y)),512+y.length*8);return o(d(w.concat(z),512+128))}function s(v){var y="0123456789abcdef",u="",t,w;for(w=0;w<v.length;w+=1){t=v.charCodeAt(w);u+=y.charAt((t>>>4)&15)+y.charAt(t&15)}return u}function l(t){return unescape(encodeURIComponent(t))}function p(t){return j(l(t))}function k(t){return s(p(t))}function g(t,u){return e(l(t),l(u))}function q(t,u){return s(g(t,u))}f.md5=function(u,v,t){if(!v){if(!t){return k(u)}else{return p(u)}}if(!t){return q(v,u)}else{return g(v,u)}}}(typeof jQuery==="function"?jQuery:this));
/* qTip2 v2.0.1-4-g (includes: svg ajax tips modal viewport imagemap ie6 / basic css3) | qtip2.com | Licensed MIT, GPL | Fri Jan 04 2013 04:05:40 */
(function(b,a,c){(function(d){typeof define=="function"&&define.amd?define(["jquery"],d):jQuery&&!jQuery.fn.qtip&&d(jQuery)})(function(ag){function ax(d){V={pageX:d.pageX,pageY:d.pageY,type:"mousemove",scrollX:b.pageXOffset||a.body.scrollLeft||a.documentElement.scrollLeft,scrollY:b.pageYOffset||a.body.scrollTop||a.documentElement.scrollTop}}function W(f){var d=function(h){return h===aj||"object"!=typeof h},g=function(h){return !ag.isFunction(h)&&(!h&&!h.attr||h.length<1||"object"==typeof h&&!h.jquery&&!h.then)};if(!f||"object"!=typeof f){return af}d(f.metadata)&&(f.metadata={type:f.metadata});if("content" in f){if(d(f.content)||f.content.jquery){f.content={text:f.content}}g(f.content.text||af)&&(f.content.text=af),"title" in f.content&&(d(f.content.title)&&(f.content.title={text:f.content.title}),g(f.content.title.text||af)&&(f.content.title.text=af))}return"position" in f&&d(f.position)&&(f.position={my:f.position,at:f.position}),"show" in f&&d(f.show)&&(f.show=f.show.jquery?{target:f.show}:{event:f.show}),"hide" in f&&d(f.hide)&&(f.hide=f.hide.jquery?{target:f.hide}:{event:f.hide}),"style" in f&&d(f.style)&&(f.style={classes:f.style}),ag.each(ac,function(){this.sanitize&&this.sanitize(f)}),f}function t(N,aD,aC,az){function S(l){var g=0,m,j=aD,f=l.split(".");while(j=j[f[g++]]){g<f.length&&(m=j)}return[m||aD,f.pop()]}function p(f){return e.concat("").join(f?"-"+f+" ":" ")}function o(){var g=aD.style.widget,f=E.hasClass(aA);E.removeClass(aA),aA=g?"ui-state-disabled":"qtip-disabled",E.toggleClass(aA,f),E.toggleClass("ui-helper-reset "+p(),g).toggleClass(X,aD.style.def&&!g),M.content&&M.content.toggleClass(p("content"),g),M.titlebar&&M.titlebar.toggleClass(p("header"),g),M.button&&M.button.toggleClass(n+"-icon",!g)}function w(f){M.title&&(M.titlebar.remove(),M.titlebar=M.title=M.button=aj,f!==af&&ay.reposition())}function i(){var g=aD.content.title.button,f=typeof g=="string",j=f?g:"Close tooltip";M.button&&M.button.remove(),g.jquery?M.button=g:M.button=ag("<a />",{"class":"qtip-close "+(aD.style.widget?"":n+"-icon"),title:j,"aria-label":j}).prepend(ag("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),M.button.appendTo(M.titlebar||E).attr("role","button").click(function(l){return E.hasClass(aA)||ay.hide(l),af})}function h(){var f=x+"-title";M.titlebar&&w(),M.titlebar=ag("<div />",{"class":n+"-titlebar "+(aD.style.widget?p("header"):"")}).append(M.title=ag("<div />",{id:f,"class":n+"-title","aria-atomic":ao})).insertBefore(M.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(g){ag(this).toggleClass("ui-state-active ui-state-focus",g.type.substr(-4)==="down")}).delegate(".qtip-close","mouseover mouseout",function(g){ag(this).toggleClass("ui-state-hover",g.type==="mouseover")}),aD.content.title.button&&i()}function k(g){var f=M.button;if(!ay.rendered){return af}g?i():f.remove()}function C(g,f){var j=M.title;if(!ay.rendered||!g){return af}ag.isFunction(g)&&(g=g.call(N,D.event,ay));if(g===af||!g&&g!==""){return w(af)}g.jquery&&g.length>0?j.empty().append(g.css({display:"block"})):j.html(g),f!==af&&ay.rendered&&E[0].offsetWidth>0&&ay.reposition(D.event)}function v(f){f&&ag.isFunction(f.done)&&f.done(function(g){r(g,null,af)})}function r(m,j,g){function l(B){function f(u){u&&(delete y[u.src],clearTimeout(ay.timers.img[u.src]),ag(u).unbind(O)),ag.isEmptyObject(y)&&(j!==af&&ay.reposition(D.event),B())}var A,y={};if((A=q.find("img[src]:not([height]):not([width])")).length===0){return f()}A.each(function(I,F){if(y[F.src]!==c){return}var u=0,H=3;(function P(){if(F.height||F.width||u>H){return f(F)}u+=1,ay.timers.img[F.src]=setTimeout(P,700)})(),ag(F).bind("error"+O+" load"+O,function(){f(this)}),y[F.src]=F})}var q=M.content;return !ay.rendered||!m?af:(ag.isFunction(m)&&(m=m.call(N,D.event,ay)||""),g!==af&&v(aD.content.deferred),m.jquery&&m.length>0?q.empty().append(m.css({display:"block"})):q.html(m),ay.rendered<0?E.queue("fx",l):(s=0,l(ag.noop)),ay)}function L(){function j(B){if(E.hasClass(aA)){return af}clearTimeout(ay.timers.show),clearTimeout(ay.timers.hide);var l=function(){ay.toggle(ao,B)};aD.show.delay>0?ay.timers.show=setTimeout(l,aD.show.delay):l()}function m(I){if(E.hasClass(aA)||T||s){return af}var F=ag(I.relatedTarget||I.target),B=F.closest(G)[0]===E[0],l=F[0]===q.show[0];clearTimeout(ay.timers.show),clearTimeout(ay.timers.hide);if(A.target==="mouse"&&B||aD.hide.fixed&&/mouse(out|leave|move)/.test(I.type)&&(B||l)){try{I.preventDefault(),I.stopImmediatePropagation()}catch(H){}return}aD.hide.delay>0?ay.timers.hide=setTimeout(function(){ay.hide(I)},aD.hide.delay):ay.hide(I)}function u(l){if(E.hasClass(aA)){return af}clearTimeout(ay.timers.inactive),ay.timers.inactive=setTimeout(function(){ay.hide(l)},aD.hide.inactive)}function g(l){ay.rendered&&E[0].offsetWidth>0&&ay.reposition(l)}var A=aD.position,q={show:aD.show.target,hide:aD.hide.target,viewport:ag(A.viewport),document:ag(a),body:ag(a.body),window:ag(b)},f={show:ag.trim(""+aD.show.event).split(" "),hide:ag.trim(""+aD.hide.event).split(" ")},y=ag.browser.msie&&parseInt(ag.browser.version,10)===6;E.bind("mouseenter"+O+" mouseleave"+O,function(B){var l=B.type==="mouseenter";l&&ay.focus(B),E.toggleClass(K,l)}),/mouse(out|leave)/i.test(aD.hide.event)&&aD.hide.leave==="window"&&q.window.bind("mouseout"+O+" blur"+O,function(l){!/select|option/.test(l.target.nodeName)&&!l.relatedTarget&&ay.hide(l)}),aD.hide.fixed?(q.hide=q.hide.add(E),E.bind("mouseover"+O,function(){E.hasClass(aA)||clearTimeout(ay.timers.hide)})):/mouse(over|enter)/i.test(aD.show.event)&&q.hide.bind("mouseleave"+O,function(l){clearTimeout(ay.timers.show)}),(""+aD.hide.event).indexOf("unfocus")>-1&&A.container.closest("html").bind("mousedown"+O+" touchstart"+O,function(F){var B=ag(F.target),H=ay.rendered&&!E.hasClass(aA)&&E[0].offsetWidth>0,l=B.parents(G).filter(E[0]).length>0;B[0]!==N[0]&&B[0]!==E[0]&&!l&&!N.has(B[0]).length&&!B.attr("disabled")&&ay.hide(F)}),"number"==typeof aD.hide.inactive&&(q.show.bind("qtip-"+aC+"-inactive",u),ag.each(av.inactiveEvents,function(B,l){q.hide.add(M.tooltip).bind(l+O+"-inactive",u)})),ag.each(f.hide,function(F,B){var H=ag.inArray(B,f.show),l=ag(q.hide);H>-1&&l.add(q.show).length===l.length||B==="unfocus"?(q.show.bind(B+O,function(I){E[0].offsetWidth>0?m(I):j(I)}),delete f.show[H]):q.hide.bind(B+O,m)}),ag.each(f.show,function(B,l){q.show.bind(l+O,j)}),"number"==typeof aD.hide.distance&&q.show.add(E).bind("mousemove"+O,function(F){var l=D.origin||{},H=aD.hide.distance,B=Math.abs;(B(F.pageX-l.pageX)>=H||B(F.pageY-l.pageY)>=H)&&ay.hide(F)}),A.target==="mouse"&&(q.show.bind("mousemove"+O,ax),A.adjust.mouse&&(aD.hide.event&&(E.bind("mouseleave"+O,function(l){(l.relatedTarget||l.target)!==q.show[0]&&ay.hide(l)}),M.target.bind("mouseenter"+O+" mouseleave"+O,function(l){D.onTarget=l.type==="mouseenter"})),q.document.bind("mousemove"+O,function(l){ay.rendered&&D.onTarget&&!E.hasClass(aA)&&E[0].offsetWidth>0&&ay.reposition(l||V)}))),(A.adjust.resize||q.viewport.length)&&(ag.event.special.resize?q.viewport:q.window).bind("resize"+O,g),q.window.add(A.container).bind("scroll"+O,g)}function d(){var f=[aD.show.target[0],aD.hide.target[0],ay.rendered&&M.tooltip[0],aD.position.container[0],aD.position.viewport[0],aD.position.container.closest("html")[0],b,a];ay.rendered?ag([]).pushStack(ag.grep(f,function(g){return typeof g=="object"})).unbind(O):aD.show.target.unbind(O+"-create")}var ay=this,aB=a.body,x=n+"-"+aC,T=0,s=0,E=ag(),O=".qtip-"+aC,aA="qtip-disabled",M,D;ay.id=aC,ay.rendered=af,ay.destroyed=af,ay.elements=M={target:N},ay.timers={img:{}},ay.options=aD,ay.checks={},ay.plugins={},ay.cache=D={event:{},target:ag(),disabled:af,attr:az,onTarget:af,lastClass:""},ay.checks.builtin={"^id$":function(j,g,m){var l=m===ao?av.nextid:m,f=n+"-"+l;l!==af&&l.length>0&&!ag("#"+f).length&&(E[0].id=f,M.content[0].id=f+"-content",M.title[0].id=f+"-title")},"^content.text$":function(g,f,j){r(aD.content.text)},"^content.deferred$":function(g,f,j){v(aD.content.deferred)},"^content.title.text$":function(g,f,j){if(!j){return w()}!M.title&&j&&h(),C(j)},"^content.title.button$":function(g,f,j){k(j)},"^position.(my|at)$":function(g,f,j){"string"==typeof j&&(g[f]=new ac.Corner(j))},"^position.container$":function(g,f,j){ay.rendered&&E.appendTo(j)},"^show.ready$":function(){ay.rendered?ay.toggle(ao):ay.render(1)},"^style.classes$":function(g,f,j){E.attr("class",n+" qtip "+j)},"^style.width|height":function(g,f,j){E.css(f,j)},"^style.widget|content.title":o,"^events.(render|show|move|hide|focus|blur)$":function(g,f,j){E[(ag.isFunction(j)?"":"un")+"bind"]("tooltip"+f,j)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var f=aD.position;E.attr("tracking",f.target==="mouse"&&f.adjust.mouse),d(),L()}},ag.extend(ay,{_triggerEvent:function(j,g,l){var f=ag.Event("tooltip"+j);return f.originalEvent=(l?ag.extend({},l):aj)||D.event||aj,E.trigger(f,[ay].concat(g||[])),!f.isDefaultPrevented()},render:function(g){if(ay.rendered){return ay}var f=aD.content.text,l=aD.content.title,j=aD.position;return ag.attr(N[0],"aria-describedby",x),E=M.tooltip=ag("<div/>",{id:x,"class":[n,X,aD.style.classes,n+"-pos-"+aD.position.my.abbrev()].join(" "),width:aD.style.width||"",height:aD.style.height||"",tracking:j.target==="mouse"&&j.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":af,"aria-describedby":x+"-content","aria-hidden":ao}).toggleClass(aA,D.disabled).data("qtip",ay).appendTo(aD.position.container).append(M.content=ag("<div />",{"class":n+"-content",id:x+"-content","aria-atomic":ao})),ay.rendered=-1,T=1,l.text?(h(),ag.isFunction(l.text)||C(l.text,af)):l.button&&i(),(!ag.isFunction(f)||f.then)&&r(f,af),ay.rendered=ao,o(),ag.each(aD.events,function(q,m){ag.isFunction(m)&&E.bind(q==="toggle"?"tooltipshow tooltiphide":"tooltip"+q,m)}),ag.each(ac,function(){this.initialize==="render"&&this(ay)}),L(),E.queue("fx",function(m){ay._triggerEvent("render"),T=0,(aD.show.ready||g)&&ay.toggle(ao,D.event,af),m()}),ay},get:function(g){var f,j;switch(g.toLowerCase()){case"dimensions":f={height:E.outerHeight(af),width:E.outerWidth(af)};break;case"offset":f=ac.offset(E,aD.position.container);break;default:j=S(g.toLowerCase()),f=j[0][j[1]],f=f.precedance?f.string():f}return f},set:function(A,m){function q(H,l){var I,u,f;for(I in g){for(u in g[I]){if(f=(new RegExp(u,"i")).exec(H)){l.push(f),g[I][u].apply(ay,l)}}}}var F=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,j=/^content\.(title|attr)|style/i,y=af,g=ay.checks,B;return"string"==typeof A?(B=A,A={},A[B]=m):A=ag.extend(ao,{},A),ag.each(A,function(l,f){var u=S(l.toLowerCase()),H;H=u[0][u[1]],u[0][u[1]]="object"==typeof f&&f.nodeType?ag(f):f,A[l]=[u[0],u[1],f,H],y=F.test(l)||y}),W(aD),T=1,ag.each(A,q),T=0,ay.rendered&&E[0].offsetWidth>0&&y&&ay.reposition(aD.position.target==="mouse"?aj:D.event),ay},toggle:function(F,m){function aE(){F?(ag.browser.msie&&E[0].style.removeAttribute("filter"),E.css("overflow",""),"string"==typeof aG.autofocus&&ag(aG.autofocus,E).focus(),aG.target.trigger("qtip-"+aC+"-inactive")):E.css({display:"",visibility:"",opacity:"",left:"",top:""}),ay._triggerEvent(F?"visible":"hidden")}if(m){if(/over|enter/.test(m.type)&&/out|leave/.test(D.event.type)&&aD.show.target.add(m.target).length===aD.show.target.length&&E.has(m.relatedTarget).length){return ay}D.event=ag.extend({},m)}if(!ay.rendered){return F?ay.render(1):ay}var j=F?"show":"hide",aG=aD[j],q=aD[F?"hide":"show"],I=aD.position,A=aD.content,f=E[0].offsetWidth>0,H=F||aG.target.length===1,aF=!m||aG.target.length<2||D.target[0]===m.target,B,P;return(typeof F).search("boolean|number")&&(F=!f),!E.is(":animated")&&f===F&&aF?ay:ay._triggerEvent(j,[90])?(ag.attr(E[0],"aria-hidden",!F),F?(D.origin=ag.extend({},V),ay.focus(m),ag.isFunction(A.text)&&r(A.text,af),ag.isFunction(A.title.text)&&C(A.title.text,af),!J&&I.target==="mouse"&&I.adjust.mouse&&(ag(a).bind("mousemove.qtip",ax),J=ao),ay.reposition(m,arguments[2]),!aG.solo||(typeof aG.solo=="string"?ag(aG.solo):ag(G,aG.solo)).not(E).not(aG.target).qtip("hide",ag.Event("tooltipsolo"))):(clearTimeout(ay.timers.show),delete D.origin,J&&!ag(G+'[tracking="true"]:visible',aG.solo).not(E).length&&(ag(a).unbind("mousemove.qtip"),J=af),ay.blur(m)),aG.effect===af||H===af?(E[j](),aE.call(E)):ag.isFunction(aG.effect)?(E.stop(1,1),aG.effect.call(E,ay),E.queue("fx",function(g){aE(),g()})):E.fadeTo(90,F?1:0,aE),F&&aG.target.trigger("qtip-"+aC+"-inactive"),ay):ay},show:function(f){return ay.toggle(ao,f)},hide:function(f){return ay.toggle(af,f)},focus:function(l){if(!ay.rendered){return ay}var g=ag(G),q=parseInt(E[0].style.zIndex,10),f=av.zindex+g.length,j=ag.extend({},l),m;return E.hasClass(am)||ay._triggerEvent("focus",[f],j)&&(q!==f&&(g.each(function(){this.style.zIndex>q&&(this.style.zIndex=this.style.zIndex-1)}),g.filter("."+am).qtip("blur",j)),E.addClass(am)[0].style.zIndex=f),ay},blur:function(f){return E.removeClass(am),ay._triggerEvent("blur",[E.css("zIndex")],f),ay},reposition:function(aJ,aM){if(!ay.rendered||T){return ay}T=1;var aI=aD.position.target,aF=aD.position,aO=aF.my,aK=aF.at,aN=aF.adjust,I=aN.method.split(" "),aP=E.outerWidth(af),m=E.outerHeight(af),aE=0,j=0,B=E.css("position"),aH=aF.viewport,aL={left:0,top:0},H=aF.container,A=E[0].offsetWidth>0,F=aJ&&aJ.type==="scroll",aQ=ag(b),aG,q;if(ag.isArray(aI)&&aI.length===2){aK={x:ap,y:au},aL={left:aI[0],top:aI[1]}}else{if(aI==="mouse"&&(aJ&&aJ.pageX||D.event.pageX)){aK={x:ap,y:au},aJ=V&&V.pageX&&(aN.mouse||!aJ||!aJ.pageX)?{pageX:V.pageX,pageY:V.pageY}:(!aJ||aJ.type!=="resize"&&aJ.type!=="scroll"?aJ&&aJ.pageX&&aJ.type==="mousemove"?aJ:(!aN.mouse||aD.show.distance)&&D.origin&&D.origin.pageX?D.origin:aJ:D.event)||aJ||D.event||V||{},B!=="static"&&(aL=H.offset()),aL={left:aJ.pageX-aL.left,top:aJ.pageY-aL.top},aN.mouse&&F&&(aL.left-=V.scrollX-aQ.scrollLeft(),aL.top-=V.scrollY-aQ.scrollTop())}else{aI==="event"&&aJ&&aJ.target&&aJ.type!=="scroll"&&aJ.type!=="resize"?D.target=ag(aJ.target):aI!=="event"&&(D.target=ag(aI.jquery?aI:M.target)),aI=D.target,aI=ag(aI).eq(0);if(aI.length===0){return ay}aI[0]===a||aI[0]===b?(aE=ac.iOS?b.innerWidth:aI.width(),j=ac.iOS?b.innerHeight:aI.height(),aI[0]===b&&(aL={top:(aH||aI).scrollTop(),left:(aH||aI).scrollLeft()})):ac.imagemap&&aI.is("area")?aG=ac.imagemap(ay,aI,aK,ac.viewport?I:af):ac.svg&&aI[0].ownerSVGElement?aG=ac.svg(ay,aI,aK,ac.viewport?I:af):(aE=aI.outerWidth(af),j=aI.outerHeight(af),aL=ac.offset(aI,H)),aG&&(aE=aG.width,j=aG.height,q=aG.offset,aL=aG.position);if(ac.iOS>3.1&&ac.iOS<4.1||ac.iOS>=4.3&&ac.iOS<4.33||!ac.iOS&&B==="fixed"){aL.left-=aQ.scrollLeft(),aL.top-=aQ.scrollTop()}aL.left+=aK.x===at?aE:aK.x===ad?aE/2:0,aL.top+=aK.y===ai?j:aK.y===ad?j/2:0}}return aL.left+=aN.x+(aO.x===at?-aP:aO.x===ad?-aP/2:0),aL.top+=aN.y+(aO.y===ai?-m:aO.y===ad?-m/2:0),ac.viewport?(aL.adjusted=ac.viewport(ay,aL,aF,aE,j,aP,m),q&&aL.adjusted.left&&(aL.left+=q.left),q&&aL.adjusted.top&&(aL.top+=q.top)):aL.adjusted={left:0,top:0},ay._triggerEvent("move",[aL,aH.elem||aH],aJ)?(delete aL.adjusted,aM===af||!A||isNaN(aL.left)||isNaN(aL.top)||aI==="mouse"||!ag.isFunction(aF.effect)?E.css(aL):ag.isFunction(aF.effect)&&(aF.effect.call(E,ay,ag.extend({},aL)),E.queue(function(f){ag(this).css({opacity:"",height:""}),ag.browser.msie&&this.style.removeAttribute("filter"),f()})),T=0,ay):ay},disable:function(f){return"boolean"!=typeof f&&(f=!E.hasClass(aA)&&!D.disabled),ay.rendered?(E.toggleClass(aA,f),ag.attr(E[0],"aria-disabled",f)):D.disabled=!!f,ay},enable:function(){return ay.disable(af)},destroy:function(){var g=N[0],f=ag.attr(g,z),j=N.data("qtip");ay.destroyed=ao,ay.rendered&&(E.stop(1,0).remove(),ag.each(ay.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(ay.timers.show),clearTimeout(ay.timers.hide),d();if(!j||ay===j){ag.removeData(g,"qtip"),aD.suppress&&f&&(ag.attr(g,"title",f),N.removeAttr(z)),N.removeAttr("aria-describedby")}return N.unbind(".qtip-"+aC),delete ab[ay.id],N}})}function R(w,j){var E,C,s,o,A,q=ag(this),i=ag(a.body),x=this===a?i:q,D=q.metadata?q.metadata(j.metadata):aj,k=j.metadata.type==="html5"&&D?D[j.metadata.name]:aj,r=q.data(j.metadata.name||"qtipopts");try{r=typeof r=="string"?ag.parseJSON(r):r}catch(B){}o=ag.extend(ao,{},av.defaults,j,typeof r=="object"?W(r):aj,W(k||D)),C=o.position,o.id=w;if("boolean"==typeof o.content.text){s=q.attr(o.content.attr);if(o.content.attr===af||!s){return af}o.content.text=s}C.container.length||(C.container=i),C.target===af&&(C.target=x),o.show.target===af&&(o.show.target=x),o.show.solo===ao&&(o.show.solo=C.container.closest("body")),o.hide.target===af&&(o.hide.target=x),o.position.viewport===ao&&(o.position.viewport=C.container),C.container=C.container.eq(0),C.at=new ac.Corner(C.at),C.my=new ac.Corner(C.my);if(ag.data(this,"qtip")){if(o.overwrite){q.qtip("destroy")}else{if(o.overwrite===af){return af}}}return o.suppress&&(A=ag.attr(this,"title"))&&ag(this).removeAttr("title").attr(z,A).attr("title",""),E=new t(q,o,w,!!s),ag.data(this,"qtip",E),q.bind("remove.qtip-"+w+" removeqtip.qtip-"+w,function(){E.destroy()}),E}function Y(m){var s=this,g=m.elements.tooltip,d=m.options.content.ajax,r=av.defaults.content.ajax,q=".qtip-ajax",k=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,i=ao,p=af,j;m.checks.ajax={"^content.ajax":function(l,h,f){h==="ajax"&&(d=f),h==="once"?s.init():d&&d.url?s.load():g.unbind(q)}},ag.extend(s,{init:function(){return d&&d.url&&g.unbind(q)[d.once?"one":"bind"]("tooltipshow"+q,s.load),s},load:function(h){function o(){var v;if(m.destroyed){return}i=af,B&&(p=ao,m.show(h.originalEvent)),(v=r.complete||d.complete)&&ag.isFunction(v)&&v.apply(d.context||m,arguments)}function w(y,D,v){var C;if(m.destroyed){return}u&&"string"==typeof y&&(y=ag("<div/>").append(y.replace(k,"")).find(u)),(C=r.success||d.success)&&ag.isFunction(C)?C.call(d.context||m,y,D,v):m.set("content.text",y)}function x(v,C,y){if(m.destroyed||v.status===0){return}m.set("content.text",C+": "+y)}if(p){p=af;return}var A=d.url.lastIndexOf(" "),f=d.url,u,B=!d.loading&&i;if(B){try{h.preventDefault()}catch(l){}}else{if(h&&h.isDefaultPrevented()){return s}}j&&j.abort&&j.abort(),A>-1&&(u=f.substr(A),f=f.substr(0,A)),j=ag.ajax(ag.extend({error:r.error||x,context:m},d,{url:f,success:w,complete:o}))},destroy:function(){j&&j.abort&&j.abort(),m.destroyed=ao}}),s.init()}function an(j,f,k){var h=Math.ceil(f/2),d=Math.ceil(k/2),g={bottomright:[[0,0],[f,k],[f,0]],bottomleft:[[0,0],[f,0],[0,k]],topright:[[0,k],[f,0],[f,k]],topleft:[[0,0],[0,k],[f,k]],topcenter:[[0,k],[h,0],[f,k]],bottomcenter:[[0,0],[f,0],[h,k]],rightcenter:[[0,0],[f,d],[0,k]],leftcenter:[[f,0],[f,k],[0,d]]};return g.lefttop=g.bottomright,g.righttop=g.bottomleft,g.leftbottom=g.topright,g.rightbottom=g.topleft,g[j.string()]}function U(aD,v){function az(k){var g=u.is(":visible");u.show(),k(),u.toggle(g)}function i(){p.width=aC.height,p.height=aC.width}function l(){p.width=aC.width,p.height=aC.height}function aF(S,g,A,H){if(!aE.tip){return}var B=aA.corner.clone(),P=A.adjusted,aG=aD.options.position.adjust.method.split(" "),O=aG[0],F=aG[1]||aG[0],I={left:af,top:af,x:0,y:0},m,D={},M;aA.corner.fixed!==ao&&(O===aa&&B.precedance===ae&&P.left&&B.y!==ad?B.precedance=B.precedance===ae?aw:ae:O!==aa&&P.left&&(B.x=B.x===ad?P.left>0?ap:at:B.x===ap?at:ap),F===aa&&B.precedance===aw&&P.top&&B.x!==ad?B.precedance=B.precedance===aw?ae:aw:F!==aa&&P.top&&(B.y=B.y===ad?P.top>0?au:ai:B.y===au?ai:au),B.string()!==f.corner.string()&&(f.top!==P.top||f.left!==P.left)&&aA.update(B,af)),m=aA.position(B,P),m[B.x]+=h(B,B.x),m[B.y]+=h(B,B.y),m.right!==c&&(m.left=-m.right),m.bottom!==c&&(m.top=-m.bottom),m.user=Math.max(0,aC.offset);if(I.left=O===aa&&!!P.left){B.x===ad?D["margin-left"]=I.x=m["margin-left"]:(M=m.right!==c?[P.left,-m.left]:[-P.left,m.left],(I.x=Math.max(M[0],M[1]))>M[0]&&(A.left-=P.left,I.left=af),D[m.right!==c?at:ap]=I.x)}if(I.top=F===aa&&!!P.top){B.y===ad?D["margin-top"]=I.y=m["margin-top"]:(M=m.bottom!==c?[P.top,-m.top]:[-P.top,m.top],(I.y=Math.max(M[0],M[1]))>M[0]&&(A.top-=P.top,I.top=af),D[m.bottom!==c?ai:au]=I.y)}aE.tip.css(D).toggle(!(I.x&&I.y||B.x===ad&&I.y||B.y===ad&&I.x)),A.left-=m.left.charAt?m.user:O!==aa||I.top||!I.left&&!I.top?m.left:0,A.top-=m.top.charAt?m.user:F!==aa||I.left||!I.left&&!I.top?m.top:0,f.left=P.left,f.top=P.top,f.corner=B.clone()}function w(){var g=aC.corner,x=aD.options.position,k=x.at,m=x.my.string?x.my.string():x.my;return g===af||m===af&&k===af?af:(g===ao?aA.corner=new ac.Corner(m):g.string||(aA.corner=new ac.Corner(g),aA.corner.fixed=ao),f.corner=new ac.Corner(aA.corner.string()),aA.corner.string()!=="centercenter")}function h(B,m,D){m=m?m:B[B.precedance];var A=aE.titlebar&&B.y===au,k=A?aE.titlebar:u,x="border-"+m+"-width",C=function(E){return parseInt(E.css(x),10)},g;return az(function(){g=(D?C(D):C(aE.content)||C(k)||C(u))||0}),g}function r(A){var D=aE.titlebar&&A.y===au,k=D?aE.titlebar:aE.content,m=ag.browser.mozilla,E=m?"-moz-":ag.browser.webkit?"-webkit-":"",g="border-radius-"+A.y+A.x,C="border-"+A.y+"-"+A.x+"-radius",B=function(F){return parseInt(k.css(F),10)||parseInt(u.css(F),10)},x;return az(function(){x=B(C)||B(E+C)||B(E+g)||B(g)||0}),x}function ay(E){function D(S,N,T){var P=S.css(N)||g;return T&&P===S.css(T)?af:C.test(P)?af:P}var O,m,k,M=aE.tip.css("cssText",""),I=E||aA.corner,C=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,x="border-"+I[I.precedance]+"-color",B="background-color",g="transparent",F=" !important",H=aE.titlebar,L=H&&(I.y===au||I.y===ad&&M.position().top+p.height/2+aC.offset<H.outerHeight(ao)),A=L?H:aE.content;az(function(){d.fill=D(M,B)||D(A,B)||D(aE.content,B)||D(u,B)||M.css(B),d.border=D(M,x,"color")||D(A,x,"color")||D(aE.content,x,"color")||D(u,x,"color")||u.css(x),ag("*",M).add(M).css("cssText",B+":"+g+F+";border:0"+F+";")})}function s(E){var L=E.precedance===aw,A=p[L?ar:al],g=p[L?al:ar],C=E.string().indexOf(ad)>-1,M=A*(C?0.5:1),x=Math.pow,I=Math.round,H,D,k,F=Math.sqrt(x(M,2)+x(g,2)),B=[j/M*F,j/g*F];return B[2]=Math.sqrt(x(B[0],2)-x(j,2)),B[3]=Math.sqrt(x(B[1],2)-x(j,2)),H=F+B[2]+B[3]+(C?0:B[0]),D=H/F,k=[I(D*g),I(D*A)],{height:k[L?0:1],width:k[L?1:0]}}function q(k,g,m){return"<qvml:"+k+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(g||"")+' style="behavior: url(#default#VML); '+(m||"")+'" />'}var aA=this,aC=aD.options.style.tip,aE=aD.elements,u=aE.tooltip,f={top:0,left:0},p={width:aC.width,height:aC.height},d={},j=aC.border||0,y=".qtip-tip",aB=!!(ag("<canvas />")[0]||{}).getContext,o;aA.corner=aj,aA.mimic=aj,aA.border=j,aA.offset=aC.offset,aA.size=p,aD.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){aA.init()||aA.destroy(),aD.reposition()},"^style.tip.(height|width)$":function(){p={width:aC.width,height:aC.height},aA.create(),aA.update(),aD.reposition()},"^content.title.text|style.(classes|widget)$":function(){aE.tip&&aE.tip.length&&aA.update()}},ag.extend(aA,{init:function(){var g=w()&&(aB||ag.browser.msie);return g&&(aA.create(),aA.update(),u.unbind(y).bind("tooltipmove"+y,aF)),g},create:function(){var k=p.width,g=p.height,m;aE.tip&&aE.tip.remove(),aE.tip=ag("<div />",{"class":"qtip-tip"}).css({width:k,height:g}).prependTo(u),aB?ag("<canvas />").appendTo(aE.tip)[0].getContext("2d").save():(m=q("shape",'coordorigin="0,0"',"position:absolute;"),aE.tip.html(m+m),ag("*",aE.tip).bind("click mousedown",function(x){x.stopPropagation()}))},update:function(I,S){var B=aE.tip,F=B.children(),E=p.width,N=p.height,m=aC.mimic,M=Math.round,x,P,g,O,k;I||(I=f.corner||aA.corner),m===af?m=I:(m=new ac.Corner(m),m.precedance=I.precedance,m.x==="inherit"?m.x=I.x:m.y==="inherit"?m.y=I.y:m.x===m.y&&(m[I.precedance]=I[I.precedance])),x=m.precedance,I.precedance===ae?i():l(),aE.tip.css({width:E=p.width,height:N=p.height}),ay(I),d.border!=="transparent"?(j=h(I,aj),aC.border===0&&j>0&&(d.fill=d.border),aA.border=j=aC.border!==ao?aC.border:j):aA.border=j=0,g=an(m,E,N),aA.size=k=s(I),B.css(k).css("line-height",k.height+"px"),I.precedance===aw?O=[M(m.x===ap?j:m.x===at?k.width-E-j:(k.width-E)/2),M(m.y===au?k.height-N:0)]:O=[M(m.x===ap?k.width-E:0),M(m.y===au?j:m.y===ai?k.height-N-j:(k.height-N)/2)],aB?(F.attr(k),P=F[0].getContext("2d"),P.restore(),P.save(),P.clearRect(0,0,3000,3000),P.fillStyle=d.fill,P.strokeStyle=d.border,P.lineWidth=j*2,P.lineJoin="miter",P.miterLimit=100,P.translate(O[0],O[1]),P.beginPath(),P.moveTo(g[0][0],g[0][1]),P.lineTo(g[1][0],g[1][1]),P.lineTo(g[2][0],g[2][1]),P.closePath(),j&&(u.css("background-clip")==="border-box"&&(P.strokeStyle=d.fill,P.stroke()),P.strokeStyle=d.border,P.stroke()),P.fill()):(g="m"+g[0][0]+","+g[0][1]+" l"+g[1][0]+","+g[1][1]+" "+g[2][0]+","+g[2][1]+" xe",O[2]=j&&/^(r|b)/i.test(I.string())?parseFloat(ag.browser.version,10)===8?2:1:0,F.css({coordsize:E+j+" "+(N+j),antialias:""+(m.string().indexOf(ad)>-1),left:O[0],top:O[1],width:E+j,height:N+j}).each(function(C){var A=ag(this);A[A.prop?"prop":"attr"]({coordsize:E+j+" "+(N+j),path:g,fillcolor:d.fill,filled:!!C,stroked:!C}).toggle(!!j||!!C),!C&&A.html()===""&&A.html(q("stroke",'weight="'+j*2+'px" color="'+d.border+'" miterlimit="1000" joinstyle="miter"'))})),S!==af&&aA.position(I)},position:function(x){var k=aE.tip,C={},g=Math.max(0,aC.offset),B,m,A;return aC.corner===af||!k?af:(x=x||aA.corner,B=x.precedance,m=s(x),A=[x.x,x.y],B===ae&&A.reverse(),ag.each(A,function(E,H){var F,D,I;H===ad?(F=B===aw?ap:au,C[F]="50%",C["margin-"+F]=-Math.round(m[B===aw?ar:al]/2)+g):(F=h(x,H),D=h(x,H,aE.content),I=r(x),C[H]=E?D:g+(I>F?I:-F))}),C[x[B]]-=m[B===ae?ar:al],k.css({top:"",bottom:"",left:"",right:"",margin:""}).css(C),C)},destroy:function(){aE.tip&&aE.tip.remove(),aE.tip=!1,u.unbind(y)}}),aA.init()}function Q(k){function C(){q=ag(H,x).not("[disabled]").map(function(){return typeof this.focus=="function"?this:null})}function D(d){q.length<1&&d.length?d.not("body").blur():q.first().focus()}function L(g){var f=ag(g.target),h=f.closest(".qtip"),d;d=h.length<1?af:parseInt(h[0].style.zIndex,10)>parseInt(x[0].style.zIndex,10),!d&&ag(g.target).closest(G)[0]!==x[0]&&D(f)}var j=this,I=k.options.show.modal,F=k.elements,x=F.tooltip,r="#qtip-overlay",B=".qtipmodal",s=B+k.id,i="is-modal-qtip",A=ag(a.body),H=ac.modal.focusable.join(","),q={},w;k.checks.modal={"^show.modal.(on|blur)$":function(){j.init(),F.overlay.toggle(x.is(":visible"))},"^content.text$":function(){C()}},ag.extend(j,{init:function(){return I.on?(w=j.create(),x.attr(i,ao).css("z-index",ac.modal.zindex+ag(G+"["+i+"]").length).unbind(B).unbind(s).bind("tooltipshow"+B+" tooltiphide"+B,function(h,f,l){var d=h.originalEvent;if(h.target===x[0]){if(d&&h.type==="tooltiphide"&&/mouse(leave|enter)/.test(d.type)&&ag(d.relatedTarget).closest(w[0]).length){try{h.preventDefault()}catch(g){}}else{(!d||d&&!d.solo)&&j[h.type.replace("tooltip","")](h,l)}}}).bind("tooltipfocus"+B,function(h){if(h.isDefaultPrevented()||h.target!==x[0]){return}var f=ag(G).filter("["+i+"]"),l=ac.modal.zindex+f.length,d=parseInt(x[0].style.zIndex,10);w[0].style.zIndex=l-2,f.each(function(){this.style.zIndex>d&&(this.style.zIndex-=1)}),f.end().filter("."+am).qtip("blur",h.originalEvent),x.addClass(am)[0].style.zIndex=l;try{h.preventDefault()}catch(g){}}).bind("tooltiphide"+B,function(d){d.target===x[0]&&ag("["+i+"]").filter(":visible").not(x).last().qtip("focus",d)}),I.escape&&ag(a).unbind(s).bind("keydown"+s,function(d){d.keyCode===27&&x.hasClass(am)&&k.hide(d)}),I.blur&&F.overlay.unbind(s).bind("click"+s,function(d){x.hasClass(am)&&k.hide(d)}),C(),j):j},create:function(){function f(){w.css({height:g.height(),width:g.width()})}var d=ag(r),g=ag(b);return d.length?F.overlay=d.insertAfter(ag(G).last()):(w=F.overlay=ag("<div />",{id:r.substr(1),html:"<div></div>",mousedown:function(){return af}}).hide().insertAfter(ag(G).last()),g.unbind(B).bind("resize"+B,f),f(),w)},toggle:function(p,o,y){if(p&&p.isDefaultPrevented()){return j}var g=I.effect,f=o?"show":"hide",u=w.is(":visible"),h=ag("["+i+"]").filter(":visible").not(x),d;return w||(w=j.create()),w.is(":animated")&&u===o&&w.data("toggleState")!==af||!o&&h.length?j:(o?(w.css({left:0,top:0}),w.toggleClass("blurs",I.blur),I.stealfocus!==af&&(A.bind("focusin"+s,L),D(ag("body :focus")))):A.unbind("focusin"+s),w.stop(ao,af).data("toggleState",o),ag.isFunction(g)?g.call(w,o):g===af?w[f]():w.fadeTo(parseInt(y,10)||90,o?1:0,function(){o||ag(this).hide()}),o||w.queue(function(l){w.css({left:"",top:""}).removeData("toggleState"),l()}),j)},show:function(f,d){return j.toggle(f,ao,d)},hide:function(f,d){return j.toggle(f,af,d)},destroy:function(){var d=w;return d&&(d=ag("["+i+"]").not(x).length<1,d?(F.overlay.remove(),ag(a).unbind(B)):F.overlay.unbind(B+k.id),A.unbind("focusin"+s)),x.removeAttr(i).unbind(B)}}),j.init()}function ah(i){var g=this,w=i.elements,r=i.options,q=w.tooltip,k=".ie6-"+i.id,f=ag("select, object").length<1,l=0,s=af,j;i.checks.ie6={"^content|style$":function(h,d,m){redraw()}},ag.extend(g,{init:function(){var h=ag(b),d;f&&(w.bgiframe=ag('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),w.bgiframe.appendTo(q),q.bind("tooltipmove"+k,g.adjustBGIFrame)),j=ag("<div/>",{id:"qtip-rcontainer"}).appendTo(a.body),g.redraw(),w.overlay&&!s&&(d=function(){w.overlay[0].style.top=h.scrollTop()+"px"},h.bind("scroll.qtip-ie6, resize.qtip-ie6",d),d(),w.overlay.addClass("qtipmodal-ie6fix"),s=ao)},adjustBGIFrame:function(){var p=i.get("dimensions"),h=i.plugins.tip,o=w.tip,d,m;m=parseInt(q.css("border-left-width"),10)||0,m={left:-m,top:-m},h&&o&&(d=h.corner.precedance==="x"?["width","left"]:["height","top"],m[d[1]]-=o[d[0]]()),w.bgiframe.css(m).css(p)},redraw:function(){if(i.rendered<1||l){return g}var v=r.style,m=r.position.container,p,h,o,d;return l=1,v.height&&q.css(al,v.height),v.width?q.css(ar,v.width):(q.css(ar,"").appendTo(j),h=q.width(),h%2<1&&(h+=1),o=q.css("max-width")||"",d=q.css("min-width")||"",p=(o+d).indexOf("%")>-1?m.width()/100:0,o=(o.indexOf("%")>-1?p:1)*parseInt(o,10)||h,d=(d.indexOf("%")>-1?p:1)*parseInt(d,10)||0,h=o+d?Math.min(Math.max(h,d),o):h,q.css(ar,Math.round(h)).appendTo(m)),l=0,g},destroy:function(){f&&w.bgiframe.remove(),q.unbind(k)}}),g.init()}var ao=!0,af=!1,aj=null,ae="x",aw="y",ar="width",al="height",au="top",ap="left",ai="bottom",at="right",ad="center",ak="flip",aq="flipinvert",aa="shift",av,ac,V,n="qtip",ab={},e=["ui-widget","ui-tooltip"],G="div.qtip."+n,X=n+"-default",am=n+"-focus",K=n+"-hover",Z="_replacedByqTip",z="oldtitle",J;av=ag.fn.qtip=function(o,j,i){var g=(""+o).toLowerCase(),m=aj,d=ag.makeArray(arguments).slice(1),p=d[d.length-1],k=this[0]?ag.data(this[0],"qtip"):aj;if(!arguments.length&&k||g==="api"){return k}if("string"==typeof o){return this.each(function(){var f=ag.data(this,"qtip");if(!f){return ao}p&&p.timeStamp&&(f.cache.event=p);if(g!=="option"&&g!=="options"||!j){f[g]&&f[g].apply(f[g],d)}else{if(!ag.isPlainObject(j)&&i===c){return m=f.get(j),af}f.set(j,i)}}),m!==aj?m:this}if("object"==typeof o||!arguments.length){return k=W(ag.extend(ao,{},o)),av.bind.call(this,k,p)}},av.bind=function(f,d){return this.each(function(r){function q(l){function h(){s.render(typeof l=="object"||j.show.ready),i.show.add(i.hide).unbind(g)}if(s.cache.disabled){return af}s.cache.event=ag.extend({},l),s.cache.target=l?ag(l.target):[c],j.show.delay>0?(clearTimeout(s.timers.show),s.timers.show=setTimeout(h,j.show.delay),m.show!==m.hide&&i.hide.bind(m.hide,function(){clearTimeout(s.timers.show)})):h()}var j,i,m,g,s,k;k=ag.isArray(f.id)?f.id[r]:f.id,k=!k||k===af||k.length<1||ab[k]?av.nextid++:ab[k]=k,g=".qtip-"+k+"-create",s=R.call(this,k,f);if(s===af){return ao}j=s.options,ag.each(ac,function(){this.initialize==="initialize"&&this(s)}),i={show:j.show.target,hide:j.hide.target},m={show:ag.trim(""+j.show.event).replace(/ /g,g+" ")+g,hide:ag.trim(""+j.hide.event).replace(/ /g,g+" ")+g},/mouse(over|enter)/i.test(m.show)&&!/mouse(out|leave)/i.test(m.hide)&&(m.hide+=" mouseleave"+g),i.show.bind("mousemove"+g,function(h){ax(h),s.cache.onTarget=ao}),i.show.bind(m.show,q),(j.show.ready||j.prerender)&&q(d)}).attr("data-hasqtip",ao)},ac=av.plugins={Corner:function(f){f=(""+f).replace(/([A-Z])/," $1").replace(/middle/gi,ad).toLowerCase(),this.x=(f.match(/left|right/i)||f.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(f.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var d=f.charAt(0);this.precedance=d==="t"||d==="b"?aw:ae,this.string=function(){return this.precedance===aw?this.y+this.x:this.x+this.y},this.abbrev=function(){var h=this.x.substr(0,1),g=this.y.substr(0,1);return h===g?h:this.precedance===aw?g+h:h+g},this.invertx=function(g){this.x=this.x===ap?at:this.x===at?ap:g||this.x},this.inverty=function(g){this.y=this.y===au?ai:this.y===ai?au:g||this.y},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(m,g){function p(i,f){j.left+=f*i.scrollLeft(),j.top+=f*i.scrollTop()}var j=m.offset(),v=m.closest("body"),d=ag.browser.msie&&a.compatMode!=="CSS1Compat",r=g,q,k,h;if(r){do{r.css("position")!=="static"&&(k=r.position(),j.left-=k.left+(parseInt(r.css("borderLeftWidth"),10)||0)+(parseInt(r.css("marginLeft"),10)||0),j.top-=k.top+(parseInt(r.css("borderTopWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0),!q&&(h=r.css("overflow"))!=="hidden"&&h!=="visible"&&(q=r))}while((r=ag(r[0].offsetParent)).length);(q&&q[0]!==v[0]||d)&&p(q||v,1)}return j},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||af,fn:{attr:function(h,f){if(this.length){var j=this[0],d="title",g=ag.data(j,"qtip");if(h===d&&g&&"object"==typeof g&&g.options.suppress){return arguments.length<2?ag.attr(j,z):(g&&g.options.content.attr===d&&g.cache.attr&&g.set("content.text",f),this.attr(z,f))}}return ag.fn["attr"+Z].apply(this,arguments)},clone:function(g){var f=ag([]),h="title",d=ag.fn["clone"+Z].apply(this,arguments);return g||d.filter("["+z+"]").attr("title",function(){return ag.attr(this,z)}).removeAttr(z),d}}},ag.each(ac.fn,function(f,d){if(!d||ag.fn[f+Z]){return ao}var g=ag.fn[f+Z]=ag.fn[f];ag.fn[f]=function(){return d.apply(this,arguments)||g.apply(this,arguments)}}),ag.ui||(ag["cleanData"+Z]=ag.cleanData,ag.cleanData=function(h){for(var f=0,d;(d=h[f])!==c;f++){try{ag(d).triggerHandler("removeqtip")}catch(g){}}ag["cleanData"+Z](h)}),av.version="2.0.1-4-g",av.nextid=0,av.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),av.zindex=15000,av.defaults={prerender:af,id:af,overwrite:ao,suppress:ao,content:{text:ao,attr:"title",deferred:af,title:{text:af,button:af}},position:{my:"top left",at:"bottom right",target:af,container:af,viewport:af,adjust:{x:0,y:0,mouse:ao,resize:ao,method:"flipinvert flipinvert"},effect:function(f,d,g){ag(this).animate(d,{duration:200,queue:af})}},show:{target:af,event:"mouseenter",effect:ao,delay:90,solo:af,ready:af,autofocus:af},hide:{target:af,event:"mouseleave",effect:ao,delay:0,fixed:af,inactive:af,leave:"window",distance:af},style:{classes:"",widget:af,width:af,height:af,def:ao},events:{render:aj,move:aj,show:aj,hide:aj,toggle:aj,visible:aj,hidden:aj,focus:aj,blur:aj}},ac.svg=function(v,j,m,A){var g=ag(a),y=j[0],x={width:0,height:0,position:{top:10000000000,left:10000000000}},r,k,w,q,d;while(!y.getBBox){y=y.parentNode}if(y.getBBox&&y.parentNode){r=y.getBBox(),k=y.getScreenCTM(),w=y.farthestViewportElement||y;if(!w.createSVGPoint){return x}q=w.createSVGPoint(),q.x=r.x,q.y=r.y,d=q.matrixTransform(k),x.position.left=d.x,x.position.top=d.y,q.x+=r.width,q.y+=r.height,d=q.matrixTransform(k),x.width=d.x-x.position.left,x.height=d.y-x.position.top,x.position.left+=g.scrollLeft(),x.position.top+=g.scrollTop()}return x},ac.ajax=function(f){var d=f.plugins.ajax;return"object"==typeof d?d:f.plugins.ajax=new Y(f)},ac.ajax.initialize="render",ac.ajax.sanitize=function(f){var d=f.content,g;d&&"ajax" in d&&(g=d.ajax,typeof g!="object"&&(g=f.content.ajax={url:g}),"boolean"!=typeof g.once&&g.once&&(g.once=!!g.once))},ag.extend(ao,av.defaults,{content:{ajax:{loading:ao,once:ao}}}),ac.tip=function(f){var d=f.plugins.tip;return"object"==typeof d?d:f.plugins.tip=new U(f)},ac.tip.initialize="render",ac.tip.sanitize=function(f){var d=f.style,g;d&&"tip" in d&&(g=f.style.tip,typeof g!="object"&&(f.style.tip={corner:g}),/string|boolean/i.test(typeof g.corner)||(g.corner=ao),typeof g.width!="number"&&delete g.width,typeof g.height!="number"&&delete g.height,typeof g.border!="number"&&g.border!==ao&&delete g.border,typeof g.offset!="number"&&delete g.offset)},ag.extend(ao,av.defaults,{style:{tip:{corner:ao,mimic:af,width:6,height:6,border:ao,offset:0}}}),ac.modal=function(f){var d=f.plugins.modal;return"object"==typeof d?d:f.plugins.modal=new Q(f)},ac.modal.initialize="render",ac.modal.sanitize=function(d){d.show&&(typeof d.show.modal!="object"?d.show.modal={on:!!d.show.modal}:typeof d.show.modal.on=="undefined"&&(d.show.modal.on=ao))},ac.modal.zindex=av.zindex-200,ac.modal.focusable=["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"],ag.extend(ao,av.defaults,{show:{modal:{on:af,effect:ao,blur:ao,stealfocus:ao,escape:ao}}}),ac.viewport=function(aC,ay,aG,I,aB,aD,aH){function aF(aM,B,O,aJ,D,M,x,aQ,aL){var T=ay[D],aO=q[aM],aK=d[aM],L=O===aa,aN=-g.offset[D]+aA.offset[D]+aA["scroll"+D],P=aO===D?aL:aO===M?-aL:-aL/2,aP=aK===D?aQ:aK===M?-aQ:-aQ/2,r=aI&&aI.size?aI.size[x]||0:0,A=aI&&aI.corner&&aI.corner.precedance===aM&&!L?r:0,j=aN-T+A,k=T+aL-aA[x]-aN+A,H=P-(q.precedance===aM||aO===q[B]?aP:0)-(aK===ad?aQ/2:0);return L?(A=aI&&aI.corner&&aI.corner.precedance===B?r:0,H=(aO===D?1:-1)*P-A,ay[D]+=j>0?j:k>0?-k:0,ay[D]=Math.max(-g.offset[D]+aA.offset[D]+(A&&aI.corner[aM]===ad?aI.offset:0),T-H,Math.min(Math.max(-g.offset[D]+aA.offset[D]+aA[x],T+H),ay[D]))):(aJ*=O===aq?2:0,j>0&&(aO!==D||k>0)?(ay[D]-=H+aJ,u["invert"+aM](D)):k>0&&(aO!==M||j>0)&&(ay[D]-=(aO===ad?-H:H)+aJ,u["invert"+aM](M)),ay[D]<aN&&-ay[D]>k&&(ay[D]=T,u=q.clone())),ay[D]-T}var v=aG.target,y=aC.elements.tooltip,q=aG.my,d=aG.at,h=aG.adjust,S=h.method.split(" "),aE=S[0],p=S[1]||S[0],aA=aG.viewport,g=aG.container,l=aC.cache,aI=aC.plugins.tip,F={left:0,top:0},f,u,az;if(!aA.jquery||v[0]===b||v[0]===a.body||h.method==="none"){return F}f=y.css("position")==="fixed",aA={elem:aA,height:aA[(aA[0]===b?"h":"outerH")+"eight"](),width:aA[(aA[0]===b?"w":"outerW")+"idth"](),scrollleft:f?0:aA.scrollLeft(),scrolltop:f?0:aA.scrollTop(),offset:aA.offset()||{left:0,top:0}},g={elem:g,scrollLeft:g.scrollLeft(),scrollTop:g.scrollTop(),offset:g.offset()||{left:0,top:0}};if(aE!=="shift"||p!=="shift"){u=q.clone()}return F={left:aE!=="none"?aF(ae,aw,aE,h.x,ap,at,ar,I,aD):0,top:p!=="none"?aF(aw,ae,p,h.y,au,ai,al,aB,aH):0},u&&l.lastClass!==(az=n+"-pos-"+u.abbrev())&&y.removeClass(aC.cache.lastClass).addClass(aC.cache.lastClass=az),F},ac.imagemap=function(v,F,h,p){function H(E,N,m){var g=0,w=1,O=1,l=0,M=0,L=E.width,y=E.height;while(L>0&&y>0&&w>0&&O>0){L=Math.floor(L/2),y=Math.floor(y/2),m.x===ap?w=L:m.x===at?w=E.width-L:w+=Math.floor(L/2),m.y===au?O=y:m.y===ai?O=E.height-y:O+=Math.floor(y/2),g=N.length;while(g--){if(N.length<2){break}l=N[g][0]-E.position.left,M=N[g][1]-E.position.top,(m.x===ap&&l>=w||m.x===at&&l<=w||m.x===ad&&(l<w||l>E.width-w)||m.y===au&&M>=O||m.y===ai&&M<=O||m.y===ad&&(M<O||M>E.height-O))&&N.splice(g,1)}}return{left:N[0][0],top:N[0][1]}}F.jquery||(F=ag(F));var I=v.cache.areas={},d=(F[0].shape||F.attr("shape")).toLowerCase(),D=F[0].coords||F.attr("coords"),B=D.split(","),r=[],k=ag('img[usemap="#'+F.parent("map").attr("name")+'"]'),j=k.offset(),q={width:0,height:0,position:{top:10000000000,right:0,bottom:0,left:10000000000}},A=0,x=0,C;j.left+=Math.ceil((k.outerWidth()-k.width())/2),j.top+=Math.ceil((k.outerHeight()-k.height())/2);if(d==="poly"){A=B.length;while(A--){x=[parseInt(B[--A],10),parseInt(B[A+1],10)],x[0]>q.position.right&&(q.position.right=x[0]),x[0]<q.position.left&&(q.position.left=x[0]),x[1]>q.position.bottom&&(q.position.bottom=x[1]),x[1]<q.position.top&&(q.position.top=x[1]),r.push(x)}}else{A=-1;while(A++<B.length){r.push(parseInt(B[A],10))}}switch(d){case"rect":q={width:Math.abs(r[2]-r[0]),height:Math.abs(r[3]-r[1]),position:{left:Math.min(r[0],r[2]),top:Math.min(r[1],r[3])}};break;case"circle":q={width:r[2]+2,height:r[2]+2,position:{left:r[0],top:r[1]}};break;case"poly":q.width=Math.abs(q.position.right-q.position.left),q.height=Math.abs(q.position.bottom-q.position.top),h.abbrev()==="c"?q.position={left:q.position.left+q.width/2,top:q.position.top+q.height/2}:(I[h+D]||(q.position=H(q,r.slice(),h),p&&(p[0]==="flip"||p[1]==="flip")&&(q.offset=H(q,r.slice(),{x:h.x===ap?at:h.x===at?ap:ad,y:h.y===au?ai:h.y===ai?au:ad}),q.offset.left-=q.position.left,q.offset.top-=q.position.top),I[h+D]=q),q=I[h+D]),q.width=q.height=0}return q.position.left+=j.left,q.position.top+=j.top,q},ac.ie6=function(f){var d=ag.browser,g=f.plugins.ie6;return !d.msie||(""+d.version).charAt(0)!=="6"?af:"object"==typeof g?g:f.plugins.ie6=new ah(f)},ac.ie6.initialize="render"})})(window,document);(function(){var ak=this,ae=ak._,ag={},au=Array.prototype,ad=Object.prototype,ap=Function.prototype,ay=au.push,aj=au.slice,aw=au.concat,am=ad.toString,at=ad.hasOwnProperty,af=au.forEach,ai=au.map,aq=au.reduce,ac=au.reduceRight,ar=au.filter,av=au.every,al=au.some,Z=au.indexOf,ax=au.lastIndexOf,aa=Array.isArray,ab=Object.keys,az=ap.bind,ao=function(a){return a instanceof ao?a:this instanceof ao?void (this._wrapped=a):new ao(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ao),exports._=ao):ak._=ao,ao.VERSION="1.6.0";var X=ao.each=ao.forEach=function(h,f,g){if(null==h){return h}if(af&&h.forEach===af){h.forEach(f,g)}else{if(h.length===+h.length){for(var c=0,d=h.length;d>c;c++){if(f.call(g,h[c],c,h)===ag){return}}}else{for(var b=ao.keys(h),c=0,d=b.length;d>c;c++){if(f.call(g,h[b[c]],b[c],h)===ag){return}}}}return h};ao.map=ao.collect=function(d,a,b){var c=[];return null==d?c:ai&&d.map===ai?d.map(a,b):(X(d,function(g,e,f){c.push(a.call(b,g,e,f))}),c)};var J="Reduce of empty array with no initial value";ao.reduce=ao.foldl=ao.inject=function(f,b,c,d){var a=arguments.length>2;if(null==f&&(f=[]),aq&&f.reduce===aq){return d&&(b=ao.bind(b,d)),a?f.reduce(b,c):f.reduce(b)}if(X(f,function(h,g,e){a?c=b.call(d,c,h,g,e):(c=h,a=!0)}),!a){throw new TypeError(J)}return c},ao.reduceRight=ao.foldr=function(j,f,g,h){var c=arguments.length>2;if(null==j&&(j=[]),ac&&j.reduceRight===ac){return h&&(f=ao.bind(f,h)),c?j.reduceRight(f,g):j.reduceRight(f)}var d=j.length;if(d!==+d){var b=ao.keys(j);d=b.length}if(X(j,function(e,i,a){i=b?b[--d]:--d,c?g=f.call(h,g,j[i],i,a):(g=j[i],c=!0)}),!c){throw new TypeError(J)}return g},ao.find=ao.detect=function(d,a,b){var c;return an(d,function(g,e,f){return a.call(b,g,e,f)?(c=g,!0):void 0}),c},ao.filter=ao.select=function(d,a,b){var c=[];return null==d?c:ar&&d.filter===ar?d.filter(a,b):(X(d,function(g,e,f){a.call(b,g,e,f)&&c.push(g)}),c)},ao.reject=function(c,a,b){return ao.filter(c,function(g,f,d){return !a.call(b,g,f,d)},b)},ao.every=ao.all=function(d,b,c){b||(b=ao.identity);var a=!0;return null==d?a:av&&d.every===av?d.every(b,c):(X(d,function(g,f,e){return(a=a&&b.call(c,g,f,e))?void 0:ag}),!!a)};var an=ao.some=ao.any=function(d,b,c){b||(b=ao.identity);var a=!1;return null==d?a:al&&d.some===al?d.some(b,c):(X(d,function(g,f,e){return a||(a=b.call(c,g,f,e))?ag:void 0}),!!a)};ao.contains=ao.include=function(b,a){return null==b?!1:Z&&b.indexOf===Z?b.indexOf(a)!=-1:an(b,function(c){return c===a})},ao.invoke=function(d,a){var b=aj.call(arguments,2),c=ao.isFunction(a);return ao.map(d,function(e){return(c?a:e[a]).apply(e,b)})},ao.pluck=function(b,a){return ao.map(b,ao.property(a))},ao.where=function(b,a){return ao.filter(b,ao.matches(a))},ao.findWhere=function(b,a){return ao.find(b,ao.matches(a))},ao.max=function(f,b,c){if(!b&&ao.isArray(f)&&f[0]===+f[0]&&f.length<65535){return Math.max.apply(Math,f)}var d=-1/0,a=-1/0;return X(f,function(j,g,e){var h=b?b.call(c,j,g,e):j;h>a&&(d=j,a=h)}),d},ao.min=function(f,b,c){if(!b&&ao.isArray(f)&&f[0]===+f[0]&&f.length<65535){return Math.min.apply(Math,f)}var d=1/0,a=1/0;return X(f,function(j,g,e){var h=b?b.call(c,j,g,e):j;a>h&&(d=j,a=h)}),d},ao.shuffle=function(d){var a,b=0,c=[];return X(d,function(e){a=ao.random(b++),c[b-1]=c[a],c[a]=e}),c},ao.sample=function(c,a,b){return null==a||b?(c.length!==+c.length&&(c=ao.values(c)),c[ao.random(c.length-1)]):ao.shuffle(c).slice(0,Math.max(0,a))};var U=function(a){return null==a?ao.identity:ao.isFunction(a)?a:ao.property(a)};ao.sortBy=function(c,a,b){return a=U(a),ao.pluck(ao.map(c,function(g,f,d){return{value:g,index:f,criteria:a.call(b,g,f,d)}}).sort(function(h,d){var f=h.criteria,g=d.criteria;if(f!==g){if(f>g||f===void 0){return 1}if(g>f||g===void 0){return -1}}return h.index-d.index}),"value")};var Q=function(a){return function(c,d,f){var b={};return d=U(d),X(c,function(g,e){var h=d.call(f,g,e,c);a(b,h,g)}),b}};ao.groupBy=Q(function(c,a,b){ao.has(c,a)?c[a].push(b):c[a]=[b]}),ao.indexBy=Q(function(c,a,b){c[a]=b}),ao.countBy=Q(function(b,a){ao.has(b,a)?b[a]++:b[a]=1}),ao.sortedIndex=function(k,f,g,h){g=U(g);for(var c=g.call(h,f),d=0,b=k.length;b>d;){var j=d+b>>>1;g.call(h,k[j])<c?d=j+1:b=j}return d},ao.toArray=function(a){return a?ao.isArray(a)?aj.call(a):a.length===+a.length?ao.map(a,ao.identity):ao.values(a):[]},ao.size=function(a){return null==a?0:a.length===+a.length?a.length:ao.keys(a).length},ao.first=ao.head=ao.take=function(c,a,b){return null==c?void 0:null==a||b?c[0]:0>a?[]:aj.call(c,0,a)},ao.initial=function(c,a,b){return aj.call(c,0,c.length-(null==a||b?1:a))},ao.last=function(c,a,b){return null==c?void 0:null==a||b?c[c.length-1]:aj.call(c,Math.max(c.length-a,0))},ao.rest=ao.tail=ao.drop=function(c,a,b){return aj.call(c,null==a||b?1:a)},ao.compact=function(a){return ao.filter(a,ao.identity)};var L=function(c,a,b){return a&&ao.every(c,ao.isArray)?aw.apply(b,c):(X(c,function(d){ao.isArray(d)||ao.isArguments(d)?a?ay.apply(b,d):L(d,a,b):b.push(d)}),b)};ao.flatten=function(b,a){return L(b,a,[])},ao.without=function(a){return ao.difference(a,aj.call(arguments,1))},ao.partition=function(d,a){var b=[],c=[];return X(d,function(e){(a(e)?b:c).push(e)}),[b,c]},ao.uniq=ao.unique=function(j,f,g,h){ao.isFunction(f)&&(h=g,g=f,f=!1);var c=g?ao.map(j,g,h):j,d=[],b=[];return X(c,function(a,i){(f?i&&b[b.length-1]===a:ao.contains(b,a))||(b.push(a),d.push(j[i]))}),d},ao.union=function(){return ao.uniq(ao.flatten(arguments,!0))},ao.intersection=function(b){var a=aj.call(arguments,1);return ao.filter(ao.uniq(b),function(c){return ao.every(a,function(d){return ao.contains(d,c)})})},ao.difference=function(b){var a=aw.apply(au,aj.call(arguments,1));return ao.filter(b,function(c){return !ao.contains(a,c)})},ao.zip=function(){for(var c=ao.max(ao.pluck(arguments,"length").concat(0)),a=new Array(c),b=0;c>b;b++){a[b]=ao.pluck(arguments,""+b)}return a},ao.object=function(f,b){if(null==f){return{}}for(var c={},d=0,a=f.length;a>d;d++){b?c[f[d]]=b[d]:c[f[d][0]]=f[d][1]}return c},ao.indexOf=function(f,b,c){if(null==f){return -1}var d=0,a=f.length;if(c){if("number"!=typeof c){return d=ao.sortedIndex(f,b),f[d]===b?d:-1}d=0>c?Math.max(0,a+c):c}if(Z&&f.indexOf===Z){return f.indexOf(b,c)}for(;a>d;d++){if(f[d]===b){return d}}return -1},ao.lastIndexOf=function(f,b,c){if(null==f){return -1}var d=null!=c;if(ax&&f.lastIndexOf===ax){return d?f.lastIndexOf(b,c):f.lastIndexOf(b)}for(var a=d?c:f.length;a--;){if(f[a]===b){return a}}return -1},ao.range=function(g,c,d){arguments.length<=1&&(c=g||0,g=0),d=arguments[2]||1;for(var f=Math.max(Math.ceil((c-g)/d),0),a=0,b=new Array(f);f>a;){b[a++]=g,g+=d}return b};var H=function(){};ao.bind=function(d,a){var b,c;if(az&&d.bind===az){return az.apply(d,aj.call(arguments,1))}if(!ao.isFunction(d)){throw new TypeError}return b=aj.call(arguments,2),c=function(){if(!(this instanceof c)){return d.apply(a,b.concat(aj.call(arguments)))}H.prototype=d.prototype;var e=new H;H.prototype=null;var f=d.apply(e,b.concat(aj.call(arguments)));return Object(f)===f?f:e}},ao.partial=function(b){var a=aj.call(arguments,1);return function(){for(var f=0,g=a.slice(),c=0,d=g.length;d>c;c++){g[c]===ao&&(g[c]=arguments[f++])}for(;f<arguments.length;){g.push(arguments[f++])}return b.apply(this,g)}},ao.bindAll=function(b){var a=aj.call(arguments,1);if(0===a.length){throw new Error("bindAll must be passed function names")}return X(a,function(c){b[c]=ao.bind(b[c],b)}),b},ao.memoize=function(c,a){var b={};return a||(a=ao.identity),function(){var d=a.apply(this,arguments);return ao.has(b,d)?b[d]:b[d]=c.apply(this,arguments)}},ao.delay=function(c,a){var b=aj.call(arguments,2);return setTimeout(function(){return c.apply(null,b)},a)},ao.defer=function(a){return ao.delay.apply(ao,[a,1].concat(aj.call(arguments,1)))},ao.throttle=function(f,m,b){var h,l,g,k=null,d=0;b||(b={});var j=function(){d=b.leading===!1?0:ao.now(),k=null,g=f.apply(h,l),h=l=null};return function(){var a=ao.now();d||b.leading!==!1||(d=a);var c=m-(a-d);return h=this,l=arguments,0>=c?(clearTimeout(k),k=null,d=a,g=f.apply(h,l),h=l=null):k||b.trailing===!1||(k=setTimeout(j,c)),g}},ao.debounce=function(f,m,b){var h,l,g,k,d,j=function(){var a=ao.now()-k;m>a?h=setTimeout(j,m-a):(h=null,b||(d=f.apply(g,l),g=l=null))};return function(){g=this,l=arguments,k=ao.now();var a=b&&!h;return h||(h=setTimeout(j,m)),a&&(d=f.apply(g,l),g=l=null),d}},ao.once=function(c){var a,b=!1;return function(){return b?a:(b=!0,a=c.apply(this,arguments),c=null,a)}},ao.wrap=function(b,a){return ao.partial(a,b)},ao.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--){b=[a[c].apply(this,b)]}return b[0]}},ao.after=function(b,a){return function(){return --b<1?a.apply(this,arguments):void 0}},ao.keys=function(c){if(!ao.isObject(c)){return[]}if(ab){return ab(c)}var a=[];for(var b in c){ao.has(c,b)&&a.push(b)}return a},ao.values=function(f){for(var b=ao.keys(f),c=b.length,d=new Array(c),a=0;c>a;a++){d[a]=f[b[a]]}return d},ao.pairs=function(f){for(var b=ao.keys(f),c=b.length,d=new Array(c),a=0;c>a;a++){d[a]=[b[a],f[b[a]]]}return d},ao.invert=function(f){for(var b={},c=ao.keys(f),d=0,a=c.length;a>d;d++){b[f[c[d]]]=c[d]}return b},ao.functions=ao.methods=function(c){var a=[];for(var b in c){ao.isFunction(c[b])&&a.push(b)}return a.sort()},ao.extend=function(a){return X(aj.call(arguments,1),function(b){if(b){for(var c in b){a[c]=b[c]}}}),a},ao.pick=function(c){var a={},b=aw.apply(au,aj.call(arguments,1));return X(b,function(d){d in c&&(a[d]=c[d])}),a},ao.omit=function(d){var b={},c=aw.apply(au,aj.call(arguments,1));for(var a in d){ao.contains(c,a)||(b[a]=d[a])}return b},ao.defaults=function(a){return X(aj.call(arguments,1),function(b){if(b){for(var c in b){a[c]===void 0&&(a[c]=b[c])}}}),a},ao.clone=function(a){return ao.isObject(a)?ao.isArray(a)?a.slice():ao.extend({},a):a},ao.tap=function(b,a){return a(b),b};var G=function(g,q,b,k){if(g===q){return 0!==g||1/g==1/q}if(null==g||null==q){return g===q}g instanceof ao&&(g=g._wrapped),q instanceof ao&&(q=q._wrapped);var p=am.call(g);if(p!=am.call(q)){return !1}switch(p){case"[object String]":return g==String(q);case"[object Number]":return g!=+g?q!=+q:0==g?1/g==1/q:g==+q;case"[object Date]":case"[object Boolean]":return +g==+q;case"[object RegExp]":return g.source==q.source&&g.global==q.global&&g.multiline==q.multiline&&g.ignoreCase==q.ignoreCase}if("object"!=typeof g||"object"!=typeof q){return !1}for(var h=b.length;h--;){if(b[h]==g){return k[h]==q}}var m=g.constructor,d=q.constructor;if(m!==d&&!(ao.isFunction(m)&&m instanceof m&&ao.isFunction(d)&&d instanceof d)&&"constructor" in g&&"constructor" in q){return !1}b.push(g),k.push(q);var l=0,j=!0;if("[object Array]"==p){if(l=g.length,j=l==q.length){for(;l--&&(j=G(g[l],q[l],b,k));){}}}else{for(var v in g){if(ao.has(g,v)&&(l++,!(j=ao.has(q,v)&&G(g[v],q[v],b,k)))){break}}if(j){for(v in q){if(ao.has(q,v)&&!l--){break}}j=!l}}return b.pop(),k.pop(),j};ao.isEqual=function(b,a){return G(b,a,[],[])},ao.isEmpty=function(b){if(null==b){return !0}if(ao.isArray(b)||ao.isString(b)){return 0===b.length}for(var a in b){if(ao.has(b,a)){return !1}}return !0},ao.isElement=function(a){return !(!a||1!==a.nodeType)},ao.isArray=aa||function(a){return"[object Array]"==am.call(a)},ao.isObject=function(a){return a===Object(a)},X(["Arguments","Function","String","Number","Date","RegExp"],function(a){ao["is"+a]=function(b){return am.call(b)=="[object "+a+"]"}}),ao.isArguments(arguments)||(ao.isArguments=function(a){return !(!a||!ao.has(a,"callee"))}),"function"!=typeof/./&&(ao.isFunction=function(a){return"function"==typeof a}),ao.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},ao.isNaN=function(a){return ao.isNumber(a)&&a!=+a},ao.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==am.call(a)},ao.isNull=function(a){return null===a},ao.isUndefined=function(a){return a===void 0},ao.has=function(b,a){return at.call(b,a)},ao.noConflict=function(){return ak._=ae,this},ao.identity=function(a){return a},ao.constant=function(a){return function(){return a}},ao.property=function(a){return function(b){return b[a]}},ao.matches=function(a){return function(b){if(b===a){return !0}for(var c in a){if(a[c]!==b[c]){return !1}}return !0}},ao.times=function(f,b,c){for(var d=Array(Math.max(0,f)),a=0;f>a;a++){d[a]=b.call(c,a)}return d},ao.random=function(b,a){return null==a&&(a=b,b=0),b+Math.floor(Math.random()*(a-b+1))},ao.now=Date.now||function(){return(new Date).getTime()};var C={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};C.unescape=ao.invert(C.escape);var P={escape:new RegExp("["+ao.keys(C.escape).join("")+"]","g"),unescape:new RegExp("("+ao.keys(C.unescape).join("|")+")","g")};ao.each(["escape","unescape"],function(a){ao[a]=function(b){return null==b?"":(""+b).replace(P[a],function(c){return C[a][c]})}}),ao.result=function(c,a){if(null==c){return void 0}var b=c[a];return ao.isFunction(b)?b.call(c):b},ao.mixin=function(a){X(ao.functions(a),function(b){var c=ao[b]=a[b];ao.prototype[b]=function(){var d=[this._wrapped];return ay.apply(d,arguments),Y.call(this,c.apply(ao,d))}})};var K=0;ao.uniqueId=function(b){var a=++K+"";return b?b+a:a},ao.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ah=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\t|\u2028|\u2029/g;ao.template=function(f,m,b){var h;b=ao.defaults({},b,ao.templateSettings);var l=new RegExp([(b.escape||ah).source,(b.interpolate||ah).source,(b.evaluate||ah).source].join("|")+"|$","g"),g=0,k="__p+='";f.replace(l,function(c,i,n,a,p){return k+=f.slice(g,p).replace(V,function(e){return"\\"+W[e]}),i&&(k+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(k+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),a&&(k+="';\n"+a+"\n__p+='"),g=p+c.length,c}),k+="';\n",b.variable||(k="with(obj||{}){\n"+k+"}\n"),k="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+k+"return __p;\n";try{h=new Function(b.variable||"obj","_",k)}catch(d){throw d.source=k,d}if(m){return h(m,ao)}var j=function(a){return h.call(this,a,ao)};return j.source="function("+(b.variable||"obj")+"){\n"+k+"}",j},ao.chain=function(a){return ao(a).chain()};var Y=function(a){return this._chain?ao(a).chain():a};ao.mixin(ao),X(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=au[b];ao.prototype[b]=function(){var c=this._wrapped;return a.apply(c,arguments),"shift"!=b&&"splice"!=b||0!==c.length||delete c[0],Y.call(this,c)}}),X(["concat","join","slice"],function(b){var a=au[b];ao.prototype[b]=function(){return Y.call(this,a.apply(this._wrapped,arguments))}}),ao.extend(ao.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return ao})}).call(this);(function(){var b=this;function c(g,h,k){k=k||"0";var d=""+g;for(var f=1,e=10;f<h;f++,e=e*10){if(g<e){d=k+d}}return d}var a={date:function(g,i,e,d,j,f,h){return new Date(g,i-1,e,d||0,j||0,f||0,h||0)},utc:function(g,i,e,d,j,f,h){return new Date(Date.UTC(g,i-1,e,d||0,j||0,f||0,h||0))},dayOfWeek:function(f,g){var e=f.getDay()-g;return e>=0?e:e+7},dayOfYear:function(f){var e=a.date(f.getFullYear(),1,1);return Math.round((f-e)/86400000)+1},weekNumber:function(g,h){if(h=="iso"){var e=a.weekNumber(g,1);var f=a.date(g.getFullYear(),1,1).getDay();if(f>1&&f<=4){e+=1}if(e==53&&a.date(g.getFullYear(),12,31).getDay()<4){e=1}if(e==0){e=a.weekNumber(a.date(g.getFullYear()-1,12,31),"iso")}return e}else{return ~~((a.dayOfYear(g)+6-a.dayOfWeek(g,h))/7)}},weekBasedYear:function(g){var e=g.getFullYear();var f=a.weekNumber(g,"iso");var h=a.weekNumber(g,1);if(h==0&&f>=52){e-=1}if(h>f){e+=1}return e},timeZone:function(f,e){if(e){return f.toString().match(/.*GMT(.{5}).*/)[1]}else{return f.toString().match(/.*\((\w+)\)/)[1]}},strftime:function(g,f){var e=a.strftime.i18n[a.strftime.i18n.locale]||a.strftime.i18n._default;f=f.replace(/%([cDFhRrTvXx])/g,function(h,d){switch(d){case"c":return e.dateTimeFormat;case"D":return"%m/%d/%y";case"F":return"%Y-%m-%d";case"h":return"%b";case"R":return"%H:%M";case"r":return"%I:%M:%S %p";case"T":return"%H:%M:%S";case"v":return"%e-%b-%Y";case"X":return e.timeFormat;case"x":return e.dateFormat;default:return h}});return f.replace(/%([AaBbCDdeFGgHhIjklMmnpRrSsTtTtUuVvWwYyZz%])/g,function(h,d){switch(d){case"A":return e.fullWeekdays[g.getDay()];case"a":return e.shortWeekdays[g.getDay()];case"B":return e.fullMonths[g.getMonth()];case"b":return e.shortMonths[g.getMonth()];case"C":return c(~~(g.getFullYear()/100),2);case"d":return c(g.getDate(),2);case"e":return c(g.getDate(),2," ");case"G":return c(a.weekBasedYear(g),4);case"g":return c(a.weekBasedYear(g)%100,2);case"H":return c(g.getHours(),2);case"I":return c(g.getHours()%12||12,2);case"j":return c(a.dayOfYear(g),3);case"k":return c(g.getHours(),2," ");case"l":return c(g.getHours()%12||12,2," ");case"M":return c(g.getMinutes(),2);case"m":return c(g.getMonth()+1,2);case"n":return"\n";case"p":return e.ampm[~~(g.getHours()/12)];case"S":return c(g.getSeconds(),2);case"s":return ~~(g.getTime()/1000);case"t":return"\t";case"U":return c(a.weekNumber(g,0),2);case"u":return g.getDay()||7;case"V":return c(a.weekNumber(g,"iso"),2);case"W":return c(a.weekNumber(g,1),2);case"w":return g.getDay();case"Y":return c(g.getFullYear(),4);case"y":return c(g.getFullYear()%100,2);case"Z":return a.timeZone(g);case"z":return a.timeZone(g,true);case"%":return"%";default:return h}})},dateFromISOString:function(m,f){if(f!==false){var g=new Date(m);if(!isNaN(g)){return g}}var k=m.match(/([0-9]{4})-([0-9]{2})-([0-9]{2})(T([0-9]{2}):([0-9]{2}):([0-9]{2})(\.([0-9]+))?)?(Z|([-+])([0-9]{2})(:([0-9]{2}))?)?/);for(var h=0;h<k.length;h++){var l=Number(k[h]||0);if(!isNaN(l)){k[h]=l}}var e=a.utc(k[1],k[2],k[3],k[5],k[6],k[7],k[9]);if(k[10]!="Z"){var j=Number(k[12])*60+Number(k[14]);if(k[11]=="-"){j=j*-1}e.setTime(e.getTime()+j*60*1000)}return e},distanceOfTimeInWords:function(i,g,h){g=g||new Date();var j=a.distanceOfTimeInWords.i18n[a.distanceOfTimeInWords.i18n.locale]||a.distanceOfTimeInWords.i18n._default;var f=Math.round(Math.abs(g-i)/1000/60);var d=Math.round(Math.abs(g-i)/1000);if(f<2){if(!h){return f==0?j("less than",1,"minute"):j("",1,"minute")}if(d<5){return j("less than",5,"second")}else{if(d<10){return j("less than",10,"second")}else{if(d<20){return j("less than",20,"second")}else{if(d<40){return j("half",1,"minute")}else{if(d<60){return j("less than",1,"minute")}else{return j("",1,"minute")}}}}}}else{if(f<45){return j("",f,"minute")}else{if(f<90){return j("about",1,"hour")}else{if(f<1440){return j("about",Math.round(f/60),"hour")}else{if(f<2530){return j("",1,"day")}else{if(f<43200){return j("",Math.round(f/1440),"day")}else{if(f<86400){return j("about",1,"month")}else{if(f<525600){return j("",Math.round(f/43200),"month")}else{var l=Math.floor(f/525600);var e=Math.floor(l/4)*1440;var k=(f-e)%525600;if(k<131400){return j("about",l,"year")}else{if(k<394200){return j("over",l,"year")}else{return j("almost",l,"year")}}}}}}}}}}}};a.strftime.i18n={_default:{fullMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullWeekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortWeekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ampm:["AM","PM"],dateTimeFormat:"%a %b %e %H:%M:%S %Y",dateFormat:"%m/%d/%y",timeFormat:"%H:%M:%S"},locale:"en"};a.strftime.i18n.en=a.strftime.i18n._default;a.distanceOfTimeInWords.i18n={_default:function(e,f,d){if(f==1&&d=="minute"&&(e=="less than"||e=="half")){f="a"}return[e,f,d+(f>1?"s":"")].join(" ").trim()},locale:"en"};a.distanceOfTimeInWords.i18n.en=a.distanceOfTimeInWords.i18n._default;if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=a}exports._d=a}else{if(typeof b._!=="undefined"){b._.mixin(a)}else{b._=a}}}());(function(h,e,s,g){function k(u){if(u===null||u===g){return false}switch(Object.prototype.toString.apply(u)){case"[object Boolean]":return"boolean";case"[object Array]":return"array";case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object String]":return"string";case"[object Number]":if(isFinite(u)){return"number"}else{if(u===Infinity){return"infinity"}if(u===-Infinity){return"-infinity"}return false}}if(u===h){return"window"}if(u===document){return"document"}if(u.nodeName){switch(u.nodeType){case 1:return"element";case 3:return(/\S/).test(u.nodeValue)?"textnode":"whitespace"}}else{if(typeof u.length==="number"){if(u.callee){return"arguments"}else{if(u.item){return"collection"}}}}if(typeof u==="object"){return"object"}return false}function o(w){var v;switch(k(w)){case"object":v={};for(var y in w){v[y]=o(w[y])}break;case"array":v=[];for(var x=0,u=w.length;x<u;x++){v[x]=o(w[x])}break;default:return w}return v}function q(){var y={};for(var x=0,u=arguments.length;x<u;x++){var v=arguments[x];if(k(v)!="object"){continue}for(var w in v){var A=v[w],z=y[w];y[w]=(z&&k(A)=="object"&&k(z)=="object")?q(z,A):o(A)}}return y}function j(z,y,A){var x=k(z);if(x=="arguments"||x=="collection"||x=="array"){for(var w=0,u=z.length;w<u;w++){y.call(A,z[w],w,z)}}else{for(var v in z){if(z.hasOwnProperty(v)){y.call(A,z[v],v,z)}}}}function p(){var z=arguments[0],x=1,u=arguments.length;for(;x<u;x++){var v=arguments[x];if(k(v)!="object"){continue}for(var w in v){var A=v[w],y=z[w];z[w]=(y&&k(A)=="object"&&k(y)=="object")?p(y,A):o(A)}}return z}var f=function(){var v=arguments,u=v.length,x=v[0],w=1;for(;w<u;w++){p(x.prototype,v[w].prototype||v[w])}return x};var m=function(){};m.prototype={initializeEvents:function(){this.__evnetsList={}},addEvent:function(x,w,u){var v=this;var y=function(A,D){var C=0,z=A.length,B=true;for(;C<A.length;C++){if(A[C]===D){B=false;break}else{B=true}}if(B){A.push(D)}};x=this.__removeOn(x);if(w!=function(){}){this.__evnetsList[x]=this.__evnetsList[x]||[];y(this.__evnetsList[x],w);if(u){w.internal=true}}return this},on:function(w,v,u){this.addEvent(w,v,u);return this},addEvents:function(u){for(var v in u){this.addEvent(v,u[v])}return this},removeEvent:function(w,v){var u=function(x,z){for(var y=x.length;y--;y){if(x[y]===z){x.splice(y,1)}}};w=this.__removeOn(w);if(!this.__evnetsList[w]){return this}if(!v){this.__evnetsList[w]=[]}else{if(!v.internal){u(this.__evnetsList[w],v)}}return this},removeEvents:function(w){var x;if(k(w)=="object"){for(x in w){this.removeEvent(x,w[x])}return this}if(w){w=this.__removeOn(w)}for(x in this.__evnetsList){if(w&&w!=x){continue}var v=this.__evnetsList[x];for(var u=v.length;u--;u){this.removeEvent(x,v[u])}}return this},fireEvent:function(w,v){w=this.__removeOn(w);var u;if(!this.__evnetsList||!this.__evnetsList[w]){return this}j(this.__evnetsList[w],function(x){if(v!==g){u=(k(v)==="array"?x.apply(this,v):x.call(this,v))}else{u=x.apply(this)}},this);return u},cleanEvents:function(){this.__evnetsList=[];return this},__removeOn:function(u){return u.replace(/^on([A-Z])/,function(v,w){return w.toLowerCase()})}};var t=function(){};t.prototype={initializeModule:function(u){this.__mods={};if(s.isEmpty(u)){return}if(s.isEmpty(this.module)){j(u,function(x,w){this.module[w]={};this.module[w].value=x},this)}},addMod:function(u,v){this.__mods[u]=o(v);return this},addMods:function(v,w){if(w){for(var u in w){if(w.hasOwnProperty(u)&&!v.hasMod(u)){v.addMod(u,w[u])}}}},initMods:function(w,v){if(v){for(var u in v){if(v.hasOwnProperty(u)){w._set(u,v[u])}}}},hasMod:function(u){return this.__mods.hasOwnProperty(u)},removeMod:function(u){if(this.hasMod(u)){delete this.__mods[u];delete this.fields[u]}return this},__getDefModVal:function(w){var u=this.__mods[w],x=this.fields[w],v,y;if(!u){return}if((v=u.valueFn)){y=v.call(this);if(y!==g){u.value=y}delete u.valueFn}return u.value},get:function(x){var v=this.__mods[x],u=v&&v.getter;var w=x in this.fields?this.fields[x]:this.__getDefModVal(x);if(u){w=u.call(this,w)}return w},set:function(w,u,A){if(arguments.length<3){A=u;u=null}var y=this.get(w),z,C=this,v=typeof this.module[w]["validator"]==="undefined"?g:this.module[w]["validator"](A,u),x,B=this.fireEvent("before"+this.__capitalFirst(w)+"Change",{name:w,preValue:y,newValue:A,method:u,index:(k(u)==="number"&&u)});x=typeof v==="undefined"?true:(typeof v===g?true:v);if(!x||!B){return false}if(typeof this.module[w]["async"]==="undefined"){if(u){if(k(u)==="number"){this.fields[w][u]=A;z=u}else{this["_arr_"+u](w,A);z=s.indexOf(this.fields[w],A)}}else{this._set(w,A);A=this.fields[w]}this.fireEvent("after"+this.__capitalFirst(w)+"Change",{name:w,preValue:y,newValue:A,method:u,index:z});return this}else{e.ajax(this.module[w]["async"].call(this,A,u)).done(function(){if(u){if(k(u)==="number"){C.fields[w][u]=A;z=u}else{C["_arr_"+u](w,A);z=s.indexOf(C.fields[w],A)}}else{C._set(w,A);A=C.fields[w]}C.fireEvent("after"+C.__capitalFirst(w)+"Change",{name:w,preValue:y,newValue:A,method:u,index:z});return C})}},_set:function(v,w){var u=this.__mods[v],y=u.setter,x;if(y){x=y.call(this,w)}if(x!==g){w=x}this.fields[v]=w},__capitalFirst:function(u){u=u+"";return u.charAt(0).toUpperCase()+u.substring(1)}};s.each(["pop","push","reverse","shift","sort","splice","unshift"],function(u){t.prototype["_arr_"+u]=function(w,x){var v=Array.prototype.slice.call(arguments,1);Array.prototype[u].apply(this.fields[w],v)}});s.each("find reject filter".split(" "),function(u){t.prototype["_arr_"+u]=function(v,w){s[u](this.fields[v],w)}});var i=function(){};i.prototype={initUI:function(){this.renderUI()},__renderUI:function(){},__bindUI:function(){var u=this;j(this.module,function(y,x){var w,z;j(y,function(A,v){if(/^ui\w+/.test(v)){w=r(v.replace("ui",""));(function(C,B){u.on("after"+u.__capitalFirst(C)+"Change",function(D){if(B===D.method){A.call(u,D.newValue,D.index)}})})(x,w)}});if("uiSet" in y){w=y.uiSet;(function(A,v){u.on("after"+u.__capitalFirst(A)+"Change",function(B){v.call(u,B.newValue,B.method,B.index)})})(x,w)}},this)},renderUI:function(){this.__renderUI();this.fireEvent("afterRenderUI");this.__bindUI();this.fireEvent("afterBindUI")}};var c=function(){};c.prototype={$:function(u){return e(u,this.wrap)},$e:function(u){return e(this.wrap).find("."+this.name+"-"+u)},$p:function(){}};if(a){return}var d="data-cp-",n="cp-",l="TEXTAREA INPUT SELECT".split(" "),b=function(u){u=u+"";return u.charAt(0).toUpperCase()+u.substring(1)},r=function(u){u=u+"";return u.charAt(0).toLowerCase()+u.substring(1)};var a=h.compass={};a.module=function(u,x){var v=arguments.callee;if(v.collection[u]){return}var w=function(y){if(typeof y==="undefined"){y={}}s.extend(x,y);if(typeof x.fields==="undefined"){x.fields={}}if(typeof x.module==="undefined"){x.module={}}this.fields=o(x.fields);delete x.fields;this.name=u;this.wrap=typeof x.wrap==="undefined"?null:x.wrap;this.options=x;this.initializeEvents();this.addEvents(this.events);v.parse(this);this.fireEvent("beforeModuleInit");this.initializeModule(this.options.fields||{});this.addMods(this,this.module);this.initMods(this);this.fireEvent("afterModuleInit");this.initUI();this.fireEvent("beforeInit");x.init.call(this);this.fireEvent("afterInit")};f(w,x,t,m,i,c);return v.collection[u]=w};a.module.bind=function(w,x,v){var u=a.module.collection[w];x.each(function(y,z){e(z).data("module",new u(q({wrap:e(z)},v)))})};a.module.parse=function(w){var u=w.name,v=e("MOD_PREFIX"+u),x=a.module.directives;s.each(x,function(y,A){var z=e("["+d+A+"]",v);z.each(function(C,B){y(e(B),w)})})};a.module.collection={};a.events=m})(window,jQuery,_);compass=(compass||{});compass.util=(compass.util||{});(function(d,g){var a=window,c=document,h="data-lazyload-src",e="lazyload-fn",b="data-lazyload-fn-body",f="lazyload-textarea",i=function(){var A=200,t=0,k={},n=false,l=0,o=d(a),y={img:[],fn:[],textarea:[]},r=function(I,F){for(var H=0;H<F.length;H++){for(var G=0,E=I.length;G<E;G++){if(F[H]===I[G]){F.splice(H,1);break}}}d.merge(I,F)},z=function(I,H,F){var G;for(var E=0;E<I.length;){G=I[E];if(p(G)){I.splice(E,1);H.call(F,G)}else{E++}}},m=function(F,E){clearTimeout(F.tId);F.tId=setTimeout(function(){F.call(E)},100)},C=function(){return o.height()},s=function(){if(n){return}o.bind("scroll.datalazyload",function(E){m(B)});o.bind("resize.datalazyload",function(E){l=C();m(B)});n=true},u=function(){if(!n){return}o.unbind("scroll.datalazyload");o.unbind("resize.datalazyload");n=false},D=function(F){var H=d("img["+h+"]",F).toArray(),G=d("."+e,F).toArray(),E=d("."+f,F).toArray();r(y.img,H);r(y.fn,G);r(y.textarea,E)},B=function(){z(y.img,v);z(y.fn,x);z(y.textarea,j);if(y.img.length===0&&y.fn.length===0&&y.textarea.length===0){u()}},v=function(E){var F;E=d(E);F=E.attr(h);if(F){E.attr("src",F);E.removeAttr(h)}},x=function(F){var H,G,E;if(d.isArray(F)){H=F[0];G=F[1]}else{H=F}if(G){G(H)}H=d(H);E=H.attr(b);if(E){G=q(E);G(H);H.removeAttr(b)}},j=function(E){E=d(E);E.html(d("textarea",E).val())},q=function(H){var F=H.split("."),E=F.length,I=a;for(var G=(d.isWindow(F[0])?1:0);G<E;G++){if(d.isFunction(I[F[G]])||d.isPlainObject(I[F[G]])){I=I[F[G]]}else{return null}}if(d.isFunction(I)){return I}return null},p=function(G){var E=false,I=d(c).scrollTop(),H=I+l+t,F=d(G).offset().top;if(F<=H){E=true}return E},w=function(H,I){var F=[],E;if(!H){return F}E=H.length;if(!E){F.push([H,I])}else{if(E>0){for(var G=0;G<E;G++){F.push([H[G],I])}}}return F};return{init:function(){if(!n){l=C();s()}B()},register:function(F){var H=F.containers;t=F.threshold||A;for(var G=0,E=H.length;G<E;G++){this.bind(H[G],d.proxy(this.add,this))}this.init()},add:function(E){D(E);this.init()},bind:function(G,F){var E=w(G,F);if(E.length===0){return}r(y.fn,E)}}};g.datalazyload=i()})(jQuery,compass.util);
/*
 * jQuery Form Plugin
 * version: 3.26.0-2013.01.28
 * @requires jQuery v1.5 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */
(function(e){var c={};c.fileapi=e("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;e.fn.ajaxSubmit=function(h){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var g,y,j,m=this;if(typeof h=="function"){h={success:h}}g=this.attr("method");y=this.attr("action");j=(typeof y==="string")?e.trim(y):"";j=j||window.location.href||"";if(j){j=(j.match(/^([^#]+)/)||[])[1]}h=e.extend(true,{url:j,success:e.ajaxSettings.success,type:g||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},h);var s={};this.trigger("form-pre-serialize",[this,h,s]);if(s.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(h.beforeSerialize&&h.beforeSerialize(this,h)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var l=h.traditional;if(l===undefined){l=e.ajaxSettings.traditional}var p=[];var B,C=this.formToArray(h.semantic,p);if(h.data){h.extraData=h.data;B=e.param(h.data,l)}if(h.beforeSubmit&&h.beforeSubmit(C,this,h)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[C,this,h,s]);if(s.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var w=e.param(C,l);if(B){w=(w?(w+"&"+B):B)}if(h.type.toUpperCase()=="GET"){h.url+=(h.url.indexOf("?")>=0?"&":"?")+w;h.data=null}else{h.data=w}var E=[];if(h.resetForm){E.push(function(){m.resetForm()})}if(h.clearForm){E.push(function(){m.clearForm(h.includeHidden)})}if(!h.dataType&&h.target){var i=h.success||function(){};E.push(function(q){var k=h.replaceTarget?"replaceWith":"html";e(h.target)[k](q).each(i,arguments)})}else{if(h.success){E.push(h.success)}}h.success=function(H,q,I){var G=h.context||this;for(var F=0,k=E.length;F<k;F++){E[F].apply(G,[H,q,I||m,m])}};var A=e('input[type=file]:enabled[value!=""]',this);var n=A.length>0;var z="multipart/form-data";var v=(m.attr("enctype")==z||m.attr("encoding")==z);var u=c.fileapi&&c.formdata;d("fileAPI :"+u);var o=(n||v)&&!u;var t;if(h.iframe!==false&&(h.iframe||o)){if(h.closeKeepAlive){e.get(h.closeKeepAlive,function(){t=D(C)})}else{t=D(C)}}else{if((n||v)&&u){t=r(C)}else{t=e.ajax(h)}}m.removeData("jqxhr").data("jqxhr",t);for(var x=0;x<p.length;x++){p[x]=null}this.trigger("form-submit-notify",[this,h]);return this;function f(H){var I=e.param(H).split("&");var q=I.length;var k=[];var G,F;for(G=0;G<q;G++){I[G]=I[G].replace(/\+/g," ");F=I[G].split("=");k.push([decodeURIComponent(F[0]),decodeURIComponent(F[1])])}return k}function r(q){var k=new FormData();for(var F=0;F<q.length;F++){k.append(q[F].name,q[F].value)}if(h.extraData){var I=f(h.extraData);for(F=0;F<I.length;F++){if(I[F]){k.append(I[F][0],I[F][1])}}}h.data=null;var H=e.extend(true,{},e.ajaxSettings,h,{contentType:false,processData:false,cache:false,type:g||"POST"});if(h.uploadProgress){H.xhr=function(){var J=jQuery.ajaxSettings.xhr();if(J.upload){J.upload.onprogress=function(N){var M=0;var K=N.loaded||N.position;var L=N.total;if(N.lengthComputable){M=Math.ceil(K/L*100)}h.uploadProgress(N,K,L,M)}}return J}}H.data=null;var G=H.beforeSend;H.beforeSend=function(K,J){J.data=k;if(G){G.call(this,K,J)}};return e.ajax(H)}function D(ad){var I=m[0],H,Z,T,ab,W,K,O,M,N,X,aa,R;var L=!!e.fn.prop;var ag=e.Deferred();if(ad){for(Z=0;Z<p.length;Z++){H=e(p[Z]);if(L){H.prop("disabled",false)}else{H.removeAttr("disabled")}}}T=e.extend(true,{},e.ajaxSettings,h);T.context=T.context||T;W="jqFormIO"+(new Date().getTime());if(T.iframeTarget){K=e(T.iframeTarget);X=K.attr("name");if(!X){K.attr("name",W)}else{W=X}}else{K=e('<iframe name="'+W+'" src="'+T.iframeSrc+'" />');K.css({position:"absolute",top:"-1000px",left:"-1000px"})}O=K[0];M={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(ah){var ai=(ah==="timeout"?"timeout":"aborted");d("aborting upload... "+ai);this.aborted=1;try{if(O.contentWindow.document.execCommand){O.contentWindow.document.execCommand("Stop")}}catch(aj){}K.attr("src",T.iframeSrc);M.error=ai;if(T.error){T.error.call(T.context,M,ai,ah)}if(ab){e.event.trigger("ajaxError",[M,T,ai])}if(T.complete){T.complete.call(T.context,M,ai)}}};ab=T.global;if(ab&&0===e.active++){e.event.trigger("ajaxStart")}if(ab){e.event.trigger("ajaxSend",[M,T])}if(T.beforeSend&&T.beforeSend.call(T.context,M,T)===false){if(T.global){e.active--}ag.reject();return ag}if(M.aborted){ag.reject();return ag}N=I.clk;if(N){X=N.name;if(X&&!N.disabled){T.extraData=T.extraData||{};T.extraData[X]=N.value;if(N.type=="image"){T.extraData[X+".x"]=I.clk_x;T.extraData[X+".y"]=I.clk_y}}}var S=1;var P=2;function Q(ai){var ah=ai.contentWindow?ai.contentWindow.document:ai.contentDocument?ai.contentDocument:ai.document;return ah}var G=e("meta[name=csrf-token]").attr("content");var F=e("meta[name=csrf-param]").attr("content");if(F&&G){T.extraData=T.extraData||{};T.extraData[F]=G}function Y(){var aj=m.attr("target"),ah=m.attr("action");I.setAttribute("target",W);if(!g){I.setAttribute("method","POST")}if(ah!=T.url){I.setAttribute("action",T.url)}if(!T.skipEncodingOverride&&(!g||/post/i.test(g))){m.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(T.timeout){R=setTimeout(function(){aa=true;V(S)},T.timeout)}function ak(){try{var an=Q(O).readyState;d("state = "+an);if(an&&an.toLowerCase()=="uninitialized"){setTimeout(ak,50)}}catch(ao){d("Server abort: ",ao," (",ao.name,")");V(P);if(R){clearTimeout(R)}R=undefined}}var ai=[];try{if(T.extraData){for(var am in T.extraData){if(T.extraData.hasOwnProperty(am)){if(e.isPlainObject(T.extraData[am])&&T.extraData[am].hasOwnProperty("name")&&T.extraData[am].hasOwnProperty("value")){ai.push(e('<input type="hidden" name="'+T.extraData[am].name+'">').val(T.extraData[am].value).appendTo(I)[0])}else{ai.push(e('<input type="hidden" name="'+am+'">').val(T.extraData[am]).appendTo(I)[0])}}}}if(!T.iframeTarget){K.appendTo("body");if(O.attachEvent){O.attachEvent("onload",V)}else{O.addEventListener("load",V,false)}}setTimeout(ak,15);var al=document.createElement("form").submit;al.apply(I)}finally{I.setAttribute("action",ah);if(aj){I.setAttribute("target",aj)}else{m.removeAttr("target")}e(ai).remove()}}if(T.forceSync){Y()}else{setTimeout(Y,10)}var ae,af,ac=50,J;function V(am){if(M.aborted||J){return}try{af=Q(O)}catch(ap){d("cannot access response document: ",ap);am=P}if(am===S&&M){M.abort("timeout");ag.reject(M,"timeout");return}else{if(am==P&&M){M.abort("server abort");ag.reject(M,"error","server abort");return}}if(!af||af.location.href==T.iframeSrc){if(!aa){return}}if(O.detachEvent){O.detachEvent("onload",V)}else{O.removeEventListener("load",V,false)}var ak="success",ao;try{if(aa){throw"timeout"}var aj=T.dataType=="xml"||af.XMLDocument||e.isXMLDoc(af);d("isXml="+aj);if(!aj&&window.opera&&(af.body===null||!af.body.innerHTML)){if(--ac){d("requeing onLoad callback, DOM not available");setTimeout(V,250);return}}var aq=af.body?af.body:af.documentElement;M.responseText=aq?aq.innerHTML:null;M.responseXML=af.XMLDocument?af.XMLDocument:af;if(aj){T.dataType="xml"}M.getResponseHeader=function(au){var at={"content-type":T.dataType};return at[au]};if(aq){M.status=Number(aq.getAttribute("status"))||M.status;M.statusText=aq.getAttribute("statusText")||M.statusText}var ah=(T.dataType||"").toLowerCase();var an=/(json|script|text)/.test(ah);if(an||T.textarea){var al=af.getElementsByTagName("textarea")[0];if(al){M.responseText=al.value;M.status=Number(al.getAttribute("status"))||M.status;M.statusText=al.getAttribute("statusText")||M.statusText}else{if(an){var ai=af.getElementsByTagName("pre")[0];var ar=af.getElementsByTagName("body")[0];if(ai){M.responseText=ai.textContent?ai.textContent:ai.innerText}else{if(ar){M.responseText=ar.textContent?ar.textContent:ar.innerText}}}}}else{if(ah=="xml"&&!M.responseXML&&M.responseText){M.responseXML=U(M.responseText)}}try{ae=k(M,ah,T)}catch(am){ak="parsererror";M.error=ao=(am||ak)}}catch(am){d("error caught: ",am);ak="error";M.error=ao=(am||ak)}if(M.aborted){d("upload aborted");ak=null}if(M.status){ak=(M.status>=200&&M.status<300||M.status===304)?"success":"error"}if(ak==="success"){if(T.success){T.success.call(T.context,ae,"success",M)}ag.resolve(M.responseText,"success",M);if(ab){e.event.trigger("ajaxSuccess",[M,T])}}else{if(ak){if(ao===undefined){ao=M.statusText}if(T.error){T.error.call(T.context,M,ak,ao)}ag.reject(M,"error",ao);if(ab){e.event.trigger("ajaxError",[M,T,ao])}}}if(ab){e.event.trigger("ajaxComplete",[M,T])}if(ab&&!--e.active){e.event.trigger("ajaxStop")}if(T.complete){T.complete.call(T.context,M,ak)}J=true;if(T.timeout){clearTimeout(R)}setTimeout(function(){if(!T.iframeTarget){K.remove()}M.responseXML=null},100)}var U=e.parseXML||function(ah,ai){if(window.ActiveXObject){ai=new ActiveXObject("Microsoft.XMLDOM");ai.async="false";ai.loadXML(ah)}else{ai=(new DOMParser()).parseFromString(ah,"text/xml")}return(ai&&ai.documentElement&&ai.documentElement.nodeName!="parsererror")?ai:null};var q=e.parseJSON||function(ah){return window["eval"]("("+ah+")")};var k=function(am,ak,aj){var ai=am.getResponseHeader("content-type")||"",ah=ak==="xml"||!ak&&ai.indexOf("xml")>=0,al=ah?am.responseXML:am.responseText;if(ah&&al.documentElement.nodeName==="parsererror"){if(e.error){e.error("parsererror")}}if(aj&&aj.dataFilter){al=aj.dataFilter(al,ak)}if(typeof al==="string"){if(ak==="json"||!ak&&ai.indexOf("json")>=0){al=q(al)}else{if(ak==="script"||!ak&&ai.indexOf("javascript")>=0){e.globalEval(al)}}}return al};return ag}};e.fn.ajaxForm=function(f){f=f||{};f.delegation=f.delegation&&e.isFunction(e.fn.on);if(!f.delegation&&this.length===0){var g={s:this.selector,c:this.context};if(!e.isReady&&g.s){d("DOM not ready, queuing ajaxForm");e(function(){e(g.s,g.c).ajaxForm(f)});return this}d("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}if(f.delegation){e(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,f,b).on("click.form-plugin",this.selector,f,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",f,b).bind("click.form-plugin",f,a)};function b(g){var f=g.data;if(!g.isDefaultPrevented()){g.preventDefault();e(this).ajaxSubmit(f)}}function a(j){var i=j.target;var g=e(i);if(!(g.is("[type=submit],[type=image]"))){var f=g.closest("[type=submit]");if(f.length===0){return}i=f[0]}var h=this;h.clk=i;if(i.type=="image"){if(j.offsetX!==undefined){h.clk_x=j.offsetX;h.clk_y=j.offsetY}else{if(typeof e.fn.offset=="function"){var k=g.offset();h.clk_x=j.pageX-k.left;h.clk_y=j.pageY-k.top}else{h.clk_x=j.pageX-i.offsetLeft;h.clk_y=j.pageY-i.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)}e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};e.fn.formToArray=function(w,f){var u=[];if(this.length===0){return u}var k=this[0];var o=w?k.getElementsByTagName("*"):k.elements;if(!o){return u}var q,p,m,x,l,s,h;for(q=0,s=o.length;q<s;q++){l=o[q];m=l.name;if(!m){continue}if(w&&k.clk&&l.type=="image"){if(!l.disabled&&k.clk==l){u.push({name:m,value:e(l).val(),type:l.type});u.push({name:m+".x",value:k.clk_x},{name:m+".y",value:k.clk_y})}continue}x=e.fieldValue(l,true);if(x&&x.constructor==Array){if(f){f.push(l)}for(p=0,h=x.length;p<h;p++){u.push({name:m,value:x[p]})}}else{if(c.fileapi&&l.type=="file"&&!l.disabled){if(f){f.push(l)}var g=l.files;if(g.length){for(p=0;p<g.length;p++){u.push({name:m,value:g[p],type:l.type})}}else{u.push({name:m,value:"",type:l.type})}}else{if(x!==null&&typeof x!="undefined"){if(f){f.push(l)}u.push({name:m,value:x,type:l.type,required:l.required})}}}}if(!w&&k.clk){var r=e(k.clk),t=r[0];m=t.name;if(m&&!t.disabled&&t.type=="image"){u.push({name:m,value:r.val()});u.push({name:m+".x",value:k.clk_x},{name:m+".y",value:k.clk_y})}}return u};e.fn.formSerialize=function(f){return e.param(this.formToArray(f))};e.fn.fieldSerialize=function(g){var f=[];this.each(function(){var l=this.name;if(!l){return}var j=e.fieldValue(this,g);if(j&&j.constructor==Array){for(var k=0,h=j.length;k<h;k++){f.push({name:l,value:j[k]})}}else{if(j!==null&&typeof j!="undefined"){f.push({name:this.name,value:j})}}});return e.param(f)};e.fn.fieldValue=function(l){for(var k=[],h=0,f=this.length;h<f;h++){var j=this[h];var g=e.fieldValue(j,l);if(g===null||typeof g=="undefined"||(g.constructor==Array&&!g.length)){continue}if(g.constructor==Array){e.merge(k,g)}else{k.push(g)}}return k};e.fieldValue=function(f,m){var h=f.name,s=f.type,u=f.tagName.toLowerCase();if(m===undefined){m=true}if(m&&(!h||f.disabled||s=="reset"||s=="button"||(s=="checkbox"||s=="radio")&&!f.checked||(s=="submit"||s=="image")&&f.form&&f.form.clk!=f||u=="select"&&f.selectedIndex==-1)){return null}if(u=="select"){var o=f.selectedIndex;if(o<0){return null}var q=[],g=f.options;var k=(s=="select-one");var p=(k?o+1:g.length);for(var j=(k?o:0);j<p;j++){var l=g[j];if(l.selected){var r=l.value;if(!r){r=(l.attributes&&l.attributes.value&&!(l.attributes.value.specified))?l.text:l.value}if(k){return r}q.push(r)}}return q}return e(f).val()};e.fn.clearForm=function(f){return this.each(function(){e("input,select,textarea",this).clearFields(f)})};e.fn.clearFields=e.fn.clearInputs=function(f){var g=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,h=this.tagName.toLowerCase();if(g.test(i)||h=="textarea"){this.value=""}else{if(i=="checkbox"||i=="radio"){this.checked=false}else{if(h=="select"){this.selectedIndex=-1}else{if(i=="file"){if(/MSIE/.test(navigator.userAgent)){e(this).replaceWith(e(this).clone())}else{e(this).val("")}}else{if(f){if((f===true&&/hidden/.test(i))||(typeof f=="string"&&e(this).is(f))){this.value=""}}}}}}})};e.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};e.fn.enable=function(f){if(f===undefined){f=true}return this.each(function(){this.disabled=!f})};e.fn.selected=function(f){if(f===undefined){f=true}return this.each(function(){var g=this.type;if(g=="checkbox"||g=="radio"){this.checked=f}else{if(this.tagName.toLowerCase()=="option"){var h=e(this).parent("select");if(f&&h[0]&&h[0].type=="select-one"){h.find("option").selected(false)}this.selected=f}}})};e.fn.ajaxSubmit.debug=false;function d(){if(!e.fn.ajaxSubmit.debug){return}var f="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(f)}else{if(window.opera&&window.opera.postError){window.opera.postError(f)}}}})(jQuery);if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){var t="0.4.4",j=window.jQuery||window.$||(window.$={}),f={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(F){return String(F).evalJSON()}||j.parseJSON||j.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||j.toJSON};if(!("parse" in f)||!("stringify" in f)){throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page")}var m={__jstorage_meta:{CRC32:{}}},c={jStorage:"{}"},y=null,o=0,i=false,k={},C=false,z=0,s={},x=+new Date(),A,B={isXML:function(G){var F=(G?G.ownerDocument||G:0).documentElement;return F?F.nodeName!=="HTML":false},encode:function(G){if(!this.isXML(G)){return false}try{return new XMLSerializer().serializeToString(G)}catch(F){try{return G.xml}catch(H){}}return false},decode:function(G){var F=("DOMParser" in window&&(new DOMParser()).parseFromString)||(window.ActiveXObject&&function(I){var J=new ActiveXObject("Microsoft.XMLDOM");J.async="false";J.loadXML(I);return J}),H;if(!F){return false}H=F.call("DOMParser" in window&&(new DOMParser())||window,G,"text/xml");return this.isXML(H)?H:false}};function q(){var F=false;if("localStorage" in window){try{window.localStorage.setItem("_tmptest","tmpval");F=true;window.localStorage.removeItem("_tmptest")}catch(G){}}if(F){try{if(window.localStorage){c=window.localStorage;i="localStorage";z=c.jStorage_update}}catch(M){}}else{if("globalStorage" in window){try{if(window.globalStorage){if(window.location.hostname=="localhost"){c=window.globalStorage["localhost.localdomain"]}else{c=window.globalStorage[window.location.hostname]}i="globalStorage";z=c.jStorage_update}}catch(L){}}else{y=document.createElement("link");if(y.addBehavior){y.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(y);try{y.load("jStorage")}catch(K){y.setAttribute("jStorage","{}");y.save("jStorage");y.load("jStorage")}var J="{}";try{J=y.getAttribute("jStorage")}catch(I){}try{z=y.getAttribute("jStorage_update")}catch(H){}c.jStorage=J;i="userDataBehavior"}else{y=null;return}}}l();b();w();u();if("addEventListener" in window){window.addEventListener("pageshow",function(N){if(N.persisted){p()}},false)}}function e(){var H="{}";if(i=="userDataBehavior"){y.load("jStorage");try{H=y.getAttribute("jStorage")}catch(G){}try{z=y.getAttribute("jStorage_update")}catch(F){}c.jStorage=H}l();b();u()}function w(){if(i=="localStorage"||i=="globalStorage"){if("addEventListener" in window){window.addEventListener("storage",p,false)}else{document.attachEvent("onstorage",p)}}else{if(i=="userDataBehavior"){setInterval(p,1000)}}}function p(){var F;clearTimeout(C);C=setTimeout(function(){if(i=="localStorage"||i=="globalStorage"){F=c.jStorage_update}else{if(i=="userDataBehavior"){y.load("jStorage");try{F=y.getAttribute("jStorage_update")}catch(G){}}}if(F&&F!=z){z=F;h()}},25)}function h(){var F=f.parse(f.stringify(m.__jstorage_meta.CRC32)),J;e();J=f.parse(f.stringify(m.__jstorage_meta.CRC32));var H,G=[],I=[];for(H in F){if(F.hasOwnProperty(H)){if(!J[H]){I.push(H);continue}if(F[H]!=J[H]&&String(F[H]).substr(0,2)=="2."){G.push(H)}}}for(H in J){if(J.hasOwnProperty(H)){if(!F[H]){G.push(H)}}}E(G,"updated");E(I,"deleted")}function E(K,L){K=[].concat(K||[]);if(L=="flushed"){K=[];for(var J in k){if(k.hasOwnProperty(J)){K.push(J)}}L="deleted"}for(var I=0,F=K.length;I<F;I++){if(k[K[I]]){for(var H=0,G=k[K[I]].length;H<G;H++){k[K[I]][H](K[I],L)}}if(k["*"]){for(var H=0,G=k["*"].length;H<G;H++){k["*"][H](K[I],L)}}}}function n(){var G=(+new Date()).toString();if(i=="localStorage"||i=="globalStorage"){try{c.jStorage_update=G}catch(F){i=false}}else{if(i=="userDataBehavior"){y.setAttribute("jStorage_update",G);y.save("jStorage")}}p()}function l(){if(c.jStorage){try{m=f.parse(String(c.jStorage))}catch(F){c.jStorage="{}"}}else{c.jStorage="{}"}o=c.jStorage?String(c.jStorage).length:0;if(!m.__jstorage_meta){m.__jstorage_meta={}}if(!m.__jstorage_meta.CRC32){m.__jstorage_meta.CRC32={}}}function r(){a();try{c.jStorage=f.stringify(m);if(y){y.setAttribute("jStorage",c.jStorage);y.save("jStorage")}o=c.jStorage?String(c.jStorage).length:0}catch(F){}}function v(F){if(!F||(typeof F!="string"&&typeof F!="number")){throw new TypeError("Key name must be string or numeric")}if(F=="__jstorage_meta"){throw new TypeError("Reserved key name")}return true}function b(){var L,G,J,H,I=Infinity,K=false,F=[];clearTimeout(A);if(!m.__jstorage_meta||typeof m.__jstorage_meta.TTL!="object"){return}L=+new Date();J=m.__jstorage_meta.TTL;H=m.__jstorage_meta.CRC32;for(G in J){if(J.hasOwnProperty(G)){if(J[G]<=L){delete J[G];delete H[G];delete m[G];K=true;F.push(G)}else{if(J[G]<I){I=J[G]}}}}if(I!=Infinity){A=setTimeout(b,I-L)}if(K){r();n();E(F,"deleted")}}function u(){var I,G;if(!m.__jstorage_meta.PubSub){return}var F,H=x;for(I=G=m.__jstorage_meta.PubSub.length-1;I>=0;I--){F=m.__jstorage_meta.PubSub[I];if(F[0]>x){H=F[0];d(F[1],F[2])}}x=H}function d(H,I){if(s[H]){for(var G=0,F=s[H].length;G<F;G++){s[H][G](H,f.parse(f.stringify(I)))}}}function a(){if(!m.__jstorage_meta.PubSub){return}var H=+new Date()-2000;for(var G=0,F=m.__jstorage_meta.PubSub.length;G<F;G++){if(m.__jstorage_meta.PubSub[G][0]<=H){m.__jstorage_meta.PubSub.splice(G,m.__jstorage_meta.PubSub.length-G);break}}if(!m.__jstorage_meta.PubSub.length){delete m.__jstorage_meta.PubSub}}function g(F,G){if(!m.__jstorage_meta){m.__jstorage_meta={}}if(!m.__jstorage_meta.PubSub){m.__jstorage_meta.PubSub=[]}m.__jstorage_meta.PubSub.unshift([+new Date,F,G]);r();n()}function D(K,G){var F=K.length,J=G^F,I=0,H;while(F>=4){H=((K.charCodeAt(I)&255))|((K.charCodeAt(++I)&255)<<8)|((K.charCodeAt(++I)&255)<<16)|((K.charCodeAt(++I)&255)<<24);H=(((H&65535)*1540483477)+((((H>>>16)*1540483477)&65535)<<16));H^=H>>>24;H=(((H&65535)*1540483477)+((((H>>>16)*1540483477)&65535)<<16));J=(((J&65535)*1540483477)+((((J>>>16)*1540483477)&65535)<<16))^H;F-=4;++I}switch(F){case 3:J^=(K.charCodeAt(I+2)&255)<<16;case 2:J^=(K.charCodeAt(I+1)&255)<<8;case 1:J^=(K.charCodeAt(I)&255);J=(((J&65535)*1540483477)+((((J>>>16)*1540483477)&65535)<<16))}J^=J>>>13;J=(((J&65535)*1540483477)+((((J>>>16)*1540483477)&65535)<<16));J^=J>>>15;return J>>>0}j.jStorage={version:t,set:function(G,H,F){v(G);F=F||{};if(typeof H=="undefined"){this.deleteKey(G);return H}if(B.isXML(H)){H={_is_xml:true,xml:B.encode(H)}}else{if(typeof H=="function"){return undefined}else{if(H&&typeof H=="object"){H=f.parse(f.stringify(H))}}}m[G]=H;m.__jstorage_meta.CRC32[G]="2."+D(f.stringify(H),2538058380);this.setTTL(G,F.TTL||0);E(G,"updated");return H},get:function(F,G){v(F);if(F in m){if(m[F]&&typeof m[F]=="object"&&m[F]._is_xml){return B.decode(m[F].xml)}else{return m[F]}}return typeof(G)=="undefined"?null:G},deleteKey:function(F){v(F);if(F in m){delete m[F];if(typeof m.__jstorage_meta.TTL=="object"&&F in m.__jstorage_meta.TTL){delete m.__jstorage_meta.TTL[F]}delete m.__jstorage_meta.CRC32[F];r();n();E(F,"deleted");return true}return false},setTTL:function(G,F){var H=+new Date();v(G);F=Number(F)||0;if(G in m){if(!m.__jstorage_meta.TTL){m.__jstorage_meta.TTL={}}if(F>0){m.__jstorage_meta.TTL[G]=H+F}else{delete m.__jstorage_meta.TTL[G]}r();b();n();return true}return false},getTTL:function(G){var H=+new Date(),F;v(G);if(G in m&&m.__jstorage_meta.TTL&&m.__jstorage_meta.TTL[G]){F=m.__jstorage_meta.TTL[G]-H;return F||0}return 0},flush:function(){m={__jstorage_meta:{CRC32:{}}};r();n();E(null,"flushed");return true},storageObj:function(){function G(){}G.prototype=m;return new G()},index:function(){var F=[],G;for(G in m){if(m.hasOwnProperty(G)&&G!="__jstorage_meta"){F.push(G)}}return F},storageSize:function(){return o},currentBackend:function(){return i},storageAvailable:function(){return !!i},listenKeyChange:function(F,G){v(F);if(!k[F]){k[F]=[]}k[F].push(G)},stopListening:function(G,H){v(G);if(!k[G]){return}if(!H){delete k[G];return}for(var F=k[G].length-1;F>=0;F--){if(k[G][F]==H){k[G].splice(F,1)}}},subscribe:function(F,G){F=(F||"").toString();if(!F){throw new TypeError("Channel not defined")}if(!s[F]){s[F]=[]}s[F].push(G)},publish:function(F,G){F=(F||"").toString();if(!F){throw new TypeError("Channel not defined")}g(F,G)},reInit:function(){e()}};q()})();"use strict";if(typeof jQuery.cpSys==="undefined"){jQuery.cpSys={}}(function(d){var d=jQuery,e=d.jStorage,b="0.0.1",c=(typeof window.isUser==="undefined")?"0000":window.isUser.uid;var a=function(k,m,g){var h,n=e.get(k),o=function(){n.push({value:m,uid:c,version:b,expires:g});e.set(k,n);if(g!==-1){e.setTTL(k,g)}};g=(typeof g==="undefined")?-1:g;if(typeof m==="undefined"){if(!n){return null}_.each(n,function(l,i){if(c===l.uid){h=l.value}});return h}if(!n){n=[];o();return}for(var j=0,f=n.length;j<f;j++){if(c===n[j].uid){_.extend(n[j],{value:m,uid:c,expires:(typeof g===undefined)?n[j]["expires"]:g});e.set(k,n);if(g!==-1){e.setTTL(k,g)}}else{n.push({value:m,uid:c,version:b,expires:(typeof g===undefined)?-1:g});e.set(k,n);return}}};a.deploy=function(g,f){var h=function(j,i){var k=_.extned(e.get(j),{version:i});e.set(j,k);d.cpEvt.send("status_"+j+"_deploy")};if(_.isString(g)){h(g,f)}else{_.each(g,function(j,i){h.set(i,j)})}};a.remove=function(f){e.deleteKey(f)};jQuery.cpSys.status=a})(jQuery);(function(a){var b=a(".notice-common");b.find(".i-notice-close").click(function(){b.animate({opacity:"hide"},600)})})(jQuery);function detectHash(){function a(){if(window.location.hash&&$(window.location.hash).length){var b=$(window.location.hash).offset().top-$(".top-header").height()-30;$(window).scrollTop(b)}}$(window).bind("hashchange",function(){a()});a()}(function(b){var a=function(){var c=this;c.elem=null;b.extend(c,{init:function(){c.elem=b("<div></div>")},bind:function(e,f,d){d=d||false;if(!c.elem){c.elem=b("body")}if(!c.isbind(e)){c.elem.bind(e,f)}else{if(d){c.elem.unbind(e);c.elem.bind(e,f)}else{c.elem.bind(e,f)}}},unbind:function(d,e){c.elem.unbind(d,e)},isbind:function(d){var e=c.elem.data("events");if(e&&e[d]!=undefined&&e[d].length>0){return true}else{return false}},send:function(e){var f=[];for(var g=1,d=arguments.length;g<d;g++){f.push(arguments[g])}c.elem.trigger(arguments[0],f)}});c.init()};b.cpEvt=new a()})(jQuery);(function(a){var c={},b={};a.cpTimer=a.cpTimer||{start:function(d,e){if(c[d]&&c[d]>0){return}c[d]=setInterval(function(){try{a.cpEvt.send("timer_"+d)}catch(f){}},e)},stop:function(d){if(c[d]&&c[d]>0){clearInterval(c[d])}}}})(jQuery);(function(a){a.fn.cpVal=function(){var b=a(this);return encodeURIComponent(a.trim(b.val()||b.text()||b.html()))}})(jQuery);(function(a){var b=function(e,d){var c=this;c.elem=a(e);c.opts=a.extend({on:true,one:false,bind:"click",addItems:"",inHandle:function(){},outHandle:function(){}},d||{});a.extend(c,{init:function(){c.ns="";c.ts="";c.opts.bind+=c.ns;c.elem.add(c.opts.addItems).each(function(){var f=(new Date()).getTime();a(this).data("cp_out_timestamp",f);c.ts+=f+","});a(document).bind(c.opts.bind,c.check)},check:function(h){if(!c.opts.on){return true}var g=a(h.target)[0];var f=true;while(g){g=a(g);if(c.ts.indexOf(g.data("cp_out_timestamp"))>=0){f=false;break}g=g.parent()[0]}if(f){c.opts.outHandle(h);if(c.opts.one){a(document).unbind(c.opts.bind,c.check)}}else{c.opts.inHandle()}},on:function(){c.opts.on=true},off:function(){c.opts.on=false},unbind:function(f){a(document).unbind(c.opts.bind,c.check)},rebind:function(f){c.unbind();c.opts=a.extend({on:true,one:false,bind:"click",addItems:"",inHandle:function(){},outHandle:function(){}},f||{});c.ns="";c.ts="";c.init()}});c.init()};a.fn.cpOut=function(c){return a(this).each(function(){a(this).removeData("cpOut").data("cpOut",new b(this,c))})}})(jQuery);(function(a){a.fn.cpGetCtr=function(c){var b=a(this).data(c);return b?b:null}})(jQuery);(function(a){a.fn.cpFormContent=function(c){var b=a(this),f=b.find(".frm-tips"),g=f.find("em"),e=f.find("i"),d="icon-a-success-s icon-a-error-s icon-a-info-s";if(typeof c=="string"&&"ok"==c){b.removeClass("frm-err").addClass("frm-ok");e.removeClass(d).addClass("icon-a-success-s");g.html("")}else{if(c&&c.type&&c.type=="error"){b.removeClass("frm-ok").addClass("frm-err");if(!f.length){a('<span class="frm-tips"><i class="icon-a-success-s"></i><em></em></span>').appendTo(b.find(".inp"));f=b.find(".frm-tips")}g.html(c.msg);e.removeClass(d).addClass("icon-a-error-s")}else{b.removeClass("frm-ok frm-err")}}}})(jQuery);(function(b){var a=function(d){var c=this,f=b(d),g=f.find(".frm-tips"),h=f.attr("data-focustip");var e=f.closest("form");if(e.attr("validate-mail")){h=f.attr("data-chat-focustip")}b.extend(c,{init:function(){if(!h){return}f.find("input").unbind(".cpFocusTip").bind("focus.cpFocusTip",c.show).bind("blur.cpFocusTip",c.hide)},show:function(){if(!g.length){b('<span class="frm-tips"><i class="icon-a-info-s"></i><em></em></p>').appendTo(f.find(".inp"));g=f.find(".frm-tips")}g.find("i").removeClass("icon-a-success-s icon-a-fail-s").addClass("icon-a-info-s");g.find("em").html(h);f.addClass("frm-focus")},hide:function(){f.removeClass("frm-focus")}});c.init()};b.fn.cpFocusTip=function(c){return b(this).each(function(){b(this).removeData("cpFocusTip").data("cpFocusTip",new a(this,c))})}})(jQuery);(function(a){var b=function(e,d){var c=this;c.elem=a(e);c.options=a.extend({fixed:true,top:"10%",mask:{color:"#000",loadSpeed:200,opacity:0.5},oneInstance:false,closeOnClick:false,closeOnEsc:true,close:".js_close"},d||{});c.options.onBeforeLoad=function(){a.cpEvt.send("ui_dialog_beforeOpen",c.elem);if(d&&typeof d.onBeforeOpen=="function"){d.onBeforeOpen()}};c.options.onLoad=function(){a.cpEvt.send("ui_dialog_open",c.elem);if(d&&typeof d.onOpen=="function"){d.onOpen()}};c.options.onBeforeClose=function(){a.cpEvt.send("ui_dialog_beforeClose",c.elem);if(d&&typeof d.onBeforeClose=="function"){d.onBeforeClose()}};c.options.onClose=function(){a.cpEvt.send("ui_dialog_close",c.elem);if(d&&typeof d.onClose=="function"){d.onClose()}};a.extend(c,{init:function(){c.elem.overlay(c.options)},getElement:function(){return c.elem},getControl:function(){return c.elem.overlay()},open:function(){c.show()},show:function(){c.elem.overlay().load()},close:function(){c.elem.overlay().close()}});c.init()};a.fn.cpDialog=function(c){return a(this).each(function(){a(this).removeData("cpDialog").data("cpDialog",new b(this,c))})}})(jQuery);(function(b){var a=function(e,d){var c=this;c.elem=b(e);c.opts=b.extend({status:"disable",disableClass:"disabled",loadingClass:"",loadingHTML:"",setLoad:true,submitHandle:function(){}},d||{});c.stat=0;b.extend(c,{init:function(){c.elem.unbind().bind("mouseup",c.mouseup).bind("click",function(){return false});c.elem.attr("href","javascript:void(0)");if("disable"==c.opts.status){c.setDisable()}else{c.setEnable()}},getElement:function(){return c.elem},mouseup:function(){if(!c.hasEnable()){return false}else{if(c.opts.setLoad){c.setLoading()}c.opts.submitHandle();return false}},setHTML:function(f){c.elem.html(f)},setText:function(f){c.setHTML("<b>"+f+"</b>")},getText:function(){return c.elem.text()},setLoadingHTML:function(f){c.opts.loadingHTML=f},setLoading:function(){c.setDisable();if(c.opts.loadingHTML){c.setHTML(c.opts.loadingHTML)}if(c.opts.loadingClass){c.elem.addClass(c.opts.loadingClass)}},removeLoading:function(){if(c.opts.loadingClass){c.elem.removeClass(c.opts.loadingClass)}},setDisable:function(){if(c.stat){c.stat=0}c.elem.addClass(c.opts.disableClass)},setEnable:function(){if(!c.stat){c.stat=1}c.elem.removeClass(c.opts.disableClass)},hasEnable:function(){return c.stat?true:false}});c.init()};b.fn.cpButton=function(c){return b(this).each(function(){b(this).removeData("cpButton").data("cpButton",new a(this,c))})}})(jQuery);(function(){var a=function(d,c){var b=this;b.elem=$(d);b.opts=$.extend({holder:"",positionPlugin:true,target:$("body"),offset:"0 0",selectHandle:function(e){}},c||{});b.box=b.elem.find("div.option");b.sta=0;$.extend(b,{init:function(){if(b.opts.holder){b.elem.appendTo(b.opts.holder)}else{if(b.opts.positionPlugin){b.elem.appendTo("body")}}b.box.bind("click",b.click).bind("mouseover",b.mouseover)},setItems:function(e){b.removeAll();e=e||[];if(!e.length){b.hide();return}var j=b.box,l=e.length,n,f,h,m,k="";for(var g=0;g<l;g++){n=e[g];f=n.val;h=n.txt;m=n.tip;k+='<q index="'+g+'" val="'+f+'" title="'+m+'">'+n.txt+"</q>"}$(k).appendTo(j)},removeAll:function(){b.box.html("")},removeItem:function(e){b.box.find("q").eq(e).remove()},setPos:function(f,e){b.elem.css({left:f,top:e})},hoverPre:function(){var f=b.getHoverIndex(),e=b.box.find("q").length;f--;if(f<0){f=e-1}b.setHover(f)},hoverNext:function(){var f=b.getHoverIndex(),e=b.box.find("q").length;f++;if(f>=e){f=0}b.setHover(f)},mouseover:function(g){var f=g.target.tagName.toLowerCase(),h=$(g.target),e=-1;if("q"==f){e=h.attr("index")}else{if("span"==f){e=h.parent().attr("index")}}if(e>=0){b.setHover(e)}},click:function(e){b.mouseover(e);b.select();e.stopPropagation();return false},select:function(){if(b.sta){var e=b.getSelectVal();if(e){b.opts.selectHandle(e)}}setTimeout(b.hide,200)},getSelectVal:function(){var e="";b.box.find("q").each(function(){if($(this).hasClass("selected")){e=$(this).attr("val")}});return e},setHover:function(e){b.box.find("q").removeClass("selected").eq(e).addClass("selected")},getHoverIndex:function(){var e=-1;b.box.find("q").each(function(){if($(this).hasClass("selected")){e=parseInt($(this).attr("index"))}});return e},getDisplayStatus:function(){return b.sta?"show":"hide"},position:function(){b.elem.position({my:"left top",at:"left bottom",collision:"none none",offset:b.opts.offset,of:b.opts.target})},show:function(){if(!b.sta&&b.box.find("q").length>0){b.sta=1;b.elem.removeClass("util-hidden");if(b.opts.positionPlugin){b.position()}}},hide:function(){if(b.sta){b.sta=0;b.elem.addClass("util-hidden")}}});b.init()};$.fn.cpDropMenu=function(b){return $(this).each(function(){$(this).removeData("cpDropMenu").data("cpDropMenu",new a(this,b))})}})(jQuery);(function(a){var b=function(f,e){var d=this,h=a(f),g=a.extend({toggleCss:"labelAdd_act",inputHandle:function(){}},e||{}),c=h.find("input");a.extend(d,{init:function(){h.find("a").bind("click",function(){h.addClass(g.toggleCss);d.focus()});c.keyup(function(i){if(13==i.keyCode){g.inputHandle(d);h.removeClass(g.toggleCss)}})},focus:function(){c.focus()},reset:function(){c.val("")},getVal:function(){return c.val()}});d.init()};a.fn.cpToggleInput=function(c){return a(this).each(function(){a(this).removeData("cpToggleInput").data("cpToggleInput",new b(this,c))})}})(jQuery);(function(a){var b=function(f,e){var d=this,h=a(f),g=a.extend({holder:"",positionPlugin:true,offset:"0 0",delay:100,my:"center top",at:"left bottom",target:".js_cptouchshow_target",showPanel:".js_cptouchshow_panel",onBeforeShow:function(){}},e||{}),j=h.find(g.target),c=h.find(g.showPanel),i=0;a.extend(d,{init:function(){if(!j.length){j=h}if(!c.length){c=a(g.showPanel)}if(!c.length||!j.length){return false}if(g.holder){c.appendTo(g.holder)}else{if(g.positionPlugin){c.appendTo("body")}}j.unbind(".cptouchshow").bind("mouseover.cptouchshow",d.show).bind("mouseleave.cptouchshow",d.delayHide);c.unbind(".cptouchshow").bind("mouseover.cptouchshow",d.stopHide).bind("mouseleave.cptouchshow",d.delayHide)},position:function(){c.position({of:j,my:g.my,at:g.at,offset:g.offset,collision:"none none"})},show:function(){g.onBeforeShow(h,c);a.cpEvt.send("ui_touchshow_preshow",h,c);h.addClass("manual-hover");c.removeClass("util-hidden");if(g.positionPlugin){d.position()}d.stopHide()},hide:function(){c.addClass("util-hidden");h.removeClass("manual-hover");a.cpEvt.send("ui_touchshow_hidden",h)},stopHide:function(){if(i>0){clearTimeout(i);i=0}},delayHide:function(){d.stopHide();i=setTimeout(d.hide,g.delay)}});d.init()};a.fn.cpTouchShow=function(c){return a(this).each(function(){a(this).removeData("cpTouchShow").data("cpTouchShow",new b(this,c))})}})(jQuery);(function(b){var a=function(g,e){var d=b(this),g=b(g),c=g.find("input"),h=null,f=b.extend({empty:false,list:"@163.com,@qq.com,@126.com,@sina.com,@hotmail.com,@gmail.com,@sohu.com,@yahoo.cn,@vip.sina.com,@139.com"},e||{});b.extend(d,{init:function(){var i=g.find("div.option-box");h=i.cpDropMenu({target:c,offset:"",selectHandle:function(j){d.autoCompletion()}}).cpGetCtr("cpDropMenu");if(h){h.hide()}i.cpOut({addItems:c,outHandle:function(){h.hide()}});c.bind("keydown",d._handleHotKey).bind("keyup",function(j){var l=c.val(),k=j.keyCode;if(k!=38&&k!=40&&k!=9&&k!=27){if(l){d.buildTip(l);h.setHover(0);h.show()}else{h.hide()}}d._handleHotKey(j)})},buildTip:function(q){var n=f.list.split(","),j=[],k=q.indexOf("@"),o=q;if(k>-1){o=q.substring(0,k)}if(f.empty){n=[""].concat(n)}for(var l=0;l<n.length;l++){var p=o+n[l];if(p.indexOf(q)!=0){continue}var m={txt:p,val:p,tip:p};j.push(m)}h.setItems(j)},autoCompletion:function(){var i=h.getSelectVal();if(i){c.val(h.getSelectVal())}},_handleHotKey:function(l){var m=l.keyCode;var j="keypress"==l.type;var i="keyup"==l.type;var k="keydown"==l.type;var n="show"==h.getDisplayStatus();if(!n){return true}if(m==9||m==13){l.preventDefault();if(i){d.autoCompletion();h.hide()}return false}if(m==40||m==38){if(k){l.preventDefault();if(m==40){h.hoverNext()}else{h.hoverPre()}}return false}if(m==27){if(i){h.hide()}return false}return true}});d.init()};b.fn.cpMailComplete=function(c){return b(this).each(function(){b(this).removeData("cpMailComplete").data("cpMailComplete",new a(this,c))})}})(jQuery);(function(a){var b=function(e,d){var c=this;c.elem=a(e);c.dataInp=c.elem.find("input[type='hidden']");a.extend(c,{init:function(){c.elem.click(function(f){c.sync()});c.sync()},sync:function(){var f="";c.elem.find("input:checked").each(function(){f+=a(this).val()+","});c.dataInp.val(f)},getVal:function(){return c.dataInp.val()}});c.init()};a.fn.cpCheckboxGroup=function(c){return a(this).each(function(){a(this).removeData("cpCheckboxGroup").data("cpCheckboxGroup",new b(this,c))})}})(jQuery);(function(a){a.cpReload=a.cpReload||function(b){setTimeout(function(){if(b){location=b}else{var c=location.href;if(c.indexOf("#")>=0){location.reload()}else{location=c}}},10)}})(jQuery);(function(a){a.cpCc=function(c){if(typeof c=="string"){var b=new Image();b.src="/tool/beenhere/"+c+"/?t="+(new Date()).getTime()}};a.cpCg=function(b){if(typeof _TongjiLog!=="function"||!b||!b.id||!b.name){return false}_TongjiLog(b.id,b.name)}})(jQuery);(function(a){var b=function(e,d){var c=this;c.elem=a(e);c.opts=a.extend({remoteValidateMobile:false,moblieInpClass:"cp-mobile-inp",vcodeInpClass:"cp-vcode-inp",vcodeBtnClass:"cp-vcode-btn",submitBtnClass:"cp-submit-btn"},d||{});c.init()};b.prototype={init:function(){this.mobileInput=this.elem.find("."+this.opts.moblieInpClass);this.vcodeInput=this.elem.find("."+this.opts.vcodeInpClass);this.vcodeButton=this.elem.find("."+this.opts.vcodeBtnClass);this.submitButton=this.elem.find("."+this.opts.submitBtnClass);this.bind()},validateMobile:function(){var c=/^1\d{10}$/,d={err1:"请填写手机号",err2:"手机格式不正确",err7:"手机号已存在"},e=a.trim(this.mobileInput.val());if(!e){a.cpEvt.send("mobile_reg_mobile_error",d.err1);return false}else{if(!c.test(e)){a.cpEvt.send("mobile_reg_mobile_error",d.err2);return false}}if(!this.opts.remoteValidateMobile){a.cpEvt.send("mobile_reg_mobile_success");return true}return a.ajax({url:"/a/checker/mobile/",type:"post",dataType:"json",data:"mobile="+e,success:function(f){if(!f.code){a.cpEvt.send("mobile_reg_mobile_success")}else{if(7==f.code){a.cpEvt.send("mobile_reg_mobile_error",d.err7);a.cpSys.status("reg_account_to_login",e)}else{a.cpEvt.send("mobile_reg_mobile_error",f.msg)}}}})},getVcode:function(){var c=this;if(this.vcodeButton.data("count")){return false}var d=this.mobileInput.val();if(!this.elem.data("mobile.verify")){return false}return a.ajax({url:"/a/mobile/vcode/",type:"get",dataType:"json",data:"key="+d,success:function(g){if(!g.code){var e=g.data.reSendSecond;c.vcodeButton.html(e+"秒...");c.vcodeButton.data("count",1);c.vcodeButton.addClass("disabled");a.cpEvt.send("mobile_reg_get_vcode_done");var f=e,h=setInterval(function(){f--;if(f<0){c.vcodeButton.html("再次获取");c.vcodeButton.data("count",0);c.vcodeButton.removeClass("disabled");a.cpEvt.send("mobile_reg_re_vcode")}else{c.vcodeButton.html(f+"秒...")}},1000)}}})},bind:function(){var c=this;this.mobileInput.on("blur",function(){c.validateMobile()});this.vcodeButton.on("click",function(){if(!a(this).hasClass("disabled")){c.getVcode()}});a.cpEvt.bind("mobile_reg_mobile_error",function(){c.elem.data("mobile.verify",false)});a.cpEvt.bind("mobile_reg_mobile_success",function(){c.elem.data("mobile.verify",true)});a.cpEvt.bind("mobile_reg_vcode_error",function(){c.elem.data("vcode.verify",false)});a.cpEvt.bind("mobile_reg_vcode_success",function(){c.elem.data("vcode.verify",true)});this.submitButton.click(function(){c.submit()})},submit:function(){var d=this.mobileInput.val();var c=this.vcodeInput.val();if(!c){a.cpEvt.send("mobile_reg_vcode_error","请填写验证码");return false}else{a.cpEvt.send("mobile_reg_vcode_success")}return a.ajax({url:"/r/activity/signup/",type:"post",dataType:"json",data:"mobile="+d+"&vcode="+c+"&a_type=14&title=左侧悬浮留电话弹窗&extra={}",success:function(e){if(!e.code){a.cpEvt.send("mobile_reg_submit")}else{a.cpEvt.send("mobile_reg_submit_error",e.msg)}}})}};a.fn.cpMobileReg=function(c){return a(this).each(function(){a(this).removeData("cpMobileReg").data("cpMobileReg",new b(this,c))})}})(jQuery);(function(a){a.fn.cpValidateEmail=function(c){var b=a(this),d=/^([a-z0-9A-Z]+[-|_|\.]?)+[a-z0-9A-Z]@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\.)+[a-zA-Z]{2,}$/,f=b.parents("tr.frm-li"),e=a.extend({err4:"邮箱格式不正确",err5:"邮箱已存在"},(c&&c.errMsg)?c.errMsg:{}),h=function(){var i=a.trim(b.val());if(!i){return false}else{if(!d.test(i)){f.cpFormContent({type:"error",msg:e.err4});return false}}a.ajax({url:"/a/checker/email/",type:"post",dataType:"json",data:"email="+i,success:function(k){var j=k.code,l;if(!j){f.cpFormContent("ok");return}else{if(4==j){l=e.err4}else{if(5==j){l=e.err5;a.cpSys.status("reg_account_to_login",i)}}}f.cpFormContent({type:"error",msg:l})}})},g=function(){setTimeout(h,700)};b.bind("blur",g).bind("focus",function(){b.data("validate","unknown");f.cpFormContent()})}})(jQuery);(function(a){a.fn.cpValidateMobile=function(c){var b=a(this),d=/^1\d{10}$/,f=b.parents("tr.frm-li"),c=a.extend({remote:true},c||{}),e=a.extend({err2:"手机格式不正确",err7:"手机号已存在"},(c&&c.errMsg)?c.errMsg:{}),g=function(){var h=a.trim(b.val());if(!h){return false}else{if(!d.test(h)){f.cpFormContent({type:"error",msg:e.err2});return false}}if(!c.remote){f.cpFormContent("ok");return true}a.ajax({url:"/a/checker/mobile/",type:"post",dataType:"json",data:"mobile="+h,success:function(i){if(!i.code){f.cpFormContent("ok")}else{if(7==i.code){f.cpFormContent({type:"error",msg:e.err7});a.cpSys.status("reg_account_to_login",h)}else{f.cpFormContent({type:"error",msg:i.msg})}}a.cpEvt.send("form_validate_done")}})};b.bind("blur",g).bind("focus",function(){f.cpFormContent()});b.data("verify",g)}})(jQuery);(function(a){a.fn.cpValidateVcode=function(e){var b=a(this),c=b.parents("tr.frm-li"),d=function(){var g=a.trim(b.val()),f=a.trim(e.val());if(!g||!f){return false}a.ajax({url:"/a/mobile/vcode/",type:"post",dataType:"json",data:"key="+f+"&code="+g,success:function(i){var h=i.code;if(!h){c.cpFormContent("ok");return}else{c.cpFormContent({type:"error",msg:i.msg})}}})};b.bind("blur",d).bind("focus",function(){b.data("validate","unknown");c.cpFormContent()})}})(jQuery);(function(a){a.fn.cpValidateNick=function(){var c=a(this),e=c.data("initvalue"),d=/^[a-zA-Z0-9\u4e00-\u9fa5_]{2,20}$/,f=c.parents(".frm-li"),b="格式有误，请用2到20个字符的汉字、字母、数字或下划线",g=function(){var h=a.trim(c.val());if(!h||h==e){return false}else{if(!d.test(h)){f.cpFormContent({type:"error",msg:b});return false}}a.ajax({url:"/a/checker/nick/",type:"post",dataType:"json",data:"nick="+c.cpVal(),success:function(j){var i=j.code;if(!i){f.cpFormContent("ok")}else{f.cpFormContent({type:"error",msg:j.msg})}}})};c.bind("blur",g).bind("focus",function(){c.data("validate","unknown");f.cpFormContent()})}})(jQuery);(function(a){a.fn.cpValidatePassword=function(){var c=a(this),f=c.parents("tr.frm-li"),d=/^(?=.*[0-9].*)(?=.*[A-Z].*)(?=.*[a-z].*)[\d\w\.\!\#\$\%\^\*\'\+\-\/\`\@\(\)\[\]\\\:\;\"\,\<\>\?\=\_\{\|\}\~]{8,20}$/,e="请输入密码",b="密码应由8到20个字符组成，必须包含大写字母、小写字母、数字",g=function(){var h=a.trim(c.val());if(!h){return false}else{if(!d.test(h)){f.cpFormContent({type:"error",msg:b});return false}else{f.cpFormContent("ok")}}};c.bind("keyup",g).bind("focus",function(){c.data("validate","unknown");f.cpFormContent()})}})(jQuery);(function(a){a.fn.cpValidateAccount=function(j){var i=a(this),b=a.extend({autoValidate:true},j||{}),e=/^([a-z0-9A-Z]+[-|_|\.]?)+[a-z0-9A-Z]@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\.)+[a-zA-Z]{2,}$/,d=/^1[3|4|5|8][0-9]\d{4,8}$/,c=/^[a-zA-Z0-9\u4e00-\u9fa5_]{2,20}$/,f=i.parents("tr.frm-li"),g="帐号格式不正确",h=function(){var k=a.trim(i.val());if(!k){return false}else{if(!e.test(k)&&!d.test(k)&&!c.test(k)){f.cpFormContent({type:"error",msg:g});return false}}f.cpFormContent("ok")};if(b.autoValidate){i.bind("blur",h)}i.bind("focus",function(){i.data("validate","unknown");f.cpFormContent()});return{validate:function(){h()}}}})(jQuery);(function(a){var b=1000;a.cpWin={confirm:null,alert:null,getIndex:function(){return ++b},hasWindowShow:function(){var e=a(".dialog");for(var c=0;c<e.length;c++){var d=a(e[c]);if("none"!=d.css("display")&&!d.hasClass("util-hidden")&&"hidden"!=d.css("visibility")){return true}}return false}}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.container=function(b){if(typeof b=="string"){b={msg:b}}var b=a.extend({id:"",className:"",title:"对话框",container:"<p>欢迎来到世界邦~</p>",btnSubmitMsg:"确定",dialogOptions:{},btnCancelMsg:"取消",needCancel:false,subHandle:function(){},autoClose:true,setLoad:true,autoShow:true,needBtn:true,cancelHandle:function(){}},b||{}),d=b.needCancel?'<button class="btn js_close">'+b.btnCancelMsg+"</button>":"",c=['<div class="dialog '+b.className+'" id="'+b.id+'">','<div class="hd">',"<h3>"+b.title+"</h3>",'<i class="icon-p-close js_close"></i>',"</div>",'<div class="bd">',b.container,"</div>",'<div class="ft '+(b.needBtn?"":"util-dis-hidden")+'">','<button class="btn-primary js_primary_btn">'+b.btnSubmitMsg+"</button>",d,"</div>","</div>"],f=a(c.join("")),e=null;if(b.needBtn){f.find(".js_primary_btn").cpButton({submitHandle:function(){b.subHandle();if(b.autoClose){e.close()}},setLoad:b.setLoad}).cpGetCtr("cpButton").setEnable()}f.appendTo("body");e=f.cpDialog(b.dialogOptions).cpGetCtr("cpDialog");if(b.autoShow){e.show()}else{e.elem.hide()}return{getCtr:function(){return e},getDom:function(){return f},show:function(){e.show()},close:function(){e.close()}}}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.hint=function(d){if(typeof d=="string"){d={msg:d}}var d=a.extend({type:"ok",msg:"",time:1500,closeHandle:function(){}},d||{}),e=['<div class="dialog">','<div class="hd">',"<h3>提示</h3>",'<i class="icon-p-close js_close"></i>',"</div>",'<div class="bd">','<div class="info">','<div class="c-img">','<i class="icon-a-success js_icon"></i>',"</div>",'<div class="c-txt">','<p class="js_msg"> 操作成功提示!</p>',"</div>","</div>","</div>",'<div class="ft">','<button class="btn-primary">知道了</button>',"</div>","</div>"],c=a(e.join("")),b=null;if("ok"==d.type){c.find(".js_icon").addClass("icon-a-success")}else{c.find(".js_icon").addClass("icon-a-error")}c.find("p.js_msg").html(d.msg);c.find("button.btn-primary").cpButton().cpGetCtr("cpButton").setEnable();c.appendTo("body");b=c.cpDialog({onClose:d.cancelHandle}).cpGetCtr("cpDialog");b.show();setTimeout(function(){d.closeHandle();b.close()},d.time);return false}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.alert=function(c){if(typeof c=="string"){c={msg:c}}var c=a.extend({className:"",title:"提示",type:"hintOk",msg:"",btnMsg:"知道了",iconDisplay:true,width:false,subHandle:function(){}},c||{}),e={hintInfo:"icon-a-info",hintOk:"icon-a-success",hintErr:"icon-a-error"},d=['<div class="dialog" style="width:',(c.width===false?"":c.width),'">','<div class="hd">','<h3 class="js_title">提示</h3>','<i class="icon-p-close js_close"></i>',"</div>",'<div class="bd">','<div class="info">','<div class="c-img">','<i class="icon-a-success js_icon"></i>',"</div>",'<div class="c-txt" style="',(c.iconDisplay===false?'padding-left:20px"':'"'),">",'<p class="js_msg"> 操作成功提示!</p>',"</div>","</div>","</div>",'<div class="ft">','<button class="btn-primary">知道了</button>',"</div>","</div>"],f=a(d.join("")),b=null;f.find(".js_icon").removeClass("icon-a-success icon-a-error icon-a-info").addClass(e[c.type]);f.addClass(c.className);f.find("h3.js_title").html(c.title);f.find("p.js_msg").html(c.msg);f.find("button.btn-primary").html(c.btnMsg);if(!c.iconDisplay){f.find("div.c-img").hide()}f.find(".btn-primary").cpButton({submitHandle:function(){c.subHandle();b.close()}}).cpGetCtr("cpButton").setEnable();f.appendTo("body");b=f.cpDialog({onClose:c.cancelHandle}).cpGetCtr("cpDialog");b.show();return false}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.confirm=function(b){var b=a.extend({autoClose:"true",title:"提示",msg:"",attachInfo:"",subBtnTxt:"确定",cancelBtnTxt:"取消",subHandle:function(){},cancelHandle:function(){},dialogClass:""},b||{}),d=['<div class="dialog '+b.dialogClass+'">','<div class="hd">','<h3 class="js_title">提示</h3>','<i class="icon-p-close js_close"></i>',"</div>",'<div class="bd">','<div class="info">','<div class="c-img">','<i class="icon-a-info"></i>',"</div>",'<div class="c-txt">','<p class="js_msg"> 操作成功提示!</p>','<p class="content js_attachInfo"></p>',"</div>","</div>","</div>",'<div class="ft">','<a class="btn-primary js_ok">确定</a>','<a href="javascript:void(0)" class="btn js_cancel">取消</a>',"</div>","</div>"],e=a(d.join("")),c=null;e.find("h3.js_title").html(b.title);e.find("p.js_msg").html(b.msg);e.find("p.js_attachInfo").html(b.attachInfo);e.find(".js_ok").html(b.subBtnTxt);e.find(".js_cancel").html(b.cancelBtnTxt);e.find("a.js_ok").cpButton({submitHandle:function(){b.subHandle();if(b.autoClose){c.close();e.remove()}}}).cpGetCtr("cpButton").setEnable();e.find("a.js_cancel").cpButton({submitHandle:function(){b.cancelHandle();c.close();e.remove()}}).cpGetCtr("cpButton").setEnable();e.appendTo("body"),c=e.cpDialog().cpGetCtr("cpDialog");c.show();return e}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.login=function(d){var d=a.extend({title:"用户登录",closeHandle:function(){}},d||{}),c=null,b=a("div.js_login_dialog");if(b.length>0){c=b.cpGetCtr("cpDialog");c.show();return true}var e=['<div class="dialog login-dialog js_login_dialog">','<div class="hd">',"<h3>"+d.title+"</h3>",'<i class="icon-p-close js_close"></i>',"</div>",'<div class="bd">','<div class="reg">','<div class="form-login-link"><a href="/login/?form" class="link1">无法登录？点这里试试>></a></div>','<div class="reg-form col-left">','<div class="form-type js_form_type">',"<label>",'<input type="radio" checked name="form-type" value="form-1" />',"世界邦帐号","</label>","<label>",'<input type="radio" name="form-type" value="form-2" />',"短信密码登录","</label>","</div>",'<table class="form-layout js_login js_form_1 form-1">','<tr class="frm-li account js_account">','<td class="inp">','<div class="frm-i">','<input type="text" name="login" placeholder="邮箱/手机/用户名" disableautocomplete autocomplete="off">','<div class="mail-complete-options option-box util-hidden"><div class="option"></div></div>','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>",'<tr class="frm-li password js_password">','<td class="inp">','<div class="frm-i">','<input type="password" placeholder="密码" disableautocomplete autocomplete="off" name="password">','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>","<tr>",'<td class="inp">','<label class="sp1"><input type="checkbox" checked>下次自动登录</label><span class="sp2"><a href="/password/find/form/">忘记密码</a></span>',"</td>","</tr>","<tr>",'<td class="inp">','<button class="btn-primary" type="button">登录</button>',"</td>","</tr>","</table>",'<table class="form-layout js_login js_form_2 form-2">','<tr class="frm-li account js_d_account">','<td class="inp">','<div class="frm-i">','<input type="text" name="login" placeholder="世界邦注册手机号" disableautocomplete autocomplete="off"/>','<div class="mail-complete-options option-box util-hidden">','<div class="option"></div>',"</div>",'<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>",'<tr class="frm-li password js_d_password">','<td class="inp">','<div class="frm-i">','<input type="password" style="width:80px" placeholder="短信密码" disableautocomplete autocomplete="off" name="password">','<button class="btn-primary js_send_vcode btn-send-vcode">发送</button>','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>","<tr>",'<td class="inp">','<button class="btn-primary js_form_2_submit" type="button">登录</button>',"</td>","</tr>","</table>","</div>",'<div class="reg-tip">','<p class="go">还没帐号？<a href="javascript:void(0)" class="link1 js_reg_btn">立即注册</a></p>','<p class="js_conn">用合作网站帐号登录 </p>','<p class="js_conn"><a href="/conn/weibo/"><i class="icon-p-weibo"></i></a><a href="/conn/qq/"><i class="icon-p-qq"></i></a></p>',"</div>","</div>","</div>","</div>"];c=null,b=a("div.js_login_dialog");if(!b.length){b=a(e.join(""))}b.find("table.js_form_1").cpLogin();b.find("table.js_form_2").cpDynamicLogin();b.appendTo("body");b.find(".js_form_type label").click(function(){var f=a(".js_form_type input[type='radio']:checked").val();a(".js_login").hide();a("."+f).show()});c=b.cpDialog({onOpen:function(){setTimeout(function(){if(!b.find("input[name='login']").val()){b.find("input[name='login']").focus()}else{b.find("input[name='password']").focus()}},10)},onClose:d.closeHandle,oneInstance:true}).cpGetCtr("cpDialog");a.cpEvt.bind("login_login_success",function(){c.close()});b.find("a.js_reg_btn").click(function(){c.close();setTimeout(function(){a.cpWin.reg()},300)});c.show()}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.reg=function(c){var c=a.extend({title:"你希望通过什么方式获取答案通知？",closeHandle:function(){}},c||{}),b=null,f=a("div.js_reg_dialog");if(f.length>0){b=f.cpGetCtr("cpDialog");b.show();return true}var d=['<div class="dialog reg-dialog js_reg_dialog">','<div class="hd">','<h3 class="js_title"></h3>','<i class="icon-p-close js_close"></i>',"</div>",'<div class="bd">','<div class="reg">','<div class="reg-form col-left">','<table class="form-layout" id="reg_form">','<tr class="frm-li js_email" data-focustip="请填写常用邮箱，便于及时获取答案">','<td class="inp">','<div class="frm-i">','<input type="text" name="email" placeholder="邮箱" disableautocomplete autocomplete="off" value="">','<div class="mail-complete-options option-box util-hidden"><div class="option"></div></div>','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>",'<tr class="frm-li js_mobile" data-focustip="请输入中国大陆11位手机号，暂不支持海外手机">','<td class="inp">','<div class="frm-i">','<input type="text" placeholder="手机号" disableautocomplete autocomplete="off" name="mobile">','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>",'<tr class="frm-li js_vcode util-hidden" data-focustip="请输入您手机中收到的验证码">','<td class="inp">','<div class="frm-i">','<input type="text" placeholder="验证码" class="sp1" disableautocomplete autocomplete="off" name="vcode">','<button class="btn sp2" type="button">获取验证码</button>','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>",'<tr class="frm-li js_nick" data-focustip="2到20个字符，汉字、字母、数字或下划线均可">','<td class="inp">','<div class="frm-i">','<input type="text" placeholder="用户名" disableautocomplete autocomplete="off" name="nick">','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>",'<tr class="frm-li js_password" data-focustip="密码由6到20个字符组成，区分大小写">','<td class="inp">','<div class="frm-i">','<input type="password" placeholder="设置密码" disableautocomplete autocomplete="off" name="password">','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>","<tr>",'<td class="inp">','<button class="btn-primary btn-reg" type="button">立即注册</button>',"</td>","</tr>","<tr>",'<td class="inp">','<p class="tip">点击按钮表示阅读并同意<a target="_blank" href="/about/policy/">《用户协议》</a></p>',"</td>","</tr>","</table>","</div>",'<div class="reg-tip">','<p class="go">已有注册帐号？<a href="javascript:void(0)" class="link1 js_login_btn">立即登录</a></p>','<p class="js_conn">直接使用合作网站帐号登录 </p>','<p class="js_conn"><a href="/conn/weibo/"><i class="icon-p-weibo"></i></a><a href="/conn/qq/"><i class="icon-p-qq"></i></a></p>',"</div>","</div>","</div>","</div>"];f=a(d.join(""));f.find(".js_title").html(c.title);var e=function(){f.find("tr.frm-li").removeClass("frm-ok frm-err frm-focus").find("input").val("")};f.cpReg();f.appendTo("body");b=f.cpDialog({oneInstance:true,onClose:function(){e();c.closeHandle()},onOpen:function(){a.cpCc("regpopup");setTimeout(function(){f.find("input[name='email']").focus()},10)}}).cpGetCtr("cpDialog");a.cpEvt.bind("login_login_success",function(){b.close()});a.cpEvt.bind("reg_reg_success",function(g,h){b.close()});f.find("a.js_login_btn").click(function(){b.close();setTimeout(function(){a.cpWin.login()},300)});b.show()}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.sendMsg=function(b){var b=a.extend({talkerid:"",talkernick:"",success:function(){},closeHandle:function(){}},b||{}),d=['<div class="dialog send-message-dialog">','<div class="hd">',"<h3>发私信</h3>",'<i class="icon-p-close js_close"></i>',"</div>",'<div class="bd fc2">','<p style="margin-bottom:10px" class="util-l">发给 <strong>'+b.talkernick+"</strong></p>",'<div class="send">',"<textarea></textarea>",'<div class="row-right fn-btn">','<button data-talkerid="'+b.talkerid+'" class="btn-primary">发送</button>',"</div>","</div>","</div>","</div>"],e=a(d.join("")),c=null;e.cpSendMsg({success:function(){b.success();c.close();a.cpWin.hint("发送成功")}});e.appendTo("body");c=e.cpDialog({onClose:b.cancelHandle}).cpGetCtr("cpDialog");c.show();return false}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.feedbackMsg=function(c){var c=a.extend({success:function(){},closeHandle:function(){}},c||{}),d=['<div id="feedback-dialog" class="dialog">','<div class="hd">',"<h3>意见反馈</h3>",'<i class="icon-p-close js_close"></i>',"</div>",'<div class="feedback-form">',"<ul>",'<li class="inp"><textarea name="content">反馈内容...</textarea></li>','<li class="inp"><input type="text" name="contact" value="联系方式：QQ/邮箱/手机号"></li>','<li class="inp"><button type="button" class="btn-primary disabled">提交</button></li>',"</ul>","</div>","</div>"],f=a(d.join("")),g=null;f.appendTo("body");g=f.cpDialog({onClose:c.cancelHandle}).cpGetCtr("cpDialog");g.show();if(f[0]){var e=f.find('textarea[name="content"]');var b=f.find('input[name="contact"]');e.keyup(function(){if(e.val()==""||e.val()=="反馈内容..."){e.addClass("checked");f.find(".btn-primary").addClass("disabled")}else{e.removeClass("checked");f.find(".btn-primary").removeClass("disabled")}});f.find(".btn-primary").bind("click",function(){if(e.val()==""||e.val()=="反馈内容..."){e.addClass("checked");f.find(".btn-primary").addClass("disabled");return false}else{var h=b.val()=="联系方式：QQ/邮箱/手机号"?"":b.val();a.ajax({type:"POST",url:"/a/feedback/",dataType:"json",data:"content="+e.val()+"&contact="+h,success:function(i){g.close();a.cpWin.hint("发送成功！")}})}});e.blur(function(){if(a(this).val()==""){a(this).val("反馈内容...").css("color","#999999")}return false}).focus(function(){if(a(this).val()=="反馈内容..."){a(this).val("").css("color","#444444")}return false});b.blur(function(){if(a(this).val()==""){a(this).val("联系方式：QQ/邮箱/手机号").css("color","#999999")}return false}).focus(function(){if(a(this).val()=="联系方式：QQ/邮箱/手机号"){a(this).val("").css("color","#444444")}return false})}return false}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.poa=function(d){var d=a.extend({id:"",html:"",cancelHandle:function(){}},d||{}),b=a(d.html).attr("id",d.id),e=null;b.appendTo("body");b.find(".js_favorite_add").cpAddFavoriteBtn();b.find(".js_trip_like").cpTripLikeBtn();var c=b.find(".js_switchPic").switchPic();a(".js_auto_create_traffic_type").click(function(){a(this).toggleClass("list-hidden")});e=b.cpDialog({onOpen:function(){a.cpCc("poapopup")},onClose:function(){d.cancelHandle();c.destroy();b.remove()},fixed:false,oneInstance:true}).cpGetCtr("cpDialog");e.show();return false}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.mobileLogin=function(d){var d=a.extend({title:"用户登录",infoTxt:"请填写手机号登录",submitBtnTxt:"登录",loginHandle:function(){},closeHandle:function(){}},d||{}),c=null,b=a("div.js_mobile_login_dialog");if(b.length>0){c=b.cpGetCtr("cpDialog");c.show();return true}var e=['<div class="dialog login-dialog js_mobile_login_dialog dialog-mobile-login">','<div class="hd">',"<h3>"+d.title+"</h3>",'<i class="icon-p-close js_close"></i>',"</div>",'<div class="bd">','<div class="dialog-info-txt">'+d.infoTxt+"</div>",'<div class="reg">','<div class="reg-form col-left">','<table class="form-layout js_login js_form_2 form-2">','<tr class="frm-li account js_d_account">','<td class="inp">','<div class="frm-i">','<input type="text" name="login" placeholder="世界邦注册手机号" disableautocomplete autocomplete="off"/>','<div class="mail-complete-options option-box util-hidden">','<div class="option"></div>',"</div>",'<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>",'<tr class="frm-li password js_d_password">','<td class="inp">','<div class="frm-i">','<input type="text" style="width:80px" placeholder="短信验证码" disableautocomplete autocomplete="off" name="password">','<button class="btn-primary js_send_vcode btn-send-vcode">验证码</button>','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>","<tr>",'<td class="inp">','<button class="btn-primary js_form_2_submit" type="button">'+d.submitBtnTxt+"</button>","</td>","</tr>","</table>","</div>","</div>","</div>","</div>"];c=null,b=a("div.js_mobile_login_dialog");if(!b.length){b=a(e.join(""))}b.find("table.js_form_2").cpDynamicLogin();b.appendTo("body");c=b.cpDialog({onOpen:function(){setTimeout(function(){if(!b.find("input[name='login']").val()){b.find("input[name='login']").focus()}else{b.find("input[name='password']").focus()}},10)},onClose:d.closeHandle,oneInstance:true}).cpGetCtr("cpDialog");a.cpEvt.bind("login_is_server_login",function(f,g){c.close();d.loginHandle(g.data)});b.find("a.js_reg_btn").click(function(){c.close();a.cpWin.reg()});c.show()}})(jQuery);window.CPCONFIG={draftInterval:30*1000,text2tagsNum:5000,static_url:"//s2.sjbly.cn/",gmap_mark:"//s2.sjbly.cn/img/gmap-marker.png",gmap_mark_act:"//s2.sjbly.cn/img/gmap-marker-act.png",cover_img:"//s2.sjbly.cn/img/dummy.gif",swfupload:"//s2.sjbly.cn/img/swfupload.swf",swfupload_btn_url:"//s2.sjbly.cn/img/dummy.gif",uploadUrl:"/a/picture/",kedit:{uploadJson:"http://"+location.host+"/a/picture/",extraFileUploadParams:{_z:""},imageSizeLimit:"10MB",imageTabIndex:1,emoticonsPath:"//s2.sjbly.cn/s/ke/4.1.3/plugins/emoticons/s1/",items:["bold","underline","forecolor","hilitecolor","fontsize","|","insertorderedlist","insertunorderedlist","outdent","indent","removeformat","|","emoticons","link","image","multiimage"]}};window.$CONFIG=window.$CONFIG||{};(function(b){var a=function(){window.CPCONFIG.kedit.extraFileUploadParams._z=b.cookie("z")};if(b.fn.qtip){b.fn.qtip.zindex=1500}b.cpEvt.bind("login_login_success",function(){a()});a()})(jQuery);(function(){$.fn.cpLoginBtn=function(){var a=$(this);a.click(function(b){b.stopPropagation();if(window.isLogin){$.cpWin.hint("已登录");$.cpReload();return false}var c=$(this).data("target")||null;$.cpWin.login();$.cpEvt.bind("login_login_success",function(f,d){if(c){window.FORWARD_URL_DISABLE=true;var e=c.replace("{-uid-}",d.uid);$.cpReload(e)}else{if("/"==location.pathname){setTimeout(function(){location="/profile/"},10)}}});return false})}})(jQuery);(function(a){a.cpCheckLogin=function(c){var c=a.extend({cookieJudge:false,autoLogin:true,loginHandle:null},c||{}),b=c.cookieJudge?a.cookie("z"):true;if(typeof isLogin!="undefined"&&isLogin&&b){return true}else{if(c.autoLogin){a.cpWin.login({});if(typeof c.loginHandle=="function"){a.cpEvt.bind("login_login_success",function(d){c.loginHandle()})}}return false}}})(jQuery);(function(b,a){a.cpLoginIsCallback=a.cpLoginIsCallback||function(c){b.cpEvt.send("login_is_server_salt",c)};a.cpLoginIsCallback2=a.cpLoginIsCallback2||function(c){b.cpEvt.send("login_is_server_login",c)};b.fn.cpLogin=function(){var d=b(this),g=d.find("tr.js_account"),j=d.find("tr.js_password"),f=g.find("input"),i=j.find("input"),h=function(){var l=f.val(),k=i.val();if(!l){g.cpFormContent({type:"error",msg:"请输入帐号"});return false}if(!k){j.cpFormContent({type:"error",msg:"请输入密码"});return false}b.cpSys.status("login_user_nick",l);l=encodeURIComponent(l);var o=d.data("login_salt_data");if(o){m(o)}else{var n="login="+l+"&callback=cpLoginIsCallback";b.getScript("//is.shijiebang.com/plogin/?"+n);b.cpEvt.bind("login_is_server_salt",function(p,q){if(!q.code){m(q.data)}else{if("1221"==q.code){g.cpFormContent({type:"error",msg:'帐号不存在，您可以<a class="link1" href="/reg/">直接注册</a>'})}}})}function m(r){var p=b.md5(b.md5(k+r.salt)+r.salt2);var q="login="+l+"&password2="+p+"&autologin="+(d.find("input:checked").length?"true":"false")+"&callback=cpLoginIsCallback2";b.getScript("//is.shijiebang.com/login/?"+q)}return false};g.cpMailComplete({empty:true});f.keypress(function(k){if(13==k.keyCode){i.focus();return false}});i.keypress(function(k){if(13==k.keyCode){h();return false}});var e=b.cpSys.status("reg_account_to_login")||b.cpSys.status("login_user_nick");if(e){f.val(e)}b.cpSys.status("reg_account_to_login","");var c=d.find("input");c.placeholder({labelMode:true,labelStyle:{margin:"8px 0 0 10px"}});c.focus(function(){b(this).parents("tr.frm-li").addClass("frm-focus");b("tr.frm-li").each(function(k,l){b(l).cpFormContent()})}).blur(function(){b(this).parents("tr.frm-li").removeClass("frm-focus")});d.find("button.btn-primary").click(h);if(e){i.focus()}else{f.focus()}b.cpEvt.bind("login_is_server_salt",function(k,l){d.data("login_salt_data",l.data)});b.cpEvt.bind("login_is_server_login",function(m,n){var l=n.code;if(!l){a.isLogin=true;var k={icon:n.data.icon,uid:n.data.uid,nick:n.data.nick};b.cpEvt.send("login_login_success",k);if(!a.FORWARD_URL_DISABLE&&n.data.forward_url){setTimeout(function(){location=n.data.forward_url},10)}if(a.LOGIN_PAGE_UPDATE){b.cpReload()}}else{if("1221"==l){g.cpFormContent({type:"error",msg:'帐号不存在，您可以<a class="link1" href="/reg/">直接注册</a>'})}else{if("1222"==l){d.find(".frm-focus").removeClass("frm-focus");g.cpFormContent({type:"error",msg:"帐号或密码有误，请重输"});d.data("login_salt_data",n.data)}else{if("1223"==n.code){b.cpReload(n.data.forward_url)}else{g.cpFormContent({type:"error",msg:n.msg})}}}}})}})(jQuery,window);(function(b,a){b.fn.cpDynamicLogin=function(){var q=b(this),l=q.find("tr.js_d_account"),n=q.find("tr.js_d_password"),o=l.find("input"),p=n.find("input"),g=function(){var s=o.val(),r=p.val();if(!s){l.cpFormContent({type:"error",msg:"请输手机号"});return false}if(!r){n.cpFormContent({type:"error",msg:"请输入短信密码"});return false}return true},k=function(){var s=o.val(),r=p.val();if(!g){return false}b.ajax({url:"//is.shijiebang.com/mlogin/",data:"mobile="+s+"&vcode="+r+"&autoreg=true&regsource=vcode_login_pc",dataType:"jsonp",success:function(t){if(!t.code){b.cpEvt.send("login_is_server_login",t)}else{l.cpFormContent({type:"error",msg:t.msg})}}})};o.keypress(function(r){if(13==r.keyCode){p.focus();return false}});p.keypress(function(r){if(13==r.keyCode){k();return false}});var c=false,m="重新发送验证码",h=e,f=null,e=0,i=q.find(".js_send_vcode");var d=function(){clearInterval(f);f=setInterval(function(){if(h>1){h=h-1;m=h+"秒后可重新发送"}else{h=e;c=false;m="重新发送验证码";clearInterval(f)}i.prop("disabled",c).html(m)},1000)};q.on("click",".js_send_vcode",function(r){r.preventDefault();if(!c){c=true;b.ajax({url:"//is.shijiebang.com/vcode/apply/",dataType:"jsonp",data:"mobile="+o.val(),success:function(t){var s=t.code;if(!s){if(s==1211||s==1212){h=120}else{h=t.data.reSendSecond}d()}else{l.cpFormContent({type:"error",msg:t.msg})}}});d()}});var j=q.find("input");j.placeholder({labelMode:true,labelStyle:{margin:"8px 0 0 10px"}});j.focus(function(){b(this).parents("tr.frm-li").addClass("frm-focus");b("tr.frm-li").each(function(r,s){b(s).cpFormContent()})}).blur(function(){b(this).parents("tr.frm-li").removeClass("frm-focus")});q.find(".js_form_2_submit").click(k)}})(jQuery,window);(function(e,c){var b=[];var d=[];var a=false;c.cpUserCallback=function(f){a=false;var g;if(!f.code){c.isUser=f.data;c.isLogin=true;while(g=b.shift()){g(f.data)}}else{while(g=d.shift()){g(f)}}b=[];d=[]};e.cpUser=function(f){if(!c.isUser){f.callback&&b.push(f.callback);f.errorCallback&&d.push(f.errorCallback);if(e.cookie("z")){if(!a){a=true;e.getScript("//is.shijiebang.com/ticket/?callback=cpUserCallback")}}else{c.cpUserCallback({code:9905,msg:"用户票据无效"})}}else{f.callback(c.isUser)}}})(jQuery,window);(function(a){a(function(){function b(){var f=['<a href="javascript:void(0)" class="link1 js_close link-close-btn" >跳过，以后再考虑</a>','<table class="form-layout reg reg-form">',"<tbody>",'<tr class="frm-li">','<td class="bind-hint">为了更好的享受世界邦服务，5秒快速绑定您的联系方式吧！</td>',"</tr>",'<tr class="frm-li js_mobile" data-focustip="请输入中国大陆11位手机号，暂不支持海外手机">','<td class="inp">','<div class="frm-i">','<input type="text" placeholder="手机号" name="mobile" value="">','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>",'<tr class="frm-li js_vcode">','<td class="inp">','<div class="frm-i">','<input type="text" class="sp1" name="vcode" placeholder="验证码" disableautocomplete="" autocomplete="off">','<button class="btn sp2">获取验证码</button>','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>",'<tr class="frm-li js_email" data-focustip="请填写常用邮箱，便于及时获取答案">','<td class="inp">','<div class="frm-i">','<input type="text" name="email" placeholder="邮箱" disableautocomplete autocomplete="off" value="">','<div class="mail-complete-options option-box util-hidden"><div class="option"></div></div>','<div class="frm-tips"><i class=""></i><em></em></div>',"</div>","</td>","</tr>",'<tr class="frm-li ">','<td class="inp">','<button class="btn-primary">立即绑定</button>',"</td>","</tr>","</tbody></table>"];var g=a.cpWin.container({className:"login-mobile-bind",title:"登录成功",needCancel:true,needBtn:false,container:f.join(""),autoClose:false,subHandle:function(){}});var e=g.getCtr().elem;e.cpMobileVcode();e.find("input[name='email']").cpValidateEmail();e.find('input[name="mobile"]').focus();e.find("button.btn-primary").click(function(){var o=e.find("tr.js_mobile"),m=e.find("input[name='mobile']"),l=e.find("tr.js_vcode"),k=e.find("input[name='vcode']"),j=l.find("button.btn");var i=0,h=a.trim(m.val()),n=a.trim(k.val());if(!o.hasClass("frm-ok")){if(""==h){o.cpFormContent({type:"error",msg:"请输入手机号"})}i=1}if(""==n){l.cpFormContent({type:"error",msg:"请输入手机验证码"});i=1}if(!l.hasClass("frm-ok")){i=1}if(i){return false}a.ajax({url:"/a/setting/mobile/",type:"post",dataType:"json",data:"mobile="+h+"&vcode="+n,success:function(p){if(!p.code){c(g)}else{g.close();a.cpWin.alert("绑定失败，您可以进入账号设置页绑定手机和邮箱")}}});return false})}function c(g){var e=g.getCtr().elem,f=e.find("tr.js_email"),h=e.find("input[name=email]");if(f.hasClass("frm-ok")){email=h.val();a.ajax({url:"/a/mail/",type:"post",dataType:"json",data:"email="+email,success:function(){g.close();d(email)}})}else{g.close();d()}}function d(e){var f=['<table class="form-layout reg reg-form bind-success">',"<tbody>",'<tr class="frm-li">','<td class="bind-hint">您已成功绑定世界邦旅行网。手机号可以直接登录。</td>',"</tr>","<tr>","<td>",'<div class="bind-email-success '+(e?"":"util-hidden")+'"><p>世界邦已经向邮箱<span class="email">'+e+"</span>发送了验证邮件，请登录邮箱验证。</p></div>",'<button class="btn js_close">关闭</button>',"</td>","</tr>","</tbody></table>"];var g=a.cpWin.container({className:"login-mobile-bind",title:"绑定成功！",needCancel:true,needBtn:false,container:f.join(""),autoClose:false,subHandle:function(){}})}a.ajax({url:"/tip/mobileguide/",type:"post",dataType:"json",success:function(e){if(!e.code&&e.data.mobileGuide){setTimeout(function(){if(!a.cpWin.hasWindowShow()){b()}},1500)}}})})})(jQuery);(function(d,c){var a=/^(?=.*[0-9].*)(?=.*[A-Z].*)(?=.*[a-z].*)[\d\w\.\!\#\$\%\^\*\'\+\-\/\`\@\(\)\[\]\\\:\;\"\,\<\>\?\=\_\{\|\}\~]{8,20}$/;var b="密码应由8到20个字符组成，必须包含大写字母、小写字母、数字";d.fn.cpReg=function(){var n=d(this),h=n.find("tr.js_email"),e=n.find("input[name=email]"),j=n.find("input[name=mobile]"),o=n.find("input[name=nick]"),f=n.find("input[name=vcode]"),m=n.find("input[name=password]"),l=n.find("tr.js_mobile"),g=n.find("tr.js_vcode"),i=function(){var u=d.trim(e.val()),q=o.val(),s=d.trim(j.val()),w=d.trim(f.val()),x=d.trim(m.val()),r=n.find("tr.js_nick"),p=n.find("tr.js_password"),v=0;if(!s){l.cpFormContent({type:"error",msg:"请输入您的手机号码"});v=1}if(s&&!l.hasClass("frm-ok")){l.cpFormContent({type:"error",msg:"手机格式错误"});v=1}if(u&&!h.hasClass("frm-ok")){h.cpFormContent({type:"error",msg:"邮箱格式错误"});v=1}if(n.attr("validate-mail")&&!u){h.cpFormContent({type:"error",msg:"请输入邮箱"});v=1}if(n.attr("validate-mail")&&!s){l.cpFormContent({type:"error",msg:"请输入您的手机号码"});v=1}if(s){if(""==w){g.cpFormContent({type:"error",msg:"请输入手机验证码"});v=1}else{if(!g.hasClass("frm-ok")){v=1}}}if(!r.hasClass("frm-ok")){if(!q){r.cpFormContent({type:"error",msg:"请输入用户名"})}v=1}if(!x){p.cpFormContent({type:"error",msg:"请输入密码"});v=1}if(!a.test(x)){p.cpFormContent({type:"error",msg:b});v=1}if(v){return false}var t={email:u,mobile:s,vcode:w,nick:q,password:x,type:"email",refer:d.url.param("refer")};d.ajax({global:false,url:"/a/reg/",type:"post",dataType:"json",data:t,success:function(z){var y=z.code;if(!y){if(!c.REG_PAGE_NO_UPDATE&&!n.attr("validate-mail")){if(z.data.forward_url){d.cpReload(z.data.forward_url)}}if(!z.data.status){c.isLogin=true}d.cpEvt.send("reg_reg_success",z.data)}else{if(y){d.cpWin.alert({type:"hintErr",msg:z.msg})}}},error:function(){d.cpWin.alert({type:"hintErr",msg:"系统错误，请刷新页面重试"})}});return false};h.cpMailComplete();e.cpValidateEmail({errMsg:{err5:'账号已存在，您可以<a href="/login/" class="link1">直接登录</a>'}});j.cpValidateMobile({errMsg:{err7:'手机已存在，您可以<a href="/login/" class="link1">直接登录</a>'}});f.cpValidateVcode(j);o.cpValidateNick();m.cpValidatePassword();var k=(function(){if(d(this).val()){g.removeClass("util-hidden")}});j.bind("keyup",k).bind("blur",k);g.find("button").click(function(){var p=d(this);if(p.data("count")){return false}var q=j.val(),s="";g.cpFormContent();if(!q){s="请输入手机号，用于接收验证码"}else{if(l.hasClass("frm-err")){return false}else{if(!l.hasClass("frm-ok")){function r(){p.click()}if(!p.data("bindEvent")){p.data("bindEvent",1);d.cpEvt.bind("form_validate_done",r,true);return false}else{p.data("bindEvent",0);s="请输入正确的手机号，再获取验证码"}}}}if(s){g.cpFormContent({type:"error",msg:s});return false}d.ajax({url:"/a/mobile/vcode/",type:"get",dataType:"json",data:"key="+q,success:function(v){if(!v.code){var t=v.data.reSendSecond;p.html("<span>"+t+"</span>秒后再次获取");p.data("count",1);p.addClass("disabled");var w=p.find("span"),u=t,x=setInterval(function(){u--;if(u<0){clearInterval(x);p.html("获取验证码");p.data("count",0);p.removeClass("disabled")}w.html(u)},1000)}}})});n.find("input").focus(function(){d(this).parents("tr.frm-li").addClass("frm-focus")}).blur(function(){d(this).parents("tr.frm-li").removeClass("frm-focus")});n.find("input").placeholder({labelMode:true,labelStyle:{margin:"8px 0 0 10px"}});m.keyup(function(p){if(13==p.keyCode){i()}});n.find("tr.frm-li").cpFocusTip();n.find("button.btn-primary").click(i);e.focus()}})(jQuery,window);(function(b,a){b.fn.cpMobileVcode=function(d){var c=b(this),h=c.find("input[name=mobile]"),f=c.find("input[name=vcode]"),i=c.find("tr.js_mobile"),g=c.find("tr.js_vcode"),e=b.extend({mobileValidateServer:true},d||{});h.cpValidateMobile({remote:e.mobileValidateServer});f.cpValidateVcode(h);b("input").placeholder({labelMode:true,labelStyle:{margin:"8px 0 0 10px"}});g.find("button").click(function(l){l.preventDefault();var j=b(this);if(j.data("count")){return false}var k=h.val(),m="";if(!k){m="请输入手机号，用于接收验证码"}else{if(!i.hasClass("frm-ok")){m="请输入正确的手机号，再获取验证码"}}if(m){g.cpFormContent({type:"error",msg:m});return false}b.ajax({url:"/a/mobile/vcode/",type:"get",dataType:"json",data:"key="+k,success:function(p){if(!p.code){var n=p.data.reSendSecond;j.html("<span>"+n+"</span>秒后再次获取");j.data("count",1);j.addClass("disabled");var q=j.find("span"),o=n,r=setInterval(function(){o--;if(o<0){clearInterval(r);j.html("获取验证码");j.data("count",0);j.removeClass("disabled")}q.html(o)},1000)}else{g.cpFormContent({type:"error",msg:p.msg})}}})})}})(jQuery,window);(function(a){a.cpCheckLoginReg=function(c){var c=a.extend({autoReg:true,regHandle:function(){}},c||{}),b=a.cpCheckLogin({autoLogin:false});if(b){return true}else{if(c.autoReg){a.cpWin.reg({});if(typeof c.regHandle=="function"){a.cpEvt.bind("reg_reg_success",function(d,e){c.regHandle(d,e)})}}return false}}})(jQuery);(function(a){a(function(){var b=a("#reg_form");if(b.length){b.cpReg();a.cpEvt.bind("reg_reg_success",function(c,d){setTimeout(function(){location=d.forward_url},10)})}a("div.go2login a.js_login_btn").cpLoginBtn();a.cpEvt.bind("login_login_success",function(){var c=a.url.param("refer");if(c){setTimeout(function(){location=c},10)}})})})(jQuery);(function(){$.fn.cpLoginDock=function(){var a=$(this);a.find("a.js_loginBtn").cpLoginBtn();$.cpEvt.bind("user_info_empty",function(){a.removeClass("util-hidden")});$.cpEvt.bind("login_login_success user_info_update",function(){a.addClass("util-hidden")})}})(jQuery);(function(){$.fn.cpUserDock=function(){var a=$(this);$.cpEvt.bind("login_login_success user_info_update",function(c,b){if(typeof b=="undefined"){return false}if(!b.icon){b.icon="//s2.sjbly.cn/img/avt_24.png"}a.find("img").attr("src",b.icon);a.find("a").each(function(e){var d=$(this).attr("href");if(typeof d==="string"){d=d.replace("{-uid-}",b.uid);$(this).attr("href",d)}});a.removeClass("util-hidden")})}})(jQuery);$(function(){$("div.top-header").on("click",".js_close",function(b){var a=$(b.target).parents("div.js_notify");if(a.length>0){$.ajax({url:"/cleartips/?_type="+$(this).data("type"),type:"post",dataType:"json",success:function(){}});a.remove()}})});(function(){$.fn.cpMsgDock=function(){var e=$(this),g=e.find(".js-masthead-nav-msg-all"),b=e.find(".js-masthead-nav-msg"),h=e.find(".js-masthead-nav-route"),f=false;var a=function(){if(window.$CONFIG.onDev){return false}if(!$.cpCheckLogin({cookieJudge:true,autoLogin:false})){return false}$.ajax({url:"/user/remind/number/?_="+new Date().getTime(),type:"get",dataType:"json",success:function(k){if(!k.code){var i=k.data;i.userRouteAmount=i.userRouteAmount||0;var j=i.userRouteAmount;j>0?h.text("（"+j+"）"):h.text("")}}})};var d=function(){if(window.$CONFIG.onDev){return false}if(!$.cpCheckLogin({cookieJudge:true,autoLogin:false})){return false}$.ajax({url:"/notify/count/?_json",type:"get",dataType:"json",success:function(j){if(!j.code){var i=j.data;i.ncount=i.ncount||0;i.mcount=i.mcount||0;var k=i.ncount+i.mcount;k>0?b.text(k).show():b.hide();k>0?g.text(k).show():g.hide()}}})};var c=function(){if(f||!$.cpCheckLogin({cookieJudge:true,autoLogin:false})){return false}if(!g.length){return false}$.cpTimer.start("nav_bubble",90*1000);$.cpEvt.bind("timer_nav_bubble",d);setTimeout(d,5*1000);setTimeout(a,5*1000);f=true};$.cpEvt.bind("login_login_success user_info_update",function(j,i){c()});c()}})(jQuery);$(function(){var b=function(c){$(".js-sys-top").prepend(c);$(".js-sys-top .sys-notify-item").each(function(d,e){setTimeout(function(){$.cpCg({id:"gaozhht_htzs",name:"黄条展示"})},d*50)});$(".js-sys-top .sys-notify-item .sys-bt-target").mousedown(function(){$.cpCg({id:"gaozhht_andj",name:"按钮点击"})});$.cpEvt.send("sys-top-notify-show",$(".js-sys-top .sys-notify-item"))};var a=function(){$.ajax({url:"/a/tips/",type:"get",dataType:"json",success:function(c){if(!c.code){b(c.data.content)}else{$.cpEvt.send("sys-top-notify-show",$(".js-sys-top .sys-notify-item"))}}})};$.cpEvt.bind("user_info_update",a);$(".js-sys-top").on("click",".icon-sys-close",function(){var e=$(this),c=e.data("token"),d=e.parents(".sys-notify-item");$.ajax({url:"/a/tip/close/",data:{token:c},type:"post",dataType:"json",success:function(f){if(!f.code){d.slideUp(function(){d.remove()})}}});$.cpCg({id:"gaozhht_gbxc",name:"关闭小叉"})})});(function(a){var b=function(f,m){var l=this,d=a(f),c=a.extend({remoteUrl:"/a/tag/",maxNum:10,inputHandle:function(){}},m||{}),h=d.children(".js_label"),e=d.children(".js_input"),i=d.find("input"),k="",j=null,g=encodeURIComponent;a.extend(l,{init:function(){var n=d.find("div.option-box");j=n.cpDropMenu({target:i,offset:"0 0",selectHandle:function(o){i.val(o);c.inputHandle(l);l.statusChange()}}).cpGetCtr("cpDropMenu");j.hide();n.cpOut({addItems:i,outHandle:function(){c.inputHandle(l);l.reset()}});h.bind("click",function(){l.statusChange();l.focus()});i.bind("keydown",l._handleHotKey).bind("keyup",function(o){var q=l._handleHotKey(o);if(!q){return}var p=a.trim(i.val());if(13==o.keyCode&&p){c.inputHandle(l);l.statusChange();return false}if(!k){a.cpTimer.start("suggest",500);a.cpEvt.bind("timer_suggest",l.fetch)}})},autoCompletion:function(){var n=j.getSelectVal();if(n){i.val(j.getSelectVal())}c.inputHandle(l);l.statusChange()},_handleHotKey:function(p){var q=p.keyCode;var n="keyup"==p.type;var o="keydown"==p.type;var r="show"==j.getDisplayStatus();if(!r){return true}if(q==9||q==13){p.preventDefault();if(n){l.autoCompletion();j.hide()}return false}if(q==40||q==38){if(o){p.preventDefault();if(q==40){j.hoverNext()}else{j.hoverPre()}}return false}if(q==27){if(n){j.hide()}return false}return true},fetch:function(n){var n=i.cpVal();if(n==k){return}k=n;a.ajax({url:c.remoteUrl,type:"post",dataType:"json",data:"tag="+n+"&maxNum="+c.maxNum+"&op=suggest",success:function(s){if(!s.code){var p=s.data.tags,o=[];for(var q=0;q<p.length;q++){var r={txt:p[q],val:p[q],tip:p[q]};o.push(r)}j.setItems(o);j.show()}}})},focus:function(){i.focus()},reset:function(){i.val("");j.hide();h.removeClass("util-hidden");e.addClass("util-hidden")},statusChange:function(){h.toggleClass("util-hidden");e.toggleClass("util-hidden")},getVal:function(){return i.val()}});l.init()};a.fn.cpAddTag=function(c){return a(this).each(function(){a(this).removeData("cpAddTag").data("cpAddTag",new b(this,c))})}})(jQuery);(function(a){var b=function(e,d){var c=this;c.ops=a.extend({handle:function(){},editDom:"textarea",firstActiveHandle:function(){},ctrlEnterHandle:function(){},clickHandle:function(){},focusHandle:function(){},blurHandle:function(){},syncHandle:function(){},placeholder:"",defaultBlur:true,max:"-1",cut:true,statusText:{yes:["还能输入","字"],no:["已超过","字"]},state:false,errClass:"err-limit",status:".js_editstatus"},d||{});c.elem=a(e);c.editName="s"+new Date().getTime();c.edit=c.elem.find(c.ops.editDom).attr("cp_edit",c.editName);c.eDom=c.edit.get()[0];c.editBox=c.edit.parent();c.limitStatus=false;if(parseInt(c.ops.max)>0){c.limit=true}else{c.limit=false}c.statusElem=c.elem.find(c.ops.status);c.act=0;c.msie=a.browser.msie;c.errLimitStatus=false;a.extend(c,{init:function(){c.edit.unbind(".cpSimpleEdit").bind("click.cpSimpleEdit",c.click).bind("keyup.cpSimpleEdit",c.keyup).bind("focus.cpSimpleEdit",c.focus).bind("blur.cpSimpleEdit",c.blur).bind("paste.cpSimpleEdit",c.paste).bind("change.cpSimpleEdit",c.change);var f=c.edit.attr("placeholder");if(f&&c.msie){c.ops.placeholder=f}if(c.ops.placeholder&&!c.edit.val()){c.edit.val(c.ops.placeholder);c.edit.addClass("placeText")}},getElement:function(){return c.edit},selectionStart:function(){var g=c.eDom;if(!document.selection){return g.selectionStart}var k=document.selection.createRange(),j,f,i=0;var h=document.body.createTextRange();h.moveToElementText(g);for(i;h.compareEndPoints("StartToStart",k)<0;i++){h.moveStart("character",1)}return i},setFocus:function(){try{var g=c.eDom;if(a.browser.msie){var f=g.createTextRange();f.moveStart("character",g.value.length);f.collapse(true);f.select()}else{g.focus()}}catch(h){}},setCursorEnd:function(){try{var f=c.eDom.value.length;c.setSelection(f,f);c.eDom.scrollTop=c.eDom.scrollHeight}catch(g){}},setCursorStart:function(){try{c.setSelection(0,0)}catch(f){}},selectionTxt:function(f,j,h){try{var g=c.eDom;var k=g.value.indexOf(f);if(k>=0){j=j?j:0;h=h?h:f.length;c.setSelection(k+j,k+j+h)}}catch(i){}},setSelection:function(i,g){var h=c.eDom;h.focus();if(a.browser.msie){var f=h.createTextRange();f.collapse(true);f.moveStart("character",i);f.moveEnd("character",g-i);f.select()}else{h.setSelectionRange(i,g)}},click:function(){c.actHandle();if(typeof c.ops.clickHandle=="function"){c.ops.clickHandle()}return true},focus:function(){b.activeInstance=c;if(c.ops.placeholder==c.edit.val()){c.setVal("")}if(c.ops.defaultBlur&&c.msie){c.edit.removeClass("placeText")}if(typeof c.ops.focusHandle=="function"){c.ops.focusHandle()}return true},blur:function(){if(b.activeInstance==this){b.activeInstance=null}if(!c._getv()){if(c.ops.placeholder){c.setVal(c.ops.placeholder)}if(c.msie){c.edit.addClass("placeText")}}if(typeof c.ops.blurHandle=="function"){c.ops.blurHandle()}return true},paste:function(f){c.actHandle();setTimeout(c.sync,10)},change:function(f){c.sync()},keyup:function(f){c.actHandle();c.sync();var g=f.which;if(f.ctrlKey&&13==f.which){if(typeof c.ops.handle=="function"){c.ops.handle()}if(typeof c.ops.ctrlEnterHandle=="function"){setTimeout(function(){c.ops.ctrlEnterHandle()},100)}return false}},count:function(f){if(typeof f=="undefined"){return 0}return f.length},cutStr:function(f){return f.substring(0,c.ops.max)},sync:function(){var g=c.ops.max;if(c.limit&&(c.count(c._getv())>g)){if(c.ops.cut){c.edit.val(c.cutStr(c._getv()))}c.limitStatus=true}else{c.limitStatus=false}if(c.statusElem.length>0){var i=c.count(c._getv());i=g-i;var f=c.statusElem.parent();c.statusElem.html(i);if(!c.ops.state){if(0>i){f.addClass(c.ops.errClass)}else{f.removeClass(c.ops.errClass)}}else{var h=c.ops.statusText;if(0>i){c.statusElem.html(h.no[0]+Math.abs(i)+h.no[1]);f.html(c.statusElem).addClass(c.ops.errClass);c.errLimitStatus=true}else{c.statusElem.html(h.yes[0]+i+h.yes[1]);f.html(c.statusElem).removeClass(c.ops.errClass);c.errLimitStatus=false}}}if(typeof c.ops.syncHandle=="function"){c.ops.syncHandle(c)}},getErrLimit:function(){return c.errLimitStatus},setCursorPosition:function(f){c.edit.setCursorPosition(f)},insert:function(i){if(c.msie){c.edit.removeClass("placeText")}if(c.edit.val()==c.ops.placeholder){c.edit.val("")}var f=c.edit.get(0);if(a.browser.msie){var h=document.selection.createRange();if(h.parentElement().getAttribute("cr_edit")===c.editName){h.text=i}else{f.value+=i}}else{var g=f.selectionStart;f.value=f.value.substr(0,f.selectionStart)+i+f.value.substring(f.selectionStart,f.value.length);f.selectionStart=g+i.length;f.selectionEnd=g+i.length}c.sync()},actHandle:function(){if(!c.act){c.act=1;c.ops.firstActiveHandle()}},getLimitStatus:function(){return c.limitStatus},_getv:function(){return(c.edit.val()==c.ops.placeholder)?"":c.edit.val()},getVal:function(){return c._getv()},setVal:function(f){c.edit.val(f);c.sync();if(c.msie){c.edit.removeClass("placeText")}}});c.init()};b.activeInstance=null;a.fn.cpSimpleEdit=function(c){return a(this).each(function(){a(this).removeData("cpSimpleEdit").data("cpSimpleEdit",new b(this,c))})}})(jQuery);(function(b){var a=function(e,d){var c=this;c.elem=b(e);c.opts=b.extend({onTagsChange:function(f){},sum:10,preTagLimit:5},d||{});c.inputNum=0;c.preTags=c.elem.find(".js_pre");c.tagInputBox=c.elem.find(".js_tag_add");c.inputName=c.elem.attr("name");c.js_labelinput=null;b.extend(c,{init:function(){c.tagInputBox.cpAddTag({inputHandle:function(g){var i=b.trim(g.getVal());if(!i){return false}if(c.elem.find(".js_tag").length>=c.opts.sum){return false}var h=c.addInputTag(i);g.reset();if(h){c.inputNum++;if(c.elem.find(".js_tag").length>=c.opts.sum){c.tagInputBox.addClass("util-hidden")}}}});c.elem.click(function(h){if(!/^i$/i.test(h.target.tagName)){return false}var i=b(h.target);if(i.hasClass("js_tag_del")){var g=i.parents(".js_tag");if(!g.hasClass("js_pre")){c.inputNum--}g.remove();if(c.elem.find(".js_tag").length<c.opts.sum){c.tagInputBox.removeClass("util-hidden")}}c.syncInput();c.opts.onTagsChange(c)});if(c.inputName){var f=c.elem.find("input[name='"+c.inputName+"']");if(!f.length){c.input=b('<input type="hidden" name="'+c.inputName+'">');c.input.appendTo(c.elem)}else{c.input=f}c.syncInput();c.opts.onTagsChange(c)}},syncInput:function(){if(!c.input){return false}var f=c.getTags();c.input.val(f.join(","))},addPreTags:function(j){var h=c.opts.sum-c.inputNum,g="";for(var f=0;f<h;f++){if(!j[f]){break}g+='<span class="tag-closeable js_tag js_pre">'+j[f]+'<i class="icon-p-close js_tag_del" title="删除"></i></span>'}c.elem.find(".js_pre").remove();c.elem.prepend(g);c.syncInput();c.opts.onTagsChange(c)},addInputTag:function(g){if(c.isHas(g)){return false}var f='<span class="tag-closeable js_tag">'+_.escape(g)+'<i class="icon-p-close js_tag_del" title="删除"></i></span>';c.elem.find(".js_tag_add").before(f);c.syncInput();c.opts.onTagsChange(c);return true},isHas:function(f){var h=new RegExp("^"+f+"$"),g=false;c.elem.find(".js_tag").each(function(i){if(h.test(b.trim(b(this).text()))){g=true;return}});return g},getEncodeTags:function(){var f=[];c.elem.find(".js_tag").each(function(){f.push(b(this).cpVal())});return f},getTags:function(){var f=[];c.elem.find(".js_tag").each(function(){f.push(b(this).text())});return f}});c.init()};b.fn.cpTags=function(c){return b(this).each(function(){b(this).removeData("cpTags").data("cpTags",new a(this,c))})}})(jQuery);(function(a){a.fn.cpQuestion=function(){var n=a("div.js_edit"),x=null,d="",v=50,h="",f=null,b=null,t=0,B=a("div.postRemark"),r=n.find("div.js_detail"),o=a.trim(B.find("textarea").val()),z=a("div.js_expert"),C=a("button.btn-primary"),e=C.attr("data-qid"),u=a("select[name='schedule_date']"),k=a("div.js_info p.js_persons"),y=k.find("select[name='persons']"),w=k.find("select[name='oldmen']"),i=k.find("select[name='kids']"),g=n.find("div.shell select"),s=false,l=0,j=encodeURIComponent,c=function(){var D="";a("div.js_expert li.item").each(function(){var E=a(this);if(E.find("input:checked").length){D+=E.attr("data-expertid")+","}});return D},m=function(E,F){var D=a.cpCheckLogin({autoLogin:false});if(!D){if(typeof F=="undefined"){s=true;a.cpCheckLoginReg({regHandle:m});a.cpEvt.bind("login_login_success",m)}else{if(F.status){setTimeout(function(){location=F.forward_url},10)}return false}}else{s=false}var I=a.trim(x.getVal());if(""==I||h==I){return false}if(!s){h=I}var H=(s?"op=pre&":"")+"title="+j(I)+"&detail="+j(b?b.getData():"")+"&tags="+f.getEncodeTags()+"&expertids="+c()+"&qid="+e+"&schedule_date="+j(u.val())+"&persons="+j(y.val())+"&oldmen="+j(w.val())+"&kids="+j(i.val())+"&reward="+j(g.length>0?g.val():0)+"&ref_id="+j(n.find("input[name='ref_id']").val())+"&source_type="+j(n.find("input[name='source_type']").val())+"&ref_title="+j(n.find("input[name='ref_title']").val())+"&ref_category="+j(n.find("input[name='ref_category']").val())+"&ref_url="+j(n.find("input[name='ref_url']").val()),G=a.url.param("type");a.ajax({url:"/a/question/?type="+G,type:"post",dataType:"json",data:H,success:function(K){if(l>0){clearTimeout(l);l=0}if(s){s=false;return}var J=K.code;if(!J){setTimeout(function(){location=K.data.forward_url},10)}else{A.setEnable();a.cpWin.alert({type:"hintErr",msg:(K.msg?K.msg:"出错了，请稍后重试！")})}}});l=setTimeout(function(){a.cpWin.alert({type:"hintErr",msg:"网络故障，您可以稍后重试",subHandle:function(){h="";A.setEnable()}})},20*1000)},A=a("button.btn-primary").cpButton({submitHandle:m}).cpGetCtr("cpButton");var p=function(){var G=x.getVal(),D="",E=CPCONFIG.text2tagsNum;if(b){var F=b.getData();if(F){D=F.substr(0,E+E);D=D.replace(/\s+/mgi," ");G+=D.substr(0,E)}}if(G==d){return}d=G;a.ajax({url:"/a/search/",type:"post",dataType:"json",data:"title="+j(G)+"&tagMaxNum=8&questionMaxNum=5",success:function(H){if(!H.code){f.addPreTags(H.data.tags);if(H.data.experts){if(z.find("input:checked").length){return false}z.removeClass("util-hidden").html(H.data.experts)}}}})};var q=function(){if(!b){var D={width:652,height:200,extraPlugins:"s-link,s-img",toolbar:[["Undo","-","Bold","Underline","Format","-","S-img","S-link"]]};if(typeof _is_doyen_=="undefined"){D.sImg={tabs:["localImg"]}}b=CKEDITOR.replace(n.find('textarea[name="detail"]').get(0),D);if(!window.isLogin){CKEDITOR.on("instanceReady",function(){var E=a("div.postRemark a.cke_button__s-img");E.addClass("util-hidden");a.cpEvt.bind("login_login_success",function(){E.removeClass("util-hidden")})})}}B.toggleClass("util-hidden")};x=n.cpSimpleEdit({editDom:"textarea.js_question",max:v,syncHandle:function(D){var E=a.trim(D.getVal());if(""!=E){if(!d&&!e){a.cpTimer.start("suggest",500);a.cpEvt.bind("timer_suggest",p)}A.setEnable();if(!t&&window.isLogin&&v-E.length<10){t=1;r.click()}}else{A.setDisable()}}}).cpGetCtr("cpSimpleEdit");f=a("div.tags").cpTags().cpGetCtr("cpTags");r.click(q);if(!t&&o){t=1;r.click()}x.sync()}})(jQuery);(function(a){jQuery.fn.extend({elastic:function(){var b=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){if(this.type!=="textarea"){return false}var g=jQuery(this),c=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}),j=parseInt(g.css("line-height"),10)||parseInt(g.css("font-size"),"10"),l=parseInt(g.css("height"),10)||j*3,k=parseInt(g.css("max-height"),10)||Number.MAX_VALUE,d=0;if(k<0){k=Number.MAX_VALUE}c.appendTo(g.parent());var f=b.length;while(f--){c.css(b[f].toString(),g.css(b[f].toString()))}function h(){var i=Math.floor(parseInt(g.width(),10));if(c.width()!==i){c.css({width:i+"px"});e(true)}}function m(i,o){var n=Math.floor(parseInt(i,10));if(g.height()!==n){g.css({overflow:o});g.animate({height:n+"px"})}}function e(p){var o=g.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />");var i=c.html().replace(/<br>/ig,"<br />");if(p||o+"&nbsp;"!==i){c.html(o+"&nbsp;");if(Math.abs(c.height()+j-g.height())>3){var n=c.height()+j;if(n>=k){m(k,"auto")}else{if(n<=l){m(l,"hidden")}else{m(n,"hidden")}}}}}g.css({overflow:"hidden"});g.bind("keyup change cut paste",function(){e()});a(window).bind("resize",h);g.bind("resize",h);g.bind("update",e);g.bind("blur",function(){if(c.height()<k){if(c.height()>l){g.height(c.height())}else{g.height(l)}}});g.bind("input paste",function(i){setTimeout(e,250)});e()})}})})(jQuery);(function(a){var b=function(d){var c=this;c.elem=a(d);a.extend(c,{init:function(){c.elem.click(function(h){var i=a(h.target),e=h.target.tagName.toLowerCase();if(e=="a"){i.toggleClass("label-selected");var g=i.parents("dl"),f=g.find("input");if(!i.hasClass("label-selected")){f.attr("checked",false)}else{if(g.find("a.label").length==g.find("a.label-selected").length){f.attr("checked",true)}}return false}if(e=="input"){if(!!i.attr("checked")){i.parents("dl").find("a").addClass("label-selected")}else{i.parents("dl").find("a").removeClass("label-selected")}}})},syncInput:function(){},getEncodeLabels:function(){var e=[];c.elem.find("a.label-selected").each(function(){e.push(encodeURIComponent(a(this).attr("name")))});return e},getLabels:function(){var e=[];c.elem.find("a.label-selected").each(function(){e.push(a(this).attr("name"))});return e}});c.init()};a.fn.cpCollectionForm=function(c){return a(this).each(function(){a(this).removeData("cpCollectionForm").data("cpCollectionForm",new b(this,c))})}})(jQuery);(function(a){a.fn.cpAnswerBtn=function(){var h=0,c=a(this),g=c.attr("data-qid"),e=null,d=null,f="",b=function(){if(!e){return false}var j=e.getData();if(j==f){return}var i=c.data("draftId");a.ajax({url:"/a/answer/"+g+"/",type:"post",dataType:"json",data:"answer="+encodeURIComponent(j)+"&op=draft&aid="+(i?i:"")+"&qid="+g,success:function(k){if(!k.code){if(k.data&&k.data.aid){c.data("draftId",k.data.aid)}}}});f=j};a(this).click(function(){var k=a(this),j=a("div.js_qa div.postRemark"),i=function(){j.toggleClass("util-hidden");if(!j.hasClass("util-hidden")){if(h>0){clearInterval(h)}h=setInterval(b,window.CPCONFIG.draftInterval)}else{if(h>0){clearInterval(h)}}if(k.data("init")){return false}e=CKEDITOR.replace(j.find("textarea").get(0),{width:590,height:400,extraPlugins:"s-link,s-img",toolbar:[["Undo","-","Bold","Underline","Format","-","S-img","S-link"]]});var p=function(){if(!a.cpCheckLogin({loginHandle:p})){return false}var r=a.trim(e.getData());if(""==r){a.cpWin.hint({type:"hintErr",msg:"内容不能为空!"});return false}if(k.data("editval")==r){a.cpWin.hint({type:"hintErr",msg:"不能重复提交"});return false}k.data("editval",r);var q=k.data("draftId");a.ajax({url:"/a/answer/"+g+"/",type:"post",dataType:"json",data:"answer="+encodeURIComponent(r)+"&first_post=true&aid="+(q?q:"")+"&qid="+g+"&fields="+(d?d.getEncodeLabels().join(","):""),success:function(s){if(!s.code){a.cpWin.hint({msg:"提交成功",closeHandle:function(){a.cpReload()}})}else{k.data("editval","");a.cpWin.alert({type:"hintErr",msg:(s.msg?s.msg:"出错了，请稍后再试！")})}}})};j.find("button.btn-primary").click(p);j.find("button.js_draft").click(function(){if(!e.getData()){return false}b();var q=a(this);q.html("保存成功");setTimeout(function(){q.html("保存草稿")},3*1000)});var m=j.find("p.js_collection_btn");if(m.length>0){var o=j.find("div.js_collection_form"),n=m.find("span.i");o.cpCollectionForm();d=o.cpGetCtr("cpCollectionForm");m.click(function(){n.toggleClass("i-hide-content").toggleClass("i-show-content");o.toggleClass("util-hidden")})}k.data("init",1)};var l=a.cpCheckLogin({loginHandle:i});if(l){i()}})}})(jQuery);(function(a){a.fn.cpSameAskBtn=function(){a(this).click(function(){var b=a(this).attr("data-qid");coask=function(){a.ajax({url:"/a/question/"+b+"/",type:"post",dataType:"json",data:"qid="+b+"&op=coask",success:function(c){if(!c.code){a.cpWin.hint("同问成功")}}})},isLogin=a.cpCheckLogin({loginHandle:coask});if(isLogin){coask()}})}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.askDetail=function(b){var b=a.extend({qid:"",success:function(){},closeHandle:function(){}},b||{}),c=['<div class="dialog">','<a href="javascript:void(0)" class="dialogX js_close" title="关闭"><i class="i iClose"></i></a>','<div class="dialogH">你还需要她提供哪些详情，才能解答这个问题？</div>','<div class="dialogB">','<div class="post">','<div class="tarea"><textarea></textarea></div>',"</div>","</div>",'<div class="dialogF"><a href="javascript:void(0)" class="btn"><b>确 定</b></a></div>',"</div>"],d=a(c.join("")),e=null;d.cpAskDetail({qid:b.qid,success:function(){b.success();e.close()}});d.appendTo("body");e=d.cpDialog({onClose:b.closeHandle}).cpGetCtr("cpDialog");e.show()}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.bestAnswer=function(b){var b=a.extend({aid:"",success:function(){},closeHandle:function(){}},b||{}),c=['<div class="dialog dialog-best-answer">','<div class="hd">',"<h3>采纳答案并感谢回答者</h3>",'<i class="icon-p-close js_close"></i>',"</div>",'<div class="bd">','<div class="best-c">','<button class="btn">真心有用</button><button class="btn">正是我需要的！</button><button class="btn">太赞了</button><button class="btn">非常感谢！</button><button class="btn">你真牛</button>','<p><input type="text" class="js_msg"></p>',"</div>",'<div class="fd">','<button class="btn btn-primary">采纳并感谢</button>',"</div>","</div>"],d=a(c.join("")),e=null;d.cpBestAnswer({aid:b.aid,success:function(){b.success();e.close()}});d.appendTo("body");e=d.cpDialog({onClose:b.cancelHandle}).cpGetCtr("cpDialog");e.show();return false}})(jQuery);(function(a){if(!a.cpWin){return false}a.cpWin.exchange=function(c){var c=a.extend({title:"",goodsId:"",success:function(){},closeHandle:function(){}},c||{}),d=['<div class="dialog exchange-success">','<div class="hd">',"<h3>"+c.title+"</h3>",'<i class="icon-p-close js_close"></i>',"</div>",'<div class="bd fc2">','<p style="margin-bottom:10px" class="util-l"><strong>填写联系方式，以便我们把礼品寄送给您 </strong></p>',"<form>",'<input type="hidden" name="id" value="'+c.goodsId+'">','<table class="form-layout">',"<tr>",'<td class="lab">姓名：</td>','<td class="inp">','<input type="text" name="name" disableautocomplete autocomplete="off">',"</td>","</tr>","<tr>",'<td class="lab">电话：</td>','<td class="inp">','<input type="text" name="phone" disableautocomplete autocomplete="off">',"</td>","</tr>","<tr>",'<td class="lab">详细地址：</td>','<td class="inp">','<input type="text" class="address" name="address" disableautocomplete autocomplete="off">',"</td>","</tr>","<tr>",'<td class="lab">邮编：</td>','<td class="inp">','<input type="text" name="postcard" disableautocomplete autocomplete="off">',"</td>","</tr>","<tr>",'<td class="lab"> </td>','<td class="inp">','<button href="javascript:void(0)" class="btn-primary">确定</button>','<a href="javascript:void(0)" class="btn js_close">取消</a>',"</td>","</tr>","</table>","</form>","</div>"],b=a(d.join("")),e=null;b.cpExchange({goodsId:c.goodsId,success:function(){c.success();e.close()}});b.appendTo("body");e=b.cpDialog({onClose:c.cancelHandle}).cpGetCtr("cpDialog");e.show();return false}})(jQuery);(function(a){a.fn.cpAskDetail=function(c){var b=a(this),e=a.extend({qid:"",success:function(){}},c||{}),d=b.find("a.btn"),g=b.find("text"),f=function(){var h=g.cpVal();a.ajax({url:"/a/question/"+e.qid+"/",type:"post",dataType:"json",data:"qid="+e.qid+"&op=coask",success:function(i){if(!i.code){e.success();a.cpWin.hint("反问成功")}}})};d.click(f);b.find("div.post").cpSimpleEdit({ctrlEnterHandle:f})}})(jQuery);(function(a){a.fn.cpAskDetailBtn=function(){a(this).click(function(){var b=a(this).attr("data-qid");ask=function(){a.cpWin.askDetail({qid:b})},isLogin=a.cpCheckLogin({loginHandle:ask});if(isLogin){ask()}})}})(jQuery);(function(a){a.fn.cpBestAnswer=function(d){var c=a(this),g=a.extend({aid:"",success:function(){}},d||{}),f=c.find("button.btn-primary"),b=c.find("input.js_msg"),e=function(){var h=b.cpVal();a.ajax({url:"/a/answer/"+g.aid+"/",type:"post",dataType:"json",data:"aid="+g.aid+"&content="+h+"&op=best",success:function(i){if(!i.code){g.success();a.cpWin.hint("采纳成功")}}})};c.find("button.btn").click(function(){b.val(a(this).text())});f.click(e)}})(jQuery);(function(a){a.fn.cpBestAnswerBtn=function(){a(this).click(function(){var b=a(this),d=b.attr("data-aid"),e=function(){a.cpWin.bestAnswer({aid:d,success:function(){a.cpReload()}})},c=a.cpCheckLogin({loginHandle:e});if(c){e()}return false})}})(jQuery);(function(a){a.fn.cpQzFavourite=function(){a(this).click(function(){var c=a(this),b=function(){a.ajax({url:"/a/favorite/",type:"post",data:{title:c.data("blog-title"),refId:c.data("store").refId,ownerId:c.data("store").ownerId,type:1},success:function(e){c.html("已收藏")}})},d=a.cpCheckLogin({loginHandle:b});if(d){b()}})};a.fn.cpLikeBtn=function(){a(this).click(function(){var b=a(this),f=b.attr("data-aid"),g=b.find("em.js_num"),c=parseInt(g.html()),e=function(){a.ajax({url:"/a/answer/"+f+"/",type:"post",dataType:"json",data:"aid="+f+"&op=like",success:function(i){if(!i.code){if(!i.data.liked){var k=a('<em class="liketip">+1</em>').appendTo(b.find("span"));k.fadeOut("normal",function(){g.html(c+1)})}else{var h=b.find("span.js_tip");if(!h.length){a('<span class="util-hidden js_tip">已赞</span>').appendTo(b)}var j=b.find("span");j.toggleClass("util-hidden");setTimeout(function(){j.toggleClass("util-hidden")},1000)}}}})},d=a.cpCheckLogin({loginHandle:e});if(d){e()}})}})(jQuery);(function(a){a.fn.cpAnswerEdit=function(){a(this).find("a.js_edit").click(function(){var n=a(this),c=n.attr("data-aid"),d=(c?"":"&first_post=true"),j=n.attr("data-qid"),m=n.data("draft"),g=null,k=n.parents("div.js_answerItem_"+c),i=k.find("div.js_answer_edit_post"),e=k.find("a.js_edit"),f=k.find("div.js_content"),l="",b=function(){if(!g){return false}var p=g.getData();if(p==l){return}var o=n.data("draftId");if(o){c=o}a.ajax({url:"/a/answer/"+j+"/",type:"post",dataType:"json",data:"answer="+encodeURIComponent(p)+(m?"&op=draft":"")+"&aid="+(c?c:"")+"&qid="+j,success:function(q){if(!q.code){if(q.data&&q.data.aid){n.data("draftId",q.data.aid)}}}});l=p};i.toggleClass("util-hidden");f.toggleClass("util-hidden");if(n.data("init")){return false}g=CKEDITOR.replace(i.find("textarea").get(0),{width:590,height:400,extraPlugins:"s-link,s-img",toolbar:[["Undo","-","Bold","Underline","Format","-","S-img","S-link"]]});l=g.getData();var h=function(){if(!a.cpCheckLogin({loginHandle:h})){return false}var o=a.trim(g.getData());if(""==o||n.data("editval")==o){return false}n.data("editval",o);a.ajax({url:"/a/answer/"+j+"/",type:"post",dataType:"json",data:"answer="+encodeURIComponent(o)+"&aid="+c+"&qid="+j+d,success:function(p){if(!p.code){a.cpWin.hint("提交成功");a.cpReload()}else{n.data("editval","");a.cpWin.alert({type:"hintErr",msg:(p.msg?p.msg:"服务器出错了，请稍后重试")})}}})};i.find("button.btn-primary").click(h);i.find("button.js_draft").click(function(){if(!g.getData()){return false}b();var p=a(this),o=p.html();p.html("保存成功");setTimeout(function(){p.html(o)},3*1000)});n.data("init",1)})}})(jQuery);(function(a){a.fn.cpAgain=function(){a(this).find("button.js_again").click(function(){var k=a(this),c=0,d=k.attr("data-aid"),f=null,i=k.parents("div.js_answerItem_"+d),h=i.find("div.js_again_post"),e=i.find("button.js_again"),l="",j="",b=function(){if(!f){return false}var n=f.getData();if(n==j){return}var m=k.data("draftarId");a.ajax({url:"/a/answer/"+d+"/reply/",type:"post",dataType:"json",data:"content="+encodeURIComponent(n)+"&op=draft&arid="+(m?m:"")+"&aid="+d,success:function(o){if(!o.code){if(o.data&&o.data.arid){k.data("draftarId",o.data.arid)}}}});j=n};if(h.hasClass("util-hidden")){l="againShow";if(c>0){clearInterval(c)}c=setInterval(b,window.CPCONFIG.draftInterval)}else{l="againHide";if(c>0){clearInterval(c)}}a.cpEvt.send("answerItem_btn_click",d,l);h.toggleClass("util-hidden");if(k.data("init")){return false}f=CKEDITOR.replace(h.find("textarea").get(0),{width:590,height:400,extraPlugins:"s-link,s-img",toolbar:[["Undo","-","Bold","Underline","Format","-","S-img","S-link"]]});var g=function(){if(!a.cpCheckLogin({loginHandle:g})){return false}var n=a.trim(f.getData());if(""==n||k.data("editval")==n){return false}k.data("editval",n);var m=k.data("draftarId");a.ajax({url:"/a/answer/"+d+"/reply/",type:"post",dataType:"json",data:"content="+encodeURIComponent(n)+"&aid="+d+"&arid="+(m?m:""),success:function(o){if(!o.code){a.cpWin.hint("提交成功");a.cpReload()}else{a.cpWin.alert(o.msg)}}})};h.find("button.btn-primary").click(g);h.find("button.js_draft").click(function(){if(!f.getData()){return false}b();var m=a(this);m.html("保存成功");setTimeout(function(){m.html("保存草稿")},3*1000)});k.data("init",1)})}})(jQuery);(function(a){a.fn.cpAgainEdit=function(){a(this).find("a.js_ar_edit").click(function(){var m=a(this),d=m.attr("data-aid"),h=m.attr("data-arid"),l=m.data("draft"),g=null,c=m.parents("div.js_arItem_"+h),j=c.find("div.js_edit_post"),e=c.find("a.js_ar_edit"),f=c.find("div.js_ar_content"),k="",b=function(){if(!g){return false}var o=g.getData();if(o==k){return}var n=m.data("draftarId");if(n){h=n}a.ajax({url:"/a/answer/"+d+"/reply/",type:"post",dataType:"json",data:"content="+encodeURIComponent(o)+(l?"&op=draft":"")+"&arid="+(h?h:"")+"&aid="+d,success:function(p){if(!p.code){if(p.data&&p.data.aid){m.data("draftarId",p.data.arid)}}}});k=o};j.toggleClass("util-hidden");f.toggleClass("util-hidden");if(m.data("init")){return false}g=CKEDITOR.replace(j.find("textarea").get(0),{width:550,height:400,extraPlugins:"s-link,s-img",toolbar:[["Undo","-","Bold","Underline","Format","-","S-img","S-link"]]});var i=function(){if(!a.cpCheckLogin({loginHandle:i})){return false}var n=a.trim(g.getData());if(""==n||m.data("editval")==n){return false}m.data("editval",n);a.ajax({url:"/a/answer/"+d+"/reply/",type:"post",dataType:"json",data:"content="+encodeURIComponent(n)+"&aid="+d+"&arid="+h,success:function(o){if(!o.code){a.cpWin.hint("提交成功");a.cpReload()}}})};j.find("button.btn-primary").click(i);j.find("button.js_draft").click(function(){if(!g.getData()){return false}b();var o=a(this),n=o.html();o.html("保存成功");setTimeout(function(){o.html(n)},3*1000)});m.data("init",1)})}})(jQuery);(function(a){a(function(){var b=a("#collection");if(!b.length){return false}b.find("td.js_checkbox_group").cpCheckboxGroup();b.find("a.btn2").bind("click",function(){var c=a(this).attr("data-qid");a.ajax({url:"/a/question/"+c+"/",type:"post",dataType:"json",data:b.serialize()+"&_method=PUT",success:function(d){if(!d.code){a.cpWin.hint({msg:"保存成功",closeHandle:function(){a.cpReload()}})}}})})})})(jQuery);(function(a){a(function(){var f=function(g){g.cpQuestion()};var c=function(i){var i=a("div.js_qa"),g=i.find("button.js_answer"),k=i.find("a.js_same"),h=i.find("a.js_askDetail");if(g.length){g.cpAnswerBtn();if(isLogin&&typeof answerAreaDis!="undefined"&&answerAreaDis){g.click()}}if(k.length){k.cpSameAskBtn()}if(h.length){h.cpAskDetailBtn()}var j=a("div.user-qa a.js_edit");j.each(function(){a(this).parents("div.user-qa").cpAnswerEdit()});var l=a("div.user-qa button.js_again");l.each(function(){a(this).parents("div.user-qa").cpAgain()});var m=a("a.js_ar_edit");m.each(function(){a(this).parents("div.js_ar_list").cpAgainEdit()});a.cpEvt.bind("answerItem_btn_click",function(r,s,t){var q=a("div.js_answerItem_"+s),p=q.find("div.js_edit_post"),o=q.find("div.js_again_post"),n=q.find("div.comments").data("module");if(!o.hasClass("util-hidden")&&t.indexOf("again")<0){o.addClass("util-hidden")}if(!p.hasClass("util-hidden")&&t.indexOf("edit")<0){p.addClass("util-hidden")}if(t.indexOf("reply")<0){n.hide()}});a("div.qa-list button.js_best").cpBestAnswerBtn();a("li.js_like").cpLikeBtn()};var d=a("div.ask-input");if(d.length){f(d);return}var b=a("div.js_qa");if(b.length){c(b)}var e=a("div.qa-list span.save-favorite");if(e.length>0){e.cpQzFavourite()}})})(jQuery);(function(e,c,f){var d="current",b=e(".scenic .cat li"),a=e(".category-list");b.click(function(i){var h=e(this),g=b.index(this);b.removeClass(d);h.addClass(d);a.filter(function(j){return j!==g}).addClass("util-hidden");a.eq(g).removeClass("util-hidden")})})(jQuery,window);(function(c,d,a,b,e){b.module("comments",{fields:{},module:{refId:{},category:{},comments:{uiSet:function(f){var h=this.get("refId"),i=d(".refId-"+h+" q"),g=i.html()-0;this.$e("input").val("");i.html(g+1)},validator:function(f){return f.commentContent!==""&&d.cpCheckLogin()},async:function(f){var g=this;return{global:false,url:"/a/comment/"+f.category+"/"+f.refId+"/",type:"post",dataType:"json",data:f,success:function(i){var h=i.code;if(!h){g.loadComments()}}}}}},templete:{comments:d("#comments-tpl").html()},init:function(){this.currentReplyName="";this.currentReplyUid="";this.preStr="";this.currentCommentId="";this.wrap.html(this.templete.comments);this.set("refId",this.wrap.data("store").refId);this.set("category",this.wrap.data("store").category);this.events();if(this.wrap.attr("data-comment-auto-open")){this.show()}},loadComments:function(i){var g=this,h=g.get("refId"),f=g.get("category"),j={pageSize:10};if(i){j.pageNum=i}d.ajax({global:false,url:"/a/comment/"+f+"/"+h+"/",type:"get",dataType:"json",data:j,success:function(n){var l=n.code;if(!l){}if(g.wrap.attr("data-comment-populate")){if(!n.data.result.list||n.data.result.list.length<1){data_list={list:[]}}else{data_list={list:n.data.result.list}}c.currentUserId=n.data.result.userId;var m='<% _.each(list, function(com){%> <li class="comments-item" data-cid="<%- com.commentId %>"  data-store=\'<%=JSON.stringify(com)%>\'> <a href="/u<%-com.uid%>/" rel="nofollow" class="c-img"><img alt="<%- com.userNick %>" src="<%- com.userIcon %>"/></a><% if(window.currentUserId == com.uid){ %><i class="icon-p-close-b comments-close"></i><% }else{ %> <span class="comment-reply fc4">回复</span><%}%><div class="c-txt"><div><a href="/u<%-com.uid%>/"><span class="name"><%- com.userNick %></span></a><% if(com.puserNick){ %>回复<a href="/u<%-com.puid%>/"><span class="name"><%- com.puserNick %></span></a><%}%>：<%= com.comment %></div><span class="time">发表于&nbsp;&nbsp;<%- _.strftime(new Date(com.createdAt), \'%Y-%m-%d %H:%M\') %></span></div></li>  <%})%>';var k=a.template(m,data_list);k='<ul class="">'+k+"</ul>";g.$e("list").html(k)}else{g.$e("list").html(n.data.comment)}g.$e("pagination").html(n.data.result.page);g.$e("pagination").find("a").click(function(o){o.preventDefault();g.loadComments(d(this).data("page"))});d(c).resize()}})},addComment:function(){var m=this.get("refId"),l=this.get("category"),k=this,j=this.$e("input").val(),h={refId:m,category:l,commentContent:j};var g=k.preStr,f=new RegExp("^"+k.preStr+".+");if(g&&f.test(j)){j=d.trim(j.replace(k.preStr,""));h.pcid=this.currentCommentId;h.puid=this.currentReplyUid;h.commentContent=j}k.set("comments",h);var i=this;d(".blog-total-num").each(function(){if(d.trim(i.$e("input").val())){d(this).html(parseInt(d(this).html())+1)}})},deleteComment:function(i){var n=this,h=n.get("refId"),f=this.get("category"),g=i.parents(".comments-item"),m=g.data("store").cid||g.data("cid"),j=d(".refId-"+h+" q"),k=j.html()-0,l={refId:h,category:f,cid:m,_method:"delete"};d.ajax({global:false,url:"/a/comment/"+f+"/"+h+"/",type:"post",dataType:"json",data:l,success:function(p){var o=p.code;if(!o){g.slideToggle(function(){g.remove();j.html(k-1)})}d(".blog-total-num").each(function(){d(this).html(parseInt(d(this).html())-1)})}})},show:function(){this.$e("input").focus();this.loadComments();this.wrap.show();d.cpEvt.send("answerItem_btn_click",this.get("refId"),"replyShow")},hide:function(){this.wrap.hide()},events:function(){var h=this,f=d(".refId-"+this.get("refId"));f.on("click",function(){if(h.wrap.attr("data-comment-auto-open")){var k=h.wrap.find("textarea.comments-input");d.scrollTo(k,{offset:{left:0,top:-150},onAfter:function(){k.focus()}});return}if(h.wrap.css("display")==="none"){h.show()}else{h.hide()}});this.commentBtn=f;this.wrap.delegate(".comments-close","click",function(){h.deleteComment(d(this))});this.wrap.delegate(".comment-reply","click",function(m){var l=d.cpCheckLogin();if(!l){return false}var n=d(m.currentTarget).parents(".comments-item"),k=n.data("store");h.currentReplyName=k.userNick;h.currentReplyUid=k.uid;h.currentCommentId=n.data("cid");h.preStr="回复"+k.userNick+":";location.hash="#relative";h.$e("input").focus().val(h.preStr+" ")});this.wrap.delegate(".comments-item","mouseenter",function(){d(this).addClass("current")}).delegate(".comments-item","mouseleave",function(){d(this).removeClass("current")});this.$e("submit").on("mouseup",function(){var k=d.cpCheckLogin({loginHandle:function(){h.addComment()}});if(k){h.addComment()}});this.$e("input").on("keyup",function(l){if((l.ctrlKey&&l.keyCode===13)){var k=d.cpCheckLogin({loginHandle:function(){h.addComment()}});if(k){h.addComment()}}});var g=d(".comments-input"),j=d(".comments-left");var i=function(){var k=d.trim(g.val()).length;if(k<1){j.html("最多可以输入140字")}else{if(k<141){j.html("还可以输入"+(140-k)+"字")}else{j.html('已经超出<span style="color: red">'+(k-140)+"</span>字")}}};g.keydown(function(k){i()});g.keyup(function(k){i()})}});b.module.bind("comments",d(".comments"));d(".comments-input").elastic()})(window,jQuery,_,compass);(function(c){if(typeof jiathis_config==="undefined"){return}var b={url:location.href,appkey:{tsina:"3848923412"},siteNum:4,sm:"tsina,qzone,tqq,douban",hideMore:true},a;jiathis_config=c.extend(b,jiathis_config);a=_.clone(jiathis_config);c(".js_jiathis_share").live("mouseover",function(){var f=c(this),d=!!f.data("store"),e=c.extend(b,f.data("store"));if(d){jiathis_config=e}else{jiathis_config=a}})})(jQuery);$(function(){var a=$("div.js_blog_add");if(a.find("a.js_blog_btn").length>0){a.cpTouchShow({offset:"0 0"})}});(function(a){a.fn.cpSendMsg=function(c){var b=a(this),f=a.extend({success:function(){}},c||{}),d=b.find("button.btn-primary"),e=d.data("talkerid"),h=b.find("textarea");var g=function(){var i=a.trim(h.val());if(!i){return false}a.ajax({url:"/message/"+e+"/send/",type:"post",dataType:"json",data:"content="+encodeURIComponent(i)+"&talkerid="+e,success:function(j){if(!j.code){h.val("");f.success(j.data.content)}else{alert(j.msg)}}});return false};d.click(g);b.cpSimpleEdit({ctrlEnterHandle:g})}})(jQuery);(function(){$(function(){$("button.js_msgsend_btn,a.js_msgsend_btn").click(function(){var c=$(this),a=function(){$.cpWin.sendMsg({talkerid:c.data("talkerid"),talkernick:c.data("talkernick")})},b=$.cpCheckLogin();if(b){a()}return false})})})(jQuery);(function(){$(function(){if($.cookie("poped_mission_hint")==="1"){return}$.ajax({type:"get",url:"/a/tasks/new/",success:function(a){a=$.parseJSON(a);if(a.code==0){$().toastmessage("showToast",{text:'<p class="fb tc ">领取行程通知</p><p class="mt10">亲爱的达人：</p><p>达人广场又有任务发布了，马上去领取吧！1小时内领取贝壳+300，2小时内领取贝壳+100！</p><p class="tc mt10"><a class="btn btn-primary" href="/star/">去看看</a></p>',sticky:false,stayTime:4000,position:"middle-center",type:"notice",closeText:'<i class="icon-p-close-b"></i>',close:function(){}});$.cookie("poped_mission_hint","1",{expires:1,path:"/"})}}})})})(jQuery);(function(a){a.fn.cpAddFavoriteBtn=function(){a(this).click(function(f){var e=a(this),g=e.data("store"),h=e.find(".js_num"),c=parseInt(h.html()),i="";a.each(g,function(j,k){i+=j+"="+encodeURIComponent(k)+"&"});var b=function(){a.ajax({url:"/a/favorite/",type:"post",dataType:"json",data:i,success:function(j){if(!j.code){if(e.hasClass("icon-trip-btn-fav")){e.addClass("icon-trip-btn-fav-a")}else{h.html(c+1)}if(e.closest("div.track-dialog-box").length>0){alert("收藏成功")}else{a.cpWin.alert({type:"hintOk",msg:'收藏成功&nbsp;&nbsp;<a class="link1" href="/u'+isUser.uid+'/favorite/" target="_blank">去看看</a>'})}}else{if(10201==j.code||1601==j.code){if(e.closest("div.track-dialog-box").length>0){alert(j.msg)}else{e.html("已收藏")}}else{if(e.closest("div.track-dialog-box").length>0){alert(j.msg)}else{a.cpWin.alert({type:"hintErr",msg:j.msg})}}}}})},d=a.cpCheckLogin({loginHandle:b});if(d){b()}return false})}})(jQuery);$(function(){var a=$(".js_favorite_add");if(a.length>0){a.cpAddFavoriteBtn()}});(function(b,a){b(function(){var j=b("ul.js_shop");if(!j.length){return false}var f=j.data("type");if(f!="blog"&&f!="question"){return false}var e=(new Date()).getDate();if(b.cpSys.status("advisor_panel_close_date")==e){return false}b.cpEvt.bind("shop_panel_before_show",function(k,l){l.data("disable",true)});var h=b(".js_advisor_panel .fbtn-xlarge"),d=h.attr("href");h.attr("href",d+"?rf="+f);var i=b(a),c=function(){var k=b(this);k.unbind();b("div.js_advisor_panel").remove();b.cpSys.status("advisor_panel_close_date",(new Date()).getDate());b.cpEvt.send("shop_panel_action_show")},g=function(){if(b("div.js_advisor_panel_show").length>0){return false}var k=b("div.js_advisor_panel");k.removeClass("util-hidden").addClass("js_advisor_panel_show");k.animate({bottom:0},{duration:200});k.find(".js_close").click(c);b.cpCc("advisorpanelpop")};i.bind("scroll.advisorPanel",function(){if(i.scrollTop()>250){i.unbind("scroll.advisorPanel");g()}})})})(jQuery,window);$(function(){var c=$("ul.js_shop");if(!c.length){return false}var a=$("div.js_shop_panel"),f=c.data("type"),j=c.data("tid"),h=c.data("url");var b={},e=$(".trip-bd").data("module"),n=c.find(".js_group"),g=1;function d(r,q){var s=$("#day"+r).data("did"),p=c.find("li.js_goods");c.find("li").not(".js_103001").removeClass("trip-shop-act");c.find("div.option-box").hide();c.find("div.item-count").hide();if(s){$.each(p,function(u,v){var v=$(v),t=v.data("url");v.find("a").not(".js_panel_info").attr("href",t+"&doa_id="+s)})}var o=c.find("li.js_103001");o.removeClass("util-hidden").addClass("trip-shop-act");o.find(".item-count").show();$.each(q,function(x,u){var z=u.ctgid,y=u.items,B=c.find("li.js_"+z),v=B.find("div.option-box"),A="";if(!u.cnt){return true}B.removeClass("util-hidden").addClass("trip-shop-act").find("small").html(u.cnt);B.find(".item-count").show();for(var x=0;x<y.length;x++){var C=y[x].name,t=y[x].url,w="diandeng2";if(j||s){w+="&trip_id="+(j?j:0)+"&doa_id="+(s?s:0)}A+='<q><a target="_blank" class="trip-shop-name" title="'+y[x].name+'" href="'+t+'">'+C+'</a><a href="'+t+'" target="_blank" class="trip-shop-price">￥'+y[x].price+"</a></q>"}A+='<q><a target="_blank" class="link1" href="'+u.url+(((u.url.indexOf("?")>=0)?"&":"?")+w)+'">查看全部&gt;&gt;</a></q>';v.find("div.option").html(A);v.show()});if(!c.data("isInitShow")){$.cpEvt.send("shop_panel_before_show",c);$.cpEvt.bind("shop_panel_action_show",function(t){i()});if(!c.data("disable")){i()}c.data("isInitShow",true)}}function i(){var p=function(){c.scrollToFixed({limit:function(){return a.offset().top},bottom:0})};c.removeClass("util-hidden");a.removeClass("util-hidden");k();if(a.length>0){if(f=="tripDetail"||"tripSummary"==f){p()}else{var q=$(window);q.bind("scroll.shopPanel",function(){if(q.scrollTop()>250){p();q.unbind("scroll.shopPanel")}})}}else{c.scrollToFixed({limit:c.offset().top,bottom:0})}var o=(new Date()).getDate();$.cpSys.status("shop_panel_show_date",o)}if(e){e.on("afterDayChange",function(){var o=e.get("day");if(g==o){return false}m(o,d);g=o})}function l(s){var q="",r=a.find("div.js_panel_tip").html();for(var p=0;p<s.length;p++){if((f=="tripDetail"||"tripSummary"==f||"tripCalendar"==f)&&!s[p].cnt&&s[p].ctgid!="103001"){continue}var o=s[p].url+((s[p].url.indexOf("?")>=0)?"&":"?")+"rf=diandeng2";if(j){o+="&trip_id="+j}q+='<li class="item js_goods js_cptouchshow_target  js_'+s[p].ctgid+(p>9?" right-edge":"")+'" data-ctgid="'+s[p].ctgid+'" data-url="'+o+'">'+(p==0?r:"")+'<a class="trip-item-link" href="'+o+'" target="_blank"><i class="trip-shop-icon item-'+s[p].ctgid+'"></i><span class="goods">'+s[p].name+'</span></a><div style="display:none" class="option-box util-hidden js_cptouchshow_panel"><div class="option"></div></div><div class="item-count" style="display:none"><a target="_blank" href="'+o+'"><span class="item-count-prev"></span><small>99+</small><span class="item-count-next"></span></a></div></li>'}c.html(q);c.find("a.js_xiaoer").mousedown(function(){$.cpCc("shopguider")});c.find("li.js_goods").cpTouchShow({delay:0,positionPlugin:false});c.find(".shop-panel-tip").breathe({color:"#ffc28c"},1000,2000);m(1,d)}function k(){var p=c.find(".js_shop_bubble"),o=p.data("version");var q=$.cpSys.status("diandengtip"+o);if(q){return false}else{p.removeClass("util-hidden")}var r=p.find(".js_close");r.click(function(){r.unbind();p.remove();$.cpSys.status("diandengtip"+o,true)})}function m(o,q){var p=$("#day"+o).data("did");if(!p){if(j){p=0}else{return false}}if(b[o]){q(o,b[o]);return false}$.ajax({url:"/a/trip/mall/product/",type:"post",dataType:"json",data:"did="+p+"&tid="+j,success:function(r){if(!r.code){b[o]=r.data;q(o,b[o])}}})}(function(){var o="",q="",p=0;if(h){o=h}else{o="/a/trip/mall/category/";if(0==j){p=$("#day1").data("did")}q="did="+p+"&tid="+j}$.ajax({url:o,type:"post",dataType:"json",data:q,success:function(r){if(!r.code&&r.data.length>0){if(!r.data.length){return false}l(r.data);if(typeof j=="undefined"){d(f,r.data)}}}})})()});(function(b,a){a.cpPrismCallback=function(d){if(!d.code){for(var c=0;c<d.data.length;c++){b("#prism-"+d.data[c].id).html(d.data[c].html)}}};b(function(){var c="";b("div.js_prism").each(function(){var d=b(this);c+=d.data("id")+","});if(c){b.getScript("/prism/show/?callback=cpPrismCallback&section_ids="+c)}})})(jQuery,window);(function(b,a){b(function(){function c(){var e=b('<div style="text-align: center" class="notify js_notify"><p style="font-size:14px">抱歉，您使用的浏览器版本过低，影响了您访问我们的网站，<br/>建议您升级到IE8，或者使用其他更高性能的浏览器。<br/>点击链接升级：<a style="color:#0181EC" href="//www.microsoft.com/zh-cn/download/internet-explorer-8-details.aspx" class="link1" target="_blank">IE8</a>，或选择其他浏览器：<a style="color:#0181EC" href="//www.google.cn/intl/zh-CN/chrome/browser/index.html" class="link1" target="_blank">最新谷歌浏览器</a></p><i class="icon-p-close-b js_close" data-type="advisor"></i></div>'),d=e.find(".js_close");d.click(function(){b.cookie("unsupport_dialog","1",{path:"/"});d.unbind("click");e.remove()});b("div.top-header").prepend(e)}if(b.browser.msie&&b.browser.version<8){if(b.cookie("unsupport_dialog")){return false}c()}})})(jQuery,window);(function(b){var a={bottom:"210px",margin:"0 -565px 0 0",zIndex:120};window.sjbwebim={style:{follow:{display:"none"},win:{zIndex:9999}}}})(jQuery);(function(a){var c=window.localStorage||{setItem:function(d){},getItem:function(d){},removeItem:function(d){}};var b=316255;window.allPhoneIM={noop:function(){},switchForIM:true,isOldUser:function(d,e){a.ajax({url:"//is.shijiebang.com/sales/isolduser/",type:"GET",dataType:"jsonp",data:{mobile:d},success:function(f){if(f.code===0){if(f.data&&f.data.isOldUser===1){e(true)}else{e(false)}}}})},getChildUid:function(d,e){a.ajax({url:"//is.shijiebang.com/sales/duty/",type:"GET",dataType:"jsonp",data:{uid:d},success:function(g){if(g.code===0){var h=g.data.salesIds;var f=Math.floor(Math.random()*h.length);var i=h[f];e(i)}}})},openIM:function(f,d,e){if(!a.isArray(f)){f=[f]}if(typeof d==="boolean"){e=d;d=null}d=d||b;e=e||false;this.getChildUid(d,function(j){var g=0;if(f.length==1&&f[0]==""){return a.sjbwebimHooks.sendMsgToUid(j,"",true,e)}var h;while(h=f.shift()){if(g==0){a.sjbwebimHooks.sendMsgToUid(j,h,true,e)}else{(function(i){setTimeout(function(){a.sjbwebimHooks.sendMsgToUid(j,i,false,e)},g*3000)})(h)}++g}})},openIMToUser:function(f,d,e){if(!a.isArray(f)){f=[f]}if(typeof d==="boolean"){e=d;d=null}d=d||b;e=e||false;this.getChildUid(d,function(j){var g=0;var h;while(h=f.shift()){if(g==0){a.sjbwebimHooks.sendTrueMsgToCurr(j,h,true,e)}else{(function(i){setTimeout(function(){a.sjbwebimHooks.sendTrueMsgToCurr(j,i,false,e)},g*3000)})(h)}++g}})},openIMForNewUser:function(f,d,g){var e=this;this.isOldUser(d,function(h){if(h){g()}else{e.openIM(f)}})},onceOneDayLocalStorage:function(e,i,h,f){e=e||"";i=i||this.noop;h=h||this.noop;f=f||"sjb-webim-automsg";e=f+e;var g=c.getItem(e);var d=new Date().getTime();if(g&&(d-g<24*60*60*1000)){return h()}i();c.setItem(e,d)}}})(jQuery);(function(b,a){b(function(){var e=a.isTouchOptions,f=b.url.param("rf"),g=b.cpSys.status("sjb_touched");if(!e||!f||g||f.indexOf(e.rf)<0){return false}e=b.extend({suid:"21611",timeout:5*1000,infoTxt:"欢迎来到世界邦旅行网，您有行程规划或者预定旅行产品方面的任何问题，可以直接联系我们的在线客服。",okTxt:"联系客服",cancelTxt:"稍后再说"},e);a.isTouchCallback=function(h){if(!!(h&&h.res&&h.res[0]&&h.res[0].isonline!="0")){setTimeout(function(){c();b.cpCc("touch_dialog_pop");b.cpSys.status("sjb_touched",true)},e.timeout||10)}};var d="//msg.shijiebang.com/ajax/webim/status?uids="+e.suid+"&callback=isTouchCallback";b.getScript(d,isTouchCallback);function c(){var h='<div style="width:360px;text-align:left;font-size:14px"><p>'+e.infoTxt+'</p></div><div class="ft" style="position:relative;top:15px"><a class="btn-primary webim-online-click js_close" data-isonline="1" data-id="'+e.suid+'" data-src="'+location.href+'#touch-dialog-btn" href="javascript:void(0)">'+e.okTxt+'</a><a class="btn js_close" href="javascript:void(0)">'+e.cancelTxt+"</a></div>";var i=b.cpWin.container({className:"user-touch-dialog",title:"欢迎来到世界邦旅行网",needCancel:false,needBtn:false,container:h,autoClose:false,setLoad:false,dialogOptions:{onClose:function(){i.getDom().remove()}}});i.getDom().find("a.btn-primary").click(function(){b.cpCc("touch_dialog_ok")})}})})(jQuery,window);(function(){$(function(){$("div.top-header li.js_doyenDock, div.top-header li.js_nav_dock").cpTouchShow({holder:$("div.top-header div.menu-box"),positionPlugin:false});var a=$("div.top-header div.js_navadd");a.cpTouchShow({holder:$("div.top-header div.menu-box"),positionPlugin:false});$.cpEvt.bind("login_login_success user_info_update",function(){a.removeClass("util-hidden");$("div.top-header div.menu-box").addClass("login-status")});$.cpEvt.bind("user_info_empty",function(){a.removeClass("util-hidden")});$("ul.js_loginDock").cpLoginDock();$("ul.js_userDock").cpUserDock();$("ul.js_userDock").cpMsgDock();$.cpUser({callback:function(b){$.cpEvt.send("user_info_update",b)},errorCallback:function(){$.cpEvt.send("user_info_empty")}})})})(jQuery);+function(e){var a=function(h,g){this.options=e.extend({},a.defaultOptions,g);this.element=e(h);if(this.options.isAsynData){this.asynData()}else{this.render();this.bindEvents()}};var d='<h3><%= title %></h3><div class="user-exp"><%= itemsHtml %></div><%= preNextHtml%>';var c='<div class="user-switch"><a href="#" class="prev">上一个</a><a href="#" class="next">下一个</a></div>';var f='<a href="<%= targetUrl %>" target="_blank" class="item"><div class="img"><img src="<%= imageBottom %>"></div><div class="info"><p class="year"><span class="y1"><%= year %></span><span class="d1"><%= month %>月<%= day %>日</span></p><p class="p2"><i class="icon-sys-o10"></i><%= comment %><i class="icon-sys-o11"></i></p><p class="author"><span class="hint">— by</span><span><%= username %></span></p></div></a>';a.defaultOptions={isAsynData:true,title:"用户出行评价",targetUrl:"/trust/",asynUrl:"/a/trust/data/",datasource:[]};a.prototype.asynData=function(){var h=this;var g=e.Deferred();e.ajax({url:this.options.asynUrl,type:"post",dataType:"json",success:function(i){if(i.code===0){g.resolve(i.data.trustList)}}});g.done(function(i){h.options.datasource=i;h.render();h.bindEvents()})};a.prototype.getHtml=function(){var i=this;var l=_.map(this.options.datasource,function(s,n){var q=s.journeyDate;var r=new Date(q);var p=r.getFullYear();var t=r.getMonth()+1;var m=r.getDate();var o=e.extend({},s,{targetUrl:i.options.targetUrl,year:p,month:t,day:m});o.comment=o.comment.length>60?o.comment.slice(0,60)+"...":o.comment;return _.template(f,o)});var j=l.join("");var h=_.template(c,{});var g=e.extend({},this.options,{itemsHtml:j,preNextHtml:h});var k=_.template(d,g);return k};a.prototype.render=function(){var g=this.getHtml();this.element.html(g)};a.prototype.bindEvents=function(){var g=this.element;var h=g.tabs({effect:"fadelight",isPreLoad:false,currentClass:"current",boxSelector:".item",isAutoPlay:true,speed:1000,timeDelay:5,event:"click"});g.find(".prev").click(function(i){i.preventDefault();h.tabs("prev")});g.find(".next").click(function(i){i.preventDefault();h.tabs("next")})};function b(g){return this.each(function(){var j=e(this);var i=j.data("sjb.userExp");var h=typeof g==="object"&&g;if(!i){j.data("sjb.userExp",(i=new a(this,h)))}})}e.fn.userExp=b;e.fn.userExp.Constructor=a}(jQuery);+function(c){var e=function(g,f){this.options=c.extend({},e.defaultOptions,f);this.element=c(g);if(this.options.isAsynData){this.asynData()}else{this.render();this.bindEvents()}};var b='<p class="p0"><%= title%></p><div class="item-wrap js-marquee"><%= itemsHtml %></div>';var d='<a href="<%= link %>" target="_blank"><img src="<%= mediaLogo %>" width="100" height="40"><p><%= title %></p><p class="info"><span class="source"><%= mediaName %></span><span><%= date %></span></p></a>';e.defaultOptions={isAsynData:true,title:"媒体报道",asynUrl:"/a/trust/data/",datasource:[]};e.prototype.asynData=function(){var g=this;var f=c.Deferred();c.ajax({url:this.options.asynUrl,type:"post",dataType:"json",success:function(h){if(h.code===0){f.resolve(h.data.sjbnewslist)}}});f.done(function(h){g.options.datasource=h;g.render();g.bindEvents()})};e.prototype.getHtml=function(){var g=this;var j=_.map(this.options.datasource,function(l,k){return _.template(d,l)});var h=j.join("");var f=c.extend({},this.options,{itemsHtml:h});var i=_.template(b,f);return i};e.prototype.render=function(){var f=this.getHtml();this.element.html(f)};e.prototype.bindEvents=function(){var f=this.element;f.find(".js-marquee").marquee({delayBeforeStart:0,gap:0,direction:"up",duration:7000,duplicated:true,pauseOnHover:true})};function a(f){return this.each(function(){var i=c(this);var h=i.data("sjb.MediaReport");var g=typeof f==="object"&&f;if(!h){i.data("sjb.MediaReport",(h=new e(this,g)))}})}c.fn.mediaReport=a;c.fn.mediaReport.Constructor=e}(jQuery);+function(f){var a=function(i,h){this.options=f.extend({},a.defaultOptions,h);this.element=f(i);if(this.options.isAsynData){this.asynData()}else{this.render();this.bindEvents()}};var e='<div class="mod-interest-points <%= extClass %>"><%= headHtml %><%= preNextHtml %><div class="wrap"><div class="js-intro-tabs"><%= itemsHtml %>';+"</div></div></div>";var b='<div class="hd"><div class="title"><%= title %></div></div>';var d='<div class="fcon-arrow-l prev arr js-intro-prev"></div><div class="fcon-arrow-r next arr js-intro-next"></div>';var g='<div class="item"><div style="background-position:0px,0px;background-image: url(<%= icon %>)" class="c-img"></div><div class="c-txt"><h3><%= name %></h3><p><%= content %></p></div></div>';a.defaultOptions={isAsynData:true,title:"为什么选择世界邦",asynUrl:"/a/trust/data/",pageSize:4,hasTitle:true,datasource:[],benefitIds:[10000,10001,10002,10003]};a.prototype.asynData=function(){var i=this;var h=f.Deferred();f.ajax({url:this.options.asynUrl,type:"post",data:{benefitIds:this.options.benefits.join(",")},dataType:"json",success:function(j){if(j.code===0){h.resolve(j.data.benefits)}}});h.done(function(j){i.options.datasource=j;i.render();i.bindEvents()})};a.prototype.getItemsHtml=function(){var j=this;var k=[];var h=this.options.datasource.length;var i=this.options.pageSize;_.map(this.options.datasource,function(m,l){if(l%i===0){k.push('<div class="item-list js-intro-box">')}k.push(_.template(g,m));if(l%i===i-1||l==h-1){k.push("</div>")}});return k.join("")};a.prototype.getHtml=function(){var k="";if(this.options.hasTitle){k=_.template(b,{title:this.options.title})}var l=this.getItemsHtml();var i="";var j="";if(this.options.datasource.length>this.options.pageSize){i=_.template(d,{});j="mod-interest-points-slide"}var h=f.extend({},this.options,{preNextHtml:i,headHtml:k,itemsHtml:l,extClass:j});var m=_.template(e,h);return m};a.prototype.render=function(){var h=this.getHtml();this.element.html(h)};a.prototype.bindEvents=function(){var i=this.element;var h=i.find(".js-intro-tabs").tabs({effect:"scroll",boxSelector:".js-intro-box",isAutoPlay:false});i.find(".js-intro-prev").on("click",function(){h.tabs("prev")});i.find(".js-intro-next").on("click",function(){h.tabs("next")})};function c(h){return this.each(function(){var k=f(this);var j=k.data("sjb.WhyUs");var i=typeof h==="object"&&h;if(!j){k.data("sjb.WhyUs",(j=new a(this,i)))}})}f.fn.whyUs=c;f.fn.whyUs.Constructor=a}(jQuery);+(function(c){var g=["<%= headHtml %>",'<ul class="bd list">',"<%= itemsHtml %>","</ul>"].join("");var e=['<a class="hd" href="<%= topImgTargetUrl %>" target="_blank">','<img src="<%= topImgUrl %>" alt="" />',"<% if(hasVideo) { %>",'<div class="cell-ip-video <%= videoClassName %>">','<div class="video-wraper"><div class="video"><i class="icon-play icon-sys1-play"/></div></div>','<img src="//f7.sjbly.cn/f17/0215/1730/_pc0215-sbs.gif"/>',"</div>","<% } %>","</a>"].join("");var i=['<li class="<%= icon %> <%= extralClasses %> <%= nonBorder %>">',"<% if( hasLink ){%>",'<a class="detail" href="<%= goUrl %><%= logParams %>" target="_blank">',"<% } else{ %>",'<div class="detail">',"<% } %>",'<img src="<%= iconUrl %>" alt="" />','<p class="title"><%= title %></p>','<div class="content"><%= content %></div>',"<%= goHtml %>","<% if( hasLink ){%>","</a>","<% }else{ %>","</div> ","<% } %>","</li>"].join("");var f=['<p class="go">',"<span><%= goText %></span>",'<i class="fcon-arrow-r"></i>',"</p>"].join("");var a="//s2.sjbly.cn/res/img/interestpoints/";var j={1:"手机导游",2:"精确指路",3:"定制行程",4:"客户手册",5:"紧急服务",6:"不止机+酒"};var b={type1:[{id:1,title:"手机导游",content:"每天去哪里，怎么玩……都详细说明；到景点，有中文语音为你讲解。外语不好没关系，手机导游带你玩！",icon:"phone",iconUrl:a+"icon-1.png",goUrl:"/on/benefit/?tab=2",order:1},{id:2,title:"精确指路",content:"告诉你地铁怎么换，步行多少米……更把全程近200段线路导航，都帮你提前设定好。1秒轻松导航，国外不迷路 !",icon:"guide",iconUrl:a+"icon-2.png",goUrl:"/on/benefit/?tab=1",order:2},{id:3,title:"定制行程",content:"“在梵蒂冈居然不用排大队，行程安排的真好。”惊喜的定制体验，数十万用户正在感受。专业定制，超越你的期待。",icon:"customize",iconUrl:a+"icon-3-2.png",goUrl:"/on/benefit/?tab=3",order:3},{id:4,title:"客户手册",content:"把酒店确认单、机票、门票等所有纸质凭证，按日期手工排序，还精心标注好。出行用的各种票据，都帮你整理好。",icon:"manual",iconUrl:a+"icon-4.png",goUrl:"/on/benefit/?tab=4",order:4},{id:5,title:"紧急服务",content:"世界邦全球旅行服务中心，拥有庞大的紧急服务团队。随时守候，全力帮你解决困难。遇事儿有人管，自由行更放心！",icon:"service",iconUrl:a+"icon-5.png",goUrl:"/on/benefit/?tab=5",order:5},{id:6,title:"不止机+酒",content:"行程中需要提前预定的机票、酒店、签证、租车、包车、火车票、演出、观光等，全都包！帮你精心选好，全都订好！",icon:"all",iconUrl:a+"icon-6.png",goUrl:"/on/benefit/?tab=6",order:6}],type11:[{id:1,title:"手机智能导游",order:1},{id:1,title:"指路精确到米",order:2},{id:3,title:"达人定制行程",order:3},{id:4,title:"定制客户手册",order:4},{id:5,title:"7X24小时紧急服务",order:5},{id:6,title:"不止机+酒&nbsp;一站全搞定",order:6}],type2:[{id:2,title:"指路精确到米",order:1},{id:1,title:"手机智能导游",order:2},{id:3,title:"达人定制行程",order:3},{id:4,title:"定制客户手册",order:4},{id:5,title:"7X24小时紧急服务",order:5},{id:6,title:"不止机+酒<br>一站全搞定",order:6}],type3:[{id:2,title:"指路精确到米",order:1},{id:1,title:"手机智能导游",order:4},{id:3,title:"达人定制行程",order:2},{id:4,title:"定制客户手册",order:5},{id:5,title:"7X24小时紧急服务",order:3},{id:6,title:"不止机+酒&nbsp;一站全搞定",order:6}],type4:[{id:2,title:"指路精确到米",order:1},{id:1,title:"手机智能导游",order:2},{id:3,title:"达人定制行程",order:3},{id:4,title:"定制客户手册",order:4},{id:5,title:"7X24小时紧急服务",order:5},{id:6,title:"不止机+酒&nbsp;一站全搞定",order:6}],type5:[{id:1,title:"价格优胜",content:"以跟团游的平民价格独享私人包车，仅为同类定制包车产品价格的40%-60%",icon:"phone",iconUrl:a+"icon-c-1.png",goUrl:"#",order:1},{id:2,title:"正规包车",content:"在黑车黑导泛滥的包车市场中坚守品质，只用正规资质、高性价比的地接包车服务",icon:"guide",iconUrl:a+"icon-c-2.png",goUrl:"#",order:2},{id:3,title:"服务透明",content:"行程一览无余，只去达人为用户设计、选择的观光和购物安排，杜绝隐性消费和强制购物",icon:"customize",iconUrl:a+"icon-c-3.png",goUrl:"#",order:3},{id:4,title:"达人定制",content:"不走大众线路和地接常用线路，为用户量身定制更地道、深度的包车自由行玩法",icon:"manual",iconUrl:a+"icon-c-4.png",goUrl:"#",order:4},{id:5,title:"语言零障碍",content:"手机智能导游+定制客户手册，行程、景点详细中文介绍，更有专属司机全程耐心协助",icon:"service",iconUrl:a+"icon-c-5.png",goUrl:"#",order:5},{id:6,title:"双重服务保障",content:"不光有包车随行尊享服务，还有7X24小时紧急服务团队随时待命，无缝衔接为您解决困难",icon:"all",iconUrl:a+"icon-c-6.png",goUrl:"#",order:6}]};var d=function(l,k){this.options=c.extend({},d.defaultOptions,k);this.element=c(l);if(this.options.type===1){this.options.data=b.type1}else{var n=b.type1.slice(0);var m=b["type"+this.options.type];n.sort(function(p,o){return p.id-o.id});m.sort(function(p,o){return p.id-o.id});n=_.map(n,function(p,o){return c.extend({},p,m[o])});this.options.data=n}this.initData();this.render();this.bindEvents()};d.defaultOptions={className:"",isVertical:false,hasHead:true,hasVideo:false,videoClassName:"",topImgUrl:"//f6.sjbly.cn/y16/0315/2056/00hqu_o.gif",topImgTargetUrl:"/on/benefit/?tab=1&rf=liyidianrukoujqzl_sypc",hasGo:false,goText:"去看看",hasContent:false,hasBorder:true,hasLink:true,type:1,needCutCotent:false,cutAfterLen:23};d.prototype.initData=function(){this.options.data.sort(function(l,k){return l.order-k.order})};d.prototype.getItemsHtml=function(){var l="";var k=this.options;_.map(k.data,function(o,m){var n=c.extend({},o);n.goHtml="";n.logParams=k.logParams;if(k.hasGo){n.goHtml=_.template(f,k)}if(!k.hasContent){n.content=""}else{if(k.needCutCotent){n.content=n.content.length>k.cutAfterLen?n.content.slice(0,k.cutAfterLen)+"...":n.content}}var p=[];if(m===0){p.push("first-child")}if(m%3===0){p.push("child-3n-1")}if(m%3===2){p.push("child-3n")}if(m===k.data.length-1){p.push("last-child")}n.extralClasses=p.join(" ");if(!k.hasBorder){n.nonBorder="non-border"}else{n.nonBorder=""}n.hasLink=k.hasLink;l+=_.template(i,n)});return l};d.prototype.getHtml=function(){var m="";var l=this.options;if(l.hasHead){m=_.template(e,l)}var n=this.getItemsHtml();var k=c.extend({},this.options,{headHtml:m,itemsHtml:n});var o=_.template(g,k);return o};d.prototype.render=function(){var k=this.options;var m=this.getHtml();var l="mod-interest-points-href";if(k.isVertical){l+=" mod-interest-points-href-vertical"}if(k.className){l+=(" "+k.className)}this.element.addClass(l);this.element.html(m)};d.prototype.bindEvents=function(){var l=this;if(this.options.hasHead&&this.options.hasVideo&&!this.options.isVertical){var n=this.element.find(".cell-ip-video .video-wraper");var k=this.element.find(".cell-ip-video");var m=setTimeout(function(){n.show()},3500);setTimeout(function(){n.hide();k.hover(function(){n.show()},function(){n.hide()})},30*1000);this.element.on("click","a",function(){clearTimeout(m);n.hide()})}};function h(k){return this.each(function(){var n=c(this);var m=n.data("sjb.InterestPoints");var l=typeof k==="object"&&k;if(!m){n.data("sjb.InterestPoints",(m=new d(this,l)))}})}c.fn.InterestPoints=h;c.fn.InterestPoints.Constructor=d})(jQuery);(function(e){function d(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}d.EventEmitter=d;d.prototype._events=undefined;d.prototype._maxListeners=undefined;d.defaultMaxListeners=10;d.prototype.setMaxListeners=function(g){if(!c(g)||g<0||isNaN(g)){throw TypeError("n must be a positive number")}this._maxListeners=g;return this};d.prototype.emit=function(m){var n,l,g,h,j,k;if(!this._events){this._events={}}if(m==="error"){if(!this._events.error||(a(this._events.error)&&!this._events.error.length)){n=arguments[1];if(n instanceof Error){throw n}throw TypeError('Uncaught, unspecified "error" event.')}}l=this._events[m];if(b(l)){return false}if(f(l)){switch(arguments.length){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice.call(arguments,1);l.apply(this,h)}}else{if(a(l)){h=Array.prototype.slice.call(arguments,1);k=l.slice();g=k.length;for(j=0;j<g;j++){k[j].apply(this,h)}}}return true};d.prototype.addListener=function(h,i){var g;if(!f(i)){throw TypeError("listener must be a function")}if(!this._events){this._events={}}if(this._events.newListener){this.emit("newListener",h,f(i.listener)?i.listener:i)}if(!this._events[h]){this._events[h]=i}else{if(a(this._events[h])){this._events[h].push(i)}else{this._events[h]=[this._events[h],i]}}if(a(this._events[h])&&!this._events[h].warned){if(!b(this._maxListeners)){g=this._maxListeners}else{g=d.defaultMaxListeners}if(g&&g>0&&this._events[h].length>g){this._events[h].warned=true;console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[h].length);if(typeof console.trace==="function"){console.trace()}}}return this};d.prototype.on=d.prototype.addListener;d.prototype.once=function(h,j){if(!f(j)){throw TypeError("listener must be a function")}var k=false;function i(){this.removeListener(h,i);if(!k){k=true;j.apply(this,arguments)}}i.listener=j;this.on(h,i);return this};d.prototype.removeListener=function(j,m){var l,g,k,h;if(!f(m)){throw TypeError("listener must be a function")}if(!this._events||!this._events[j]){return this}l=this._events[j];k=l.length;g=-1;if(l===m||(f(l.listener)&&l.listener===m)){delete this._events[j];if(this._events.removeListener){this.emit("removeListener",j,m)}}else{if(a(l)){for(h=k;h-->0;){if(l[h]===m||(l[h].listener&&l[h].listener===m)){g=h;break}}if(g<0){return this}if(l.length===1){l.length=0;delete this._events[j]}else{l.splice(g,1)}if(this._events.removeListener){this.emit("removeListener",j,m)}}}return this};d.prototype.removeAllListeners=function(i){var g,h;if(!this._events){return this}if(!this._events.removeListener){if(arguments.length===0){this._events={}}else{if(this._events[i]){delete this._events[i]}}return this}if(arguments.length===0){for(g in this._events){if(g==="removeListener"){continue}this.removeAllListeners(g)}this.removeAllListeners("removeListener");this._events={};return this}h=this._events[i];if(f(h)){this.removeListener(i,h)}else{if(h){while(h.length){this.removeListener(i,h[h.length-1])}}}delete this._events[i];return this};d.prototype.listeners=function(h){var g;if(!this._events||!this._events[h]){g=[]}else{if(f(this._events[h])){g=[this._events[h]]}else{g=this._events[h].slice()}}return g};d.listenerCount=function(i,h){var g;if(!i._events||!i._events[h]){g=0}else{if(f(i._events[h])){g=1}else{g=i._events[h].length}}return g};function f(g){return typeof g==="function"}function c(g){return typeof g==="number"}function a(g){return typeof g==="object"&&g!==null}function b(g){return g===void 0}e.EventEmitter=d})(window);(function(c,d){var b='<div class="mod-overlay"></div>';function a(e){var f={zIndex:101};d.extend(this,f,e);this.init()}a.prototype={constructor:a,setzIndex:function(e){this.zIndex=e;this.$element.css("zIndex",e)},getzIndex:function(){return zIndex},init:function(){this.$element=d(b);this.setzIndex(this.zIndex);d("body").append(this.$element)},show:function(e){if(e&&e.zIndex){this.setzIndex(e.zIndex)}this.$element.show()},hide:function(){this.$element.hide()}};c.PhoneOverlay=a})(window,jQuery);(function(e,g){var b=e.PhoneOverlay;var d=e.EventEmitter;var c=['<div class="mod-dialog ${dialogClasses} ${dialogExClasses}" style="z-index: ${zIndex};">','<div class="hd">','<span class="step">${stepText}</span>',"<h3>${title}</h3>",'<span class="close ${closeIconClasses} ${closeClass}"></span>',"</div>",'<div class="bd">',"</div>",'<div class="ft ${hasFootClass}">','<button class="btn btn-primary js-dialog-submit ${submitClasses}">${submitText}</button>','<button class="btn js-dialog-cancel ${hasCancelClass} ${cancelClasses}">${cancelText}</button>',"</div>","</div>"].join("");function h(i,j){if(!i){return""}if(j==null){return i}return i.replace(/\$\{(.+?)\}/g,function(k,m){var l=j[m];if(typeof l==="function"){l=l(m)}return l==null?"":l})}function f(k){if(!k){return""}var i=[];for(var j in k){if(k.hasOwnProperty){if(k[j]){i.push(j)}}}return i.join(" ")}function a(i){if(!(this instanceof a)){return new a(i)}var j={title:"提示",closeIconClasses:"icon-p-close-b",dialogClasses:"",dialogExClasses:"",zIndex:102,hasHead:true,isStep:false,stepText:"",hasClose:true,isAuto:false,canResize:true,isFixed:false,bottom:0,hasOverlay:true,selfClose:true,submitText:"确定",cancelText:"取消",hasFoot:false,hasCancel:false,isCloseDestory:true,submitClasses:"",cancelClasses:"",autoZIndex:true};g.extend(this,j,i,{hasFootClass:i.hasFoot?"":"hide",hasCancelClass:i.hasCancel?"":"hide"});g.extend(this,new d());var k={"mod-dialog-nohead":!this.hasHead,"mod-dialog-step":this.isStep,"mod-dialog-auto":this.isAuto};this.dialogExClasses=f(k);if(this.autoZIndex){this.zIndex=a.zIndex++}this.init()}a.zIndex=8000;a.prototype={constructor:a,init:function(){if(this.hasOverlay){this._overlay=new b()}var j={};var k=h(c,g.extend(j,this,{closeClass:this.hasClose?"":"hide"}));var i=g(k);this.$element=i;this.$body=i.find(".bd");g("body").append(i);this.initEvents()},close:function(){if(this.hasOverlay){this._overlay.hide()}this.$element.hide();if(this.isCloseDestory){this.destroy()}},setTitle:function(i){this.title=i;this.$element.find(".hd h3").text(i)},setStepText:function(i){this.stepText=i;this.$element.find(".hd .step").text(i)},setCss:function(i){this.$element.css(i)},show:function(){if(this.hasOverlay){this._overlay.show({zIndex:this.zIndex-1})}if(this.canResize){this.resize()}if(this.isFixed){this.fixed()}this.emit("beforeShow");this.$element.show()},fixed:function(){this.$element.css("bottom",this.bottom+"px")},initEvents:function(){var i=this;this.$element.on("click",".close",function(){if(i.selfClose){i.close()}i.emit("close")});if(this.hasFoot){this.$element.on("click",".js-dialog-submit",function(){i.close();i.emit("submit")});this.$element.on("click",".js-dialog-cancel",function(){i.close();i.emit("cancel")})}},getPos:function(){var k=g(e).width();var n=g(e).height();var r=this.getSize();var p=r.w;var m=r.h;var j=(k-p)/2;var q=(n-m)/2;var i=j>0?j:0;var o=q>0?q:0;return{left:i,top:o}},getSize:function(){var j=this.$element;var i=j.width();var k=j.height();return{w:i,h:k}},resize:function(){var i=this.getPos();this.$element.css({left:i.left+"px",top:i.top+"px"})},append:function(j){var i=g(j);this.emit("beforeAppend");this.$body.append(i);this.emit("afterAppend")},destroy:function(){try{this.$element.off("click");this.$element.remove();this.$body=null;this.$element=null;this._overlay=null}catch(i){}}};e.PhoneDialog=a})(window,jQuery);(function(d){var b={};(function(){var e=/\+/g;function g(h){return h}function f(h){return decodeURIComponent(h.replace(e," "))}b=function(p,o,u){if(o!==undefined){u=d.extend({},b.defaults,u);if(o===null){u.expires=-1}if(typeof u.expires==="number"){var q=u.expires,s=u.expires=new Date();s.setDate(s.getDate()+q)}o=b.json?JSON.stringify(o):String(o);return(document.cookie=[encodeURIComponent(p),"=",b.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join(""))}var h=b.raw?g:f;var r=document.cookie.split("; ");for(var n=0,k=r.length;n<k;n++){var m=r[n].split("=");if(h(m.shift())===p){var j=h(m.join("="));return b.json?JSON.parse(j):j}}return null};b.defaults={}})();var c=['<div class="sys-dialog-hint">','<div class="bd">','<p class="title"><i class="icon icon-sys1-success"></i>收藏成功！</p>','<p class="hint">请在“我的行程-我的收藏”中查看</p>',"</div>","</div>"].join("");var a=!(location.href.indexOf("m.shijiebang.com")>-1||location.href.indexOf("m.beta.shijiebang.com")>-1);d(function(){var i;var g;d("body").on("click",".js-line-heart",function(){if(!b("z")){if(a){d(".js_loginBtn").eq(0).trigger("click")}else{location.href="/login/"}return false}var m=d(this);var l=m.data("refId");var n=m.data("title");var k=m.data("price");var j=m.data("type");if(m.hasClass("has-hearted")){d.ajax({url:"/r/favorite/delete/",type:"post",dataType:"json",data:{refId:l,type:j},success:function(p){if(p.code===0){var o=m.removeClass("has-hearted").find("span");if(m.data("list")){var q=d.trim(o.text());if(q&&q!=="0"&&q!=="99+"){o.text(+q-1)}}else{o.text("收藏")}if(m.data("delete")){m.closest(".item").remove()}}else{alert(p.msg)}}})}else{d.ajax({url:"/r/favorite/add/",type:"post",dataType:"json",data:{type:j,pageType:a?1:2,refId:l,title:n,price:k},success:function(p){if(p.code===0){var o=m.addClass("has-hearted").find("span");var q="";if(m.data("list")){q=d.trim(o.text())}else{q=""+d.trim(m.data("count"))}if(q&&q!=="99+"){if(q=="99"){o.text("99+")}else{o.text(+q+1)}}if(a){clearTimeout(i);g&&g.remove&&g.remove();g=d(c).appendTo(d("body")).fadeIn("slow");i=setTimeout(function(){g.fadeOut("slow",function(){g.remove()})},2000)}}else{alert(p.msg)}}})}return false});var e=d(".js-line-qr");if(e.length){var f=e.find(".cell-share-tip img");if(f.length){var h=f[0];e.hover(function(){if(!h.src){h.src="/qr/"+location.href.replace(/^\/\/(www\.)?/,"//m.")}},function(){})}}})})(jQuery);(function(c,b){c.fn.countdownClock=function(f){var d=this;try{if(typeof(moment)=="undefined"){throw ("** Moment.js is a required dependency for the countdownClock plugin.")}}catch(i){console.log(i);return}var h=["date","showYears","showMonths","showDays","showHours","showMinutes","showSeconds","updateInterval"];d.options={dateFormat:"YYYY-MM-DD",date:undefined,showYears:false,showMonths:true,showDays:true,showHours:true,showMinutes:true,showSeconds:true,updateInterval:1,containerClass:"countdown-clock",containerTag:"div"};if(typeof(f)!=="undefined"){for(var g in f){d.options[g]=f[g]}}try{if(typeof(d.options.date)=="undefined"){throw ('** Countdown-Clock requires a "date" parameter set! $("#el").({date: "'+d.options.dateFormat+'");')}}catch(i){console.log(i);return}d.renderTemplate=function(){var e="";var j=function(k){};if(d.options.showYears){e+="<span class='years'></span>年"}if(d.options.showMonths){e+="<span class='months'></span>月"}if(d.options.showDays){e+="<span class='days'></span>天"}if(d.options.showHours){e+="<span class='hours'></span>小时 "}if(d.options.showMinutes){e+="<span class='minutes'></span>分钟"}if(d.options.showSeconds){e+="<span class='seconds'></span>秒"}e="<"+d.options.containerTag+' class="'+d.options.containerClass+'">'+e+"</"+d.options.containerTag+">";d.html(e)};d.renderTemplate();d.el=function(){return{years:d.find("span.years"),months:d.find("span.months"),days:d.find("span.days"),hours:d.find("span.hours"),minutes:d.find("span.minutes"),seconds:d.find("span.seconds")}};d.updateClock=function(){var m=d.options.date;var j=parseInt(m/(3600*24));var e=parseInt((m%(3600*24))/3600);var l=parseInt((m%3600)/60);var k=m%60;if(d.el().days.length){d.el().days.text(j)}if(d.el().hours.length){d.el().hours.text(e)}if(d.el().minutes.length){d.el().minutes.text(l)}if(d.el().seconds.length){d.el().seconds.text(k)}d.options.date=d.options.date-1};d.updateClock();setInterval(d.updateClock,(d.options.updateInterval*1000));return d};var a={tripType:null,isSuper:false,init:function(){var e=b.location.hostname;var d=c(".alike-container");this.tripType=!d.length?"super":"walle";this.isSuper=!d.length?true:false;if(e.indexOf("www")===0||e.indexOf("beta")===0){this.initEvent()}else{this.initEventH5()}},initEvent:function(){var d=this;c("#quote, .quote-container").on("click",".js-compare-btn",function(e){d.getQuoteListData(function(){d.showDialog();d.tongJiLogBtn();e.stopPropagation()});return false})},showDialog:function(){var d=this;var e=this.getHtml(d.getItemHtml);if(e.length==0){c.cpWin.alert({msg:"价格已过期或需询价的报价不能进行对比!"});return}var f=c(".compare-dialog").cpGetCtr("cpDialog");if(f){f.show()}else{c.cpWin.container({className:"compare-dialog",title:"价格对比 <span>同时支持2组的价格对比</span>",container:e,autoClose:false,setLoad:false,btnSubmitMsg:"开始对比",subHandle:function(){d.compareHandle()},needCancel:true});d.showCountDown();d.dialogEvent();d.setSubmitBtnStatus(true)}},setSubmitBtnStatus:function(d){c(".compare-dialog .js_primary_btn").attr("disabled",d)},showCountDown:function(){var d=c(".quote-item .count-down-wrap");c.each(d,function(e,g){var f=c(g).data("expireTime");if(f>0){c(g).find("span.count-down").countdownClock({date:f,showYears:false,showMonths:false,showDays:false,dateFormat:"YYYY-MM-DD HH:mm:SS"})}else{c(g).html("已过期")}})},getHtml:function(i){var f=this;var h=f.quoteListData;var e="";var d=0;c.each(h,function(k,j){if(f.isSuper){if(j.price>0&&j.timeout>0){var m=i(j,k,d);e=e+m;d++}}else{var l=j.priceCalenderDataList||null;c.each(l,function(n,o){var q=j.inquiryType===1?(o.price>0&&o.hasService>0):o.price>0;var p=moment(j.expireTime).diff(moment());if(q&&o.status!=2&&p>0){var o=i(j,n,d);e=e+o;d++}})}});var g=e.length>0?'<div class="quote-list">'+e+"</div>":"";return g},quoteListData:[],getQuoteListData:function(e){var d=this;if(d.isSuper){d.getSuperQuoteList(e)}else{d.getWalleQuoteList(e)}},getSuperQuoteList:function(j){var e=this;var h=SER_DATA.sourceID;var g=SER_DATA.validUid||SER_DATA.uid;var d=c(".alike-container").data();var f=SER_DATA.key||"";var i={super_id:h,user_id:g,key:f};c.ajax({type:"get",url:"//mmd-pie.shijiebang.com/api/quote/getShowList",data:i,dataType:"jsonp",success:function(k){if(k.code==0){e.quoteListData=k.data;if(c.isFunction(j)){j()}}else{c.cpWin.alert({type:"hintErr",msg:k.msg})}}})},getWalleQuoteList:function(h){var e=this;var f=c(".alike-container").data("tripId");var d=c(".alike-container").data();var f=d.tripId;var g={key:d.key};c.ajax({type:"get",url:"/a/power/quote-list/trip-"+f+"/",data:g,dataType:"json",success:function(i){if(i.code==0){e.quoteListData=i.data;if(c.isFunction(h)){h()}}else{c.cpWin.alert({type:"hintErr",msg:i.msg})}}})},getItemHtml:function(d,f){var g=a.getItemDate(d,f);var e='                <div class="quote-item">                    <div class="start-date">'+g.startDate+g.startCity+"出发- "+g.createTime+'的报价单                        <div class="fc5 count-down-wrap" data-expire-time="'+g.expireTime+'">有效期剩余: <span class="count-down"></span></div>                    </div>                    <div class="fc5 price">￥'+g.price+'</div>                    <div class="select" data-version-id="'+g.versionId+'" ><i class="c-i icon-super-detail-radio"></i>添加对比</div>                </div>';return e},getItemDate:function(e,k){var o=this;if(o.isSuper){var m=moment(e.add_time*1000).format("YYYY-MM-DD HH:mm");var d=e.timeout;var j=e.start_city.replace("市","");var h=moment(e.trip_date*1000).format("M月D日");var l=e.price;var g=e.quote_id}else{var m=moment(e.createTime).format("YYYY-MM-DD HH:mm");var f=+moment(e.expireTime||"9999-12-31 23:59").toDate();var d=parseInt((f-+new Date())/1000);var j=e.startCityName.replace("市","");var n=e.priceCalenderDataList[k];var h=moment(n.startDate).format("M月D日");var l=n.price;var g=n.versionId}return{createTime:m,expireTime:d,startCity:j,startDate:h,price:l,versionId:g}},versionId:[],dialogEvent:function(){var d=this;c(".quote-list").on("click",".select",function(){var f=c(this).find("i");var e=c(this).data("versionId");var g=f.hasClass("icon-super-detail-radio-checked");if(!g){if(d.versionId.length===2){c(".compare-dialog .hd h3 span").addClass("title-tips");return}f.removeClass("icon-super-detail-radio");f.addClass("icon-super-detail-radio-checked");d.versionId.push(e)}else{f.removeClass("icon-super-detail-radio-checked");f.addClass("icon-super-detail-radio");d.versionId=_.without(d.versionId,e);c(".compare-dialog .hd h3 span").removeClass("title-tips")}if(d.versionId.length===2){d.setSubmitBtnStatus(false)}else{d.setSubmitBtnStatus(true)}})},compareHandle:function(){if(this.versionId.length==0){return}var f=this.versionId.join(",");var e="";if(this.isSuper){e="quotecompare_gourl_ra"}else{e="quotecompare_gourl_ea"}var d="//tmall.shijiebang.com/order/quote/showcompare/?qids="+f+"&rf="+e;b.open(d)},tongJiLogBtn:function(){var d=this;if(typeof _TongjiLog!=="undefined"){if(d.isSuper){_TongjiLog("quotecompare_djdban_ra","点击对比按钮")}else{_TongjiLog("quotecompare_djdban_ea","点击对比按钮")}}},initEventH5:function(){var d=this;c("#quote, #quoteRecordList").on("tap",".js-compare-btn",function(e){d.getQuoteListData(function(){d.showDialogH5();e.stopPropagation()});return false})},showDialogH5:function(){var d=this;var e=this.getHtml(d.getItemHtmlH5);if(e.length==0){return}var f=c(".compare-dialog").length>0?true:false;if(f){c(".compare-overlay").show();c(".compare-dialog").show()}else{var h='                    <div class="mod-overlay compare-overlay"></div>                    <div style="top: 1rem;" class="mod-dialog compare-dialog">                        <div class="hd">                            <h3>价格对比<span> 同时支持2组的价格对比</span></h3><span class="close"></span>                        </div>                        <div class="bd">'+e+'                            <div class="compare-btn">                                <button class="btn-primary js_primary_btn">开始对比</button>                                <button class="btn js_cancel_btn">取消</button>                            </div>                        </div>                    </div>';c("body").append(h);var g=d.getDialogPosition();c(".compare-overlay").show();c(".compare-dialog").css({left:g,display:"block"});d.showCountDown();d.dialogEvent();d.compareEvent();d.closeDialogEvent();d.setSubmitBtnStatus(true)}},getItemHtmlH5:function(f,h,d){var j=a.getItemDate(f,h);var e=d%2==0?"bg":"";var g='                <div class="quote-item '+e+'">                    <div class="start-date">'+j.startDate+j.startCity+"出发<br/> "+j.createTime+'的报价单                        <div class="fc5 count-down-wrap" data-expire-time="'+j.expireTime+'">有效期剩余: <span class="count-down"></span></div>                    <div class="fc5 price">￥'+j.price+'</div>                    </div>                    <div class="select" data-version-id="'+j.versionId+'" ><i class="c-i icon-super-detail-radio"></i>添加对比</div>                </div>';return g},getDialogPosition:function(){var d=c(b).width();var f=c(".compare-dialog").width();var e=(d-f)/2;return e},compareEvent:function(){var d=this;c(".js_primary_btn").on("click",function(){d.compareHandleH5()})},compareHandleH5:function(){if(this.versionId.length==0){return}var f=this.versionId.join(",");var e="";if(this.isSuper){e="quotecompare_gourl_ra"}else{e="quotecompare_gourl_ea"}var d="//s.shijiebang.com/order/quote/showcompare/?qids="+f+"&rf="+e;b.open(d)},closeDialogEvent:function(){c(".js_cancel_btn,.compare-dialog span.close").on("click",function(){c(".mod-overlay, .compare-dialog").hide()})}};a.init()})(jQuery,window);